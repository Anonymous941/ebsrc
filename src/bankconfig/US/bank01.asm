.SEGMENT "BANK01"
.INCLUDE "common.asm"
.INCLUDE "config.asm"
.INCLUDE "structs.asm"

.INCLUDE "unknown/C10000.asm"

.INCLUDE "unknown/C10004.asm"

.INCLUDE "text/enable_blinking_triangle.asm"

.INCLUDE "text/clear_blinking_prompt.asm"

.INCLUDE "text/get_blinking_prompt.asm"

.INCLUDE "unknown/C10048.asm"

.INCLUDE "unknown/C1004E.asm"

.INCLUDE "text/get_window_focus.asm"

.INCLUDE "text/set_window_focus.asm"

.INCLUDE "text/close_focus_window.asm"

.INCLUDE "unknown/C1008E.asm"

.INCLUDE "text/lock_input.asm"

.INCLUDE "text/unlock_input.asm"

.INCLUDE "unknown/C100D6.asm"

.INCLUDE "unknown/C100FE.asm"

.INCLUDE "text/ccs/halt.asm"

.INCLUDE "unknown/C102D0.asm"

.INCLUDE "text/get_active_window_address.asm"

.INCLUDE "text/transfer_active_mem_storage.asm"

.INCLUDE "text/transfer_storage_mem_active.asm"

.INCLUDE "text/get_argument_memory.asm"

.INCLUDE "text/get_secondary_memory.asm"

.INCLUDE "text/get_working_memory.asm"

.INCLUDE "text/increment_secondary_memory.asm"

.INCLUDE "text/set_secondary_memory.asm"

.INCLUDE "text/set_working_memory.asm"

.INCLUDE "text/set_argument_memory.asm"

.INCLUDE "text/get_text_x.asm"

.INCLUDE "text/get_text_y.asm"

.INCLUDE "text/create_window.asm"

.INCLUDE "unknown/C1078D.asm"

.INCLUDE "unknown/C107AF.asm"

.INCLUDE "text/show_hppp_windows.asm"

.INCLUDE "text/hide_hppp_windows.asm"

.INCLUDE "unknown/C10A85.asm"

.INCLUDE "unknown/C10BA1.asm"

.INCLUDE "text/ccs/clear_line.asm"

.INCLUDE "unknown/C1008E_redirect.asm"

.INCLUDE "unknown/C10BFE.asm"

REDIRECT_C1138D: ;$C10C49
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(UNKNOWN_C1138D)
	RTL

REDIRECT_C117E2: ;$C10C4F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(UNKNOWN_C117E2)
	RTL

UNKNOWN_C10C55: ;$C10C55
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA $20
	STA $06
	LDA $22
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(UNKNOWN_C10D7C)
	PLD
	RTL

REDIRECT_C438A5: ;$C10C72
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL UNKNOWN_C438A5
	RTL

REDIRECT_C438B1: ;$C10C79
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL PRINT_NEWLINE
	RTL

REDIRECT_C10BA1: ;$C10C80
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(UNKNOWN_C10BA1)
	RTL

REDIRECT_C10CB6: ;$C10C86
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(PRINT_LETTER)
	RTL

REDIRECT_DISPLAY_CONFIG_MENU_TITLE: ;$C10C8C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	STA $12
	LDA $22
	STA $06
	LDA $24
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $12
	JSR a:.LOWORD(DISPLAY_CONFIG_MENU_TITLE)
	PLD
	RTL

REDIRECT_C437B8: ;$C10CAF
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL UNKNOWN_C437B8
	RTL

.INCLUDE "text/print_letter.asm"

UNKNOWN_C10D60: ;$C10D60
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(UNKNOWN_C10BA1)
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	ASL
	TAX
	LDA .LOWORD(WINDOW_EXISTENCE_TABLE),X
	CMP .LOWORD(UNKNOWN_7E88E2)
	BEQ @UNKNOWN0
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E9623)
@UNKNOWN0:
	REP #PROC_FLAGS::ACCUM8
	RTS

UNKNOWN_C10D7C: ;$C10D7C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDA $26
	STA $06
	LDA $28
	STA $08
	LDA $06
	STA $14
	LDA $08
	STA $16
	LDX #.LOWORD(UNKNOWN_7E8960)
	LDA #$0001
	STA $12
	BRA @UNKNOWN1
@UNKNOWN0:
	JSL MODULUS32
	SEP #PROC_FLAGS::ACCUM8
	LDA $06
	STA a:.LOWORD(RAM),X
	DEX
	REP #PROC_FLAGS::ACCUM8
	LDA $0E
	STA $0A
	LDA $10
	STA $0C
	LDA $14
	STA $06
	LDA $16
	STA $08
	JSL DIVISION32S_DIVISOR_POSITIVE
	LDA $06
	STA $14
	LDA $08
	STA $16
	LDA $12
	INC
	STA $12
@UNKNOWN1:
	LDA #$000A
	STA $0A
	LDA #$0000
	STA $0C
	LDA $0A
	STA $0E
	LDA $0C
	STA $10
	LDA $06
	CMP $0A
	LDA $08
	SBC $0C
	BCS @UNKNOWN0
	SEP #PROC_FLAGS::ACCUM8
	LDA $06
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	LDA $12
	PLD
	RTS

PRINT_NUMBER: ;$C10DF6
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDA $26
	STA $0A
	LDA $28
	STA $0C
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	CMP #$FFFF
	BNE @UNKNOWN0
	JMP a:.LOWORD(@UNKNOWN5)
@UNKNOWN0:
	LDA #$967F
	STA $06
	LDA #$FFFF
	STA $08
	LDA $06
	CMP $0A
	LDA $08
	SBC $0C
	BCS @UNKNOWN1
	LDA $06
	STA $0A
	LDA $08
	STA $0C
@UNKNOWN1:
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	ASL
	TAX
	LDA .LOWORD(WINDOW_EXISTENCE_TABLE),X
	LDY #.SIZEOF(window_stats)
	JSL MULT168
	CLC
	ADC #.LOWORD(WINDOW_STATS_TABLE)
	STA $16
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(UNKNOWN_C10D7C)
	TAX
	STX $14
	STX $02
	LDA #$0007
	SEC
	SBC $02
	CLC
	ADC #.LOWORD(UNKNOWN_7E895A)
	TAY
	STY $12
	LDA $16
	TAX
	LDA a:.LOWORD(RAM)+18,X
	AND #$00FF
	STA $16
	AND #$0080
	BNE @UNKNOWN4
	LDA $16
	AND #$000F
	INC
	LDX $14
	STX $02
	CMP $02
	BCS @UNKNOWN2
	TXA
@UNKNOWN2:
	STX $02
	SEC
	SBC $02
	STA $04
	ASL
	ADC $04
	ASL
	JSL UNKNOWN_C43D95
	BRA @UNKNOWN4
@UNKNOWN3:
	LDY $12
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	CLC
	ADC #$0060
	INY
	STY $12
	JSR a:.LOWORD(PRINT_LETTER)
	LDX $14
	DEX
	STX $14
@UNKNOWN4:
	LDX $14
	BNE @UNKNOWN3
@UNKNOWN5:
	PLD
	RTS

UNKNOWN_C10EB4: ;$C10EB4
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STA $0E
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	CMP #$FFFF
	BEQ @UNKNOWN0
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	ASL
	TAX
	LDA .LOWORD(WINDOW_EXISTENCE_TABLE),X
	LDY #.SIZEOF(window_stats)
	JSL MULT168
	TAX
	LDA $0E
	SEP #PROC_FLAGS::ACCUM8
	STA .LOWORD(WINDOW_STATS_TABLE)+window_stats::text_width,X
@UNKNOWN0:
	REP #PROC_FLAGS::ACCUM8
	PLD
	RTS

UNKNOWN_C10EE3: ;$C10EE3
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	CMP #$0001
	BEQ @UNKNOWN0
	CMP #$0002
	BEQ @UNKNOWN1
	BRA @UNKNOWN2
@UNKNOWN0:
	JSL UNKNOWN_C12BF3
	BRA @UNKNOWN2
@UNKNOWN1:
	JSL UNKNOWN_C12C36
@UNKNOWN2:
	RTS

DISPLAY_CONFIG_MENU_TITLE: ;$C10EFC
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	TAX
	STX $12
	LDA $22
	STA $06
	LDA $24
	STA $08
	LDA .LOWORD(UNKNOWN_7E5E73)+1
	AND #$00FF
	BEQ @UNKNOWN1
	LDA $06
	STA $0E
	LDA $08
	STA $10
	TXA
	JSL UNKNOWN_C43EF8
	BRA @UNKNOWN1
@UNKNOWN0:
	DEX
	STX $12
	AND #$00FF
	INC $06
	JSR a:.LOWORD(PRINT_LETTER)
@UNKNOWN1:
	LDA [$06]
	AND #$00FF
	BEQ @UNKNOWN2
	LDX $12
	BNE @UNKNOWN0
@UNKNOWN2:
	PLD
	RTS

UNKNOWN_C10F40: ;$C10F40
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	CMP #$FFFF
	BEQ @UNKNOWN3
	ASL
	TAX
	LDA .LOWORD(WINDOW_EXISTENCE_TABLE),X
	LDY #.SIZEOF(window_stats)
	JSL MULT168
	CLC
	ADC #.LOWORD(WINDOW_STATS_TABLE)
	TAX
	STX $10
	LDY a:.LOWORD(RAM)+53,X
	STY $0E
	LDY a:.LOWORD(RAM)+12,X
	LDA a:.LOWORD(RAM)+10,X
	JSL MULT16
	STA $02
	BRA @UNKNOWN2
@UNKNOWN0:
	LDY $0E
	LDA a:.LOWORD(RAM),Y
	BEQ @UNKNOWN1
	JSL UNKNOWN_C44E4D
@UNKNOWN1:
	LDA #$0040
	LDY $0E
	STA a:.LOWORD(RAM),Y
	INY
	INY
	STY $0E
	LDA $02
	DEC
	STA $02
@UNKNOWN2:
	LDA $02
	BNE @UNKNOWN0
	JSL UNKNOWN_C45E96
	LDX $10
	STZ a:.LOWORD(RAM)+16,X
	STZ a:.LOWORD(RAM)+14,X
@UNKNOWN3:
	PLD
	RTS

UNKNOWN_C10FA3: ;$C10FA3
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	JSR a:.LOWORD(UNKNOWN_C10F40)
	RTS

CHANGE_CURRENT_WINDOW_FONT: ;$C10FAC
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STA $0E
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	CMP #$FFFF
	BEQ CHANGE_CURRENT_WINDOW_FONT_RETURN
	LDA $0E
	CMP #$0030
	BNE CHANGE_CURRENT_WINDOW_FONT_LOAD_MR_SATURN_FONT_ID
	LDA #$0000
	STA $0E
	BRA CHANGE_CURRENT_WINDOW_FONT_SKIP_MR_SATURN_FONT_ID
CHANGE_CURRENT_WINDOW_FONT_LOAD_MR_SATURN_FONT_ID:
	LDA #$0001
	STA $0E
CHANGE_CURRENT_WINDOW_FONT_SKIP_MR_SATURN_FONT_ID:
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	ASL
	TAX
	LDA .LOWORD(WINDOW_EXISTENCE_TABLE),X
	LDY #.SIZEOF(window_stats)
	JSL MULT168
	TAX
	LDA $0E
	STA .LOWORD(WINDOW_STATS_TABLE)+21,X
CHANGE_CURRENT_WINDOW_FONT_RETURN:
	PLD
	RTS

UNKNOWN_C10FEA: ;$C10FEA
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STA $0E
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	CMP #$FFFF
	BEQ @UNKNOWN0
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	ASL
	TAX
	LDA .LOWORD(WINDOW_EXISTENCE_TABLE),X
	LDY #.SIZEOF(window_stats)
	JSL MULT168
	TAX
	LDY #$0400
	LDA $0E
	JSL MULT16
	STA .LOWORD(WINDOW_STATS_TABLE)+19,X
@UNKNOWN0:
	PLD
	RTS

.INCLUDE "text/num_select_prompt.asm"

UNKNOWN_C1134B: ;$C1134B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(SHOW_HPPP_WINDOWS)
	JSR a:.LOWORD(UNKNOWN_C1AA18)
	RTS

UNKNOWN_C11354: ;$C11354
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDA #$0000
	STA $0E
	BRA @UNKNOWN2
@UNKNOWN0:
	LDY #.SIZEOF(u89D4_entry)
	JSL MULT168
	TAX
	LDA .LOWORD(UNKNOWN_7E89D4),X
	BNE @UNKNOWN1
	LDA $0E
	BRA @UNKNOWN3
@UNKNOWN1:
	LDA $0E
	INC
	STA $0E
@UNKNOWN2:
	CMP #NUM_89D4_ENTRIES
	BNE @UNKNOWN0
	LDA #$FFFF
@UNKNOWN3:
	PLD
	RTS

UNKNOWN_C11383: ;$C11383
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	JSL UNKNOWN_C3E7E3
	RTS

UNKNOWN_C1138D: ;$C1138D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	CMP #$FFFF
	BNE @UNKNOWN0
	LDA #$0000
	BRA @UNKNOWN3
@UNKNOWN0:
	LDX #$0001
	STX $0E
	LDY #.SIZEOF(u89D4_entry)
	JSL MULT168
	CLC
	ADC #.LOWORD(UNKNOWN_7E89D4)
	BRA @UNKNOWN2
@UNKNOWN1:
	LDY #.SIZEOF(u89D4_entry)
	JSL MULT168
	CLC
	ADC #.LOWORD(UNKNOWN_7E89D4)
	LDX $0E
	INX
	STX $0E
@UNKNOWN2:
	TAX
	LDA a:.LOWORD(RAM)+2,X
	CMP #$FFFF
	BNE @UNKNOWN1
	LDX $0E
	TXA
@UNKNOWN3:
	PLD
	RTS

UNKNOWN_C113D1: ;$C113D1
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA $24
	STA $0A
	LDA $26
	STA $0C
	LDA $20
	STA $06
	LDA $22
	STA $08
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	CMP #$FFFF
	BNE @UNKNOWN0
	LDA #$95F5
	JMP a:.LOWORD(@UNKNOWN5)
@UNKNOWN0:
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	ASL
	TAX
	LDA .LOWORD(WINDOW_EXISTENCE_TABLE),X
	LDY #.SIZEOF(window_stats)
	JSL MULT168
	CLC
	ADC #.LOWORD(WINDOW_STATS_TABLE)
	STA $02
	JSR a:.LOWORD(UNKNOWN_C11354)
	STA $10
	CMP #$FFFF
	BNE @UNKNOWN1
	LDA #$95F5
	JMP a:.LOWORD(@UNKNOWN5)
@UNKNOWN1:
	LDY #.SIZEOF(u89D4_entry)
	JSL MULT168
	CLC
	ADC #.LOWORD(UNKNOWN_7E89D4)
	TAY
	STY $0E
	LDA $02
	CLC
	ADC #$002B
	TAX
	LDA a:.LOWORD(RAM),X
	CMP #$FFFF
	BNE @UNKNOWN2
	LDA #$FFFF
	STA a:.LOWORD(RAM)+4,Y
	LDA $10
	STA a:.LOWORD(RAM),X
	BRA @UNKNOWN3
@UNKNOWN2:
	LDA $02
	CLC
	ADC #.SIZEOF(u89D4_entry)
	TAX
	LDA a:.LOWORD(RAM),X
	STA a:.LOWORD(RAM)+4,Y
	LDA a:.LOWORD(RAM),X
	LDY #.SIZEOF(u89D4_entry)
	JSL MULT168
	TAX
	LDA $10
	STA .LOWORD(UNKNOWN_7E89D4)+2,X
@UNKNOWN3:
	LDX $02
	STA a:.LOWORD(RAM)+.SIZEOF(u89D4_entry),X
	LDA #$FFFF
	LDY $0E
	STA a:.LOWORD(RAM)+2,Y
	LDA #$0001
	STA a:.LOWORD(RAM),Y
	TYA
	CLC
	ADC #$000F
	TAY
	LDA $0A
	STA a:.LOWORD(RAM),Y
	LDA $0C
	STA a:.LOWORD(RAM)+2,Y
	LDA #$0001
	LDY $0E
	STA a:.LOWORD(RAM)+6,Y
	SEP #PROC_FLAGS::ACCUM8
	STA a:.LOWORD(RAM)+14,Y
	REP #PROC_FLAGS::ACCUM8
	TYA
	CLC
	ADC #$0013
	TAX
@UNKNOWN4:
	SEP #PROC_FLAGS::ACCUM8
	LDA [$06]
	STA a:.LOWORD(RAM),X
	INX
	LDA [$06]
	REP #PROC_FLAGS::ACCUM8
	INC $06
	AND #$00FF
	BNE @UNKNOWN4
	TYA
@UNKNOWN5:
	PLD
	RTS

UNKNOWN_C114B1: ;$C114B1
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE2
	TCD
	PLA
	STX $02
	TAY
	STY $1C
	LDA $30
	STA $06
	LDA $32
	STA $08
	LDA $06
	STA $18
	LDA $08
	STA $1A
	LDA $2C
	STA $0A
	LDA $2E
	STA $0C
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $18
	STA $06
	LDA $1A
	STA $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSR a:.LOWORD(UNKNOWN_C113D1)
	STA $16
	CLC
	ADC #$002C
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(UNKNOWN_7E5E71)
	AND #$00FF
	BEQ @UNKNOWN0
	LDY $1C
	TYA
	SEP #PROC_FLAGS::ACCUM8
	AND #$0007
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	TYA
	LSR
	LSR
	LSR
	TAY
	STY $1C
@UNKNOWN0:
	LDY $1C
	LDA $16
	TAX
	TYA
	STA a:.LOWORD(RAM)+8,X
	LDA $16
	TAX
	LDA $02
	STA a:.LOWORD(RAM)+10,X
	LDA $16
	PLD
	RTS

UNKNOWN_C1153B: ;$C1153B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE6
	TCD
	PLA
	STX $02
	STA $04
	LDA $2C
	STA $06
	LDA $2E
	STA $08
	LDA $06
	STA $16
	LDA $08
	STA $18
	LDA $28
	STA $0A
	LDA $2A
	STA $0C
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $16
	STA $06
	LDA $18
	STA $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	TYX
	LDA $02
	JSR a:.LOWORD(UNKNOWN_C114B1)
	TAX
	LDA $04
	STA a:.LOWORD(RAM)+12,X
	LDA #$0002
	STA a:.LOWORD(RAM),X
	TXA
	PLD
	RTS

UNKNOWN_C11596: ;$C11596
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE4
	TCD
	PLA
	STA $1A
	SEP #PROC_FLAGS::ACCUM8
	LDA $32
	STA $00
	REP #PROC_FLAGS::ACCUM8
	LDA $2E
	STA $06
	LDA $30
	STA $08
	LDA $06
	STA $16
	LDA $08
	STA $18
	LDA $2A
	STA $0A
	LDA $2C
	STA $0C
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $16
	STA $06
	LDA $18
	STA $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	LDA $1A
	JSR a:.LOWORD(UNKNOWN_C1153B)
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA $00
	STA a:.LOWORD(RAM)+14,X
	REP #PROC_FLAGS::ACCUM8
	TXA
	PLD
	RTS

UNKNOWN_C115F4: ;$C115F4
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE8
	TCD
	PLA
	TAY
	STY $16
	LDA $2A
	STA $0A
	LDA $2C
	STA $0C
	LDA $26
	STA $06
	LDA $28
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSR a:.LOWORD(UNKNOWN_C113D1)
	TAX
	LDY $16
	TYA
	STA a:.LOWORD(RAM)+12,X
	LDA #$0002
	STA a:.LOWORD(RAM),X
	TXA
	PLD
	RTS

PRINT_MENU_ITEMS: ;$C1163C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE9
	TCD
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	CMP #$FFFF
	BNE @UNKNOWN0
	JMP a:.LOWORD(@UNKNOWN13)
@UNKNOWN0:
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	ASL
	TAX
	LDA .LOWORD(WINDOW_EXISTENCE_TABLE),X
	LDY #.SIZEOF(window_stats)
	JSL MULT168
	CLC
	ADC #.LOWORD(WINDOW_STATS_TABLE)
	STA $04
	LDX $04
	LDA a:.LOWORD(RAM)+43,X
	CMP #$FFFF
	BNE @UNKNOWN1
	SEP #PROC_FLAGS::ACCUM8
	LDA #$00FF
	STA .LOWORD(UNKNOWN_7E968C)
	JMP a:.LOWORD(@UNKNOWN13)
@UNKNOWN1:
	LDY #$002D
	JSL MULT168
	.A16
	CLC
	ADC #$89D4
	STA $02
	JSL SET_9622_ONE
@UNKNOWN2:
	LDX $02
	LDA a:.LOWORD(RAM)+6,X
	LDX $04
	CMP a:.LOWORD(RAM)+51,X
	BEQ @UNKNOWN3
	CMP #$0000
	BEQ @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN12)
@UNKNOWN3:
	LDA $02
	JSL UNKNOWN_C43DDB
	LDX $02
	LDA a:.LOWORD(RAM)+6,X
	BEQ @UNKNOWN4
	JMP a:.LOWORD(@UNKNOWN11)
@UNKNOWN4:
	LDA #$0000
	JSR a:.LOWORD(UNKNOWN_C10FEA)
	LDA #$014F
	JSL UNKNOWN_C43F77
	JSL UNKNOWN_C43CAA
	LDA #$0000
	JSR a:.LOWORD(UNKNOWN_C10FEA)
	LDA $04
	CLC
	ADC #$003C
	TAY
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	BNE @UNKNOWN5
	JMP a:.LOWORD(@UNKNOWN11)
@UNKNOWN5:
	LDX #$9C9F
	BRA @UNKNOWN7
@UNKNOWN6:
	SEP #PROC_FLAGS::ACCUM8
	LDA $16
	STA a:.LOWORD(RAM),X
	INY
	INX
@UNKNOWN7:
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),Y
	STA $16
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	BEQ @UNKNOWN8
	AND #$00FF
	CMP #$0058
	BNE @UNKNOWN6
@UNKNOWN8:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0058
	STA a:.LOWORD(RAM),X
	INX
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	CLC
	ADC #$0033
	TAY
	STY $14
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),Y
	CLC
	ADC #$0060
	STA a:.LOWORD(RAM),X
	INX
	LDA #$0059
	STA a:.LOWORD(RAM),X
	INX
	LDA #$0000
	STA a:.LOWORD(RAM),X
	JSL UNKNOWN_C43CAA
	LDA #$009F
	STZ $0685
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$FFFF
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	JSL READ_NAME
	JSL UNKNOWN_C43CAA
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSL STRLEN
	STA $12
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $12
	DEC
	DEC
	JSR a:.LOWORD(DISPLAY_CONFIG_MENU_TITLE)
	LDY $14
	LDA a:.LOWORD(RAM),Y
	STA $14
	LDX $04
	LDA a:.LOWORD(RAM)+45,X
	LDY #.SIZEOF(u89D4_entry)
	JSL MULT168
	TAX
	LDA .LOWORD(UNKNOWN_7E89D4)+4,X
	LDY #.SIZEOF(u89D4_entry)
	JSL MULT168
	TAX
	LDA $14
	CMP .LOWORD(UNKNOWN_7E89D4)+6,X
	BNE @UNKNOWN9
	LDA #$0061
	BRA @UNKNOWN10
@UNKNOWN9:
	CLC
	ADC #$0061
@UNKNOWN10:
	JSR a:.LOWORD(PRINT_LETTER)
	LDA #$0059
	JSR a:.LOWORD(PRINT_LETTER)
	BRA @UNKNOWN12
@UNKNOWN11:
	LDA $02
	CLC
	ADC #$0013
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$FFFF
	JSR a:.LOWORD(DISPLAY_CONFIG_MENU_TITLE)
@UNKNOWN12:
	LDX $02
	LDA a:.LOWORD(RAM)+2,X
	CMP #$FFFF
	BEQ @UNKNOWN13
	LDY #$002D
	JSL MULT168
	CLC
	ADC #$89D4
	STA $02
	JMP a:.LOWORD(@UNKNOWN2)
@UNKNOWN13:
	REP #PROC_FLAGS::ACCUM8
	PLD
	RTS

UNKNOWN_C117E2: ;$C117E2
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TXY
	TAX
	LDA #$0000
	STA $0E
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA $0E
	INC
	STA $0E
	DEY
	INX
@UNKNOWN1:
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	BEQ @UNKNOWN2
	CPY #$0000
	BNE @UNKNOWN0
@UNKNOWN2:
	LDA $0E
	PLD
	RTS

UNKNOWN_C1180D: ;$C1180D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	TXY
	LDX #$0000
	JSL UNKNOWN_C451FA
	JSR a:.LOWORD(PRINT_MENU_ITEMS)
	RTS

UNKNOWN_C1181B: ;$C1181B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STY $02
	TXY
	LDX #$0000
	JSL UNKNOWN_C451FA
	LDA $02
	CMP #$FFFF
	BEQ @UNKNOWN2
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	ASL
	TAX
	LDA .LOWORD(WINDOW_EXISTENCE_TABLE),X
	LDY #.SIZEOF(window_stats)
	JSL MULT168
	CLC
	ADC #.LOWORD(WINDOW_STATS_TABLE)
	TAY
	STY $0E
	LDA $02
	STA a:.LOWORD(RAM)+47,Y
	LDA a:.LOWORD(RAM)+43,Y
	LDY #$002D
	JSL MULT168
	CLC
	ADC #$89D4
	TAX
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA $02
	DEC
	STA $02
	LDA a:.LOWORD(RAM)+2,X
	LDY #$002D
	JSL MULT168
	CLC
	ADC #$89D4
	TAX
@UNKNOWN1:
	LDA $02
	BNE @UNKNOWN0
	LDA a:.LOWORD(RAM)+6,X
	LDY $0E
	STA a:.LOWORD(RAM)+51,Y
@UNKNOWN2:
	JSR a:.LOWORD(PRINT_MENU_ITEMS)
	PLD
	RTS

UNKNOWN_C11887: ;$C11887
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	STA $10
	CMP #$FFFF
	BEQ @UNKNOWN2
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	ASL
	TAX
	LDA .LOWORD(WINDOW_EXISTENCE_TABLE),X
	LDY #.SIZEOF(window_stats)
	JSL MULT168
	CLC
	ADC #.LOWORD(WINDOW_STATS_TABLE)
	TAY
	STY $0E
	LDA $10
	STA a:.LOWORD(RAM)+47,Y
	LDA a:.LOWORD(RAM)+43,Y
	LDY #$002D
	JSL MULT168
	CLC
	ADC #$89D4
	TAX
	BRA @UNKNOWN1
@UNKNOWN0:
	DEC
	STA $10
	LDA a:.LOWORD(RAM)+2,X
	LDY #$002D
	JSL MULT168
	CLC
	ADC #$89D4
	TAX
@UNKNOWN1:
	LDA $10
	BNE @UNKNOWN0
	LDA a:.LOWORD(RAM)+6,X
	LDY $0E
	STA a:.LOWORD(RAM)+51,Y
@UNKNOWN2:
	JSR a:.LOWORD(PRINT_MENU_ITEMS)
	PLD
	RTS

MOVE_CURSOR: ;$C118E7
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE2
	TCD
	PLA
	STY $04
	STX $1C
	STA $1A
	LDY $32
	STY $18
	LDX $30
	STX $16
	LDA $2E
	STA $14
	LDA $2C
	STA $02
	STA $0E
	LDA #$FFFF
	STA $10
	LDY $04
	LDX $1C
	LDA $1A
	JSL UNKNOWN_C20B65
	TAX
	STX $12
	CPX #$FFFF
	BNE @UNKNOWN1
	LDA $02
	STA $0E
	LDA #$FFFF
	STA $10
	LDY $04
	LDX $18
	LDA $16
	JSL UNKNOWN_C20B65
	TAX
	STX $12
	LDA $04
	BNE @UNKNOWN0
	TXA
	AND #$FF00
	XBA
	AND #$00FF
	CMP $1C
	BEQ @UNKNOWN1
	LDX #$FFFF
	STX $12
	BRA @UNKNOWN1
@UNKNOWN0:
	TXA
	AND #$00FF
	CMP $1A
	BEQ @UNKNOWN1
	LDX #$FFFF
	STX $12
@UNKNOWN1:
	CPX #$FFFF
	BEQ @UNKNOWN2
	LDA $14
	JSL PLAY_SOUND
@UNKNOWN2:
	LDX $12
	TXA
	PLD
	RTL

.INCLUDE "text/selection_menu.asm"

UNKNOWN_C11F5A: ;$C11F5A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF2
	TCD
	LDA $1C
	STA $06
	LDA $1E
	STA $08
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	ASL
	TAX
	LDA .LOWORD(WINDOW_EXISTENCE_TABLE),X
	LDY #.SIZEOF(window_stats)
	JSL MULT168
	CLC
	ADC #$8687
	TAY
	LDA $06
	STA a:.LOWORD(RAM),Y
	LDA $08
	STA a:.LOWORD(RAM)+2,Y
	PLD
	RTS

UNKNOWN_C11F8A: ;$C11F8A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF2
	TCD
	LDA #$0000
	STA $06
	LDA #$0000
	STA $08
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	ASL
	TAX
	LDA .LOWORD(WINDOW_EXISTENCE_TABLE),X
	LDY #.SIZEOF(window_stats)
	JSL MULT168
	CLC
	ADC #.LOWORD(WINDOW_STATS_TABLE) + 55
	TAY
	LDA $06
	STA a:.LOWORD(RAM),Y
	LDA $08
	STA a:.LOWORD(RAM)+2,Y
	PLD
	RTS

UNKNOWN_C11FBC: ;$C11FBC
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	TXY
	TAX
	BNE @UNKNOWN0
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(UNKNOWN_7EAD5A),Y
	BRA @UNKNOWN1
@UNKNOWN0:
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(UNKNOWN_7EAD6A),Y
@UNKNOWN1:
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	RTS

UNKNOWN_C11FD4: ;$C11FD4
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF2
	TCD
	PLA
	STX $02
	TAX
	CPX #$0001
	BNE @UNKNOWN0
	TYA
	STA $04
	ASL
	ADC $04
	ASL
	ASL
	TAX
	INX
	INX
	LDA f:BATTLE_ACTION_TABLE,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN0
	LDA $02
	JSL UNKNOWN_C2FAD2
	CMP #$0000
	BNE @UNKNOWN0
	LDA #$0000
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA #$0001
@UNKNOWN1:
	PLD
	RTS

UNKNOWN_C12012: ;$C12012
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEA
	TCD
	PLA
	STY $14
	STX $12
	STA $10
	BNE @UNKNOWN0
	LDA .LOWORD(UNKNOWN_7EAD56)
	STA $0E
	LDA #.LOWORD(UNKNOWN_7EAD5A)
	STA $04
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA .LOWORD(UNKNOWN_7EAD58)
	STA $0E
	LDA #.LOWORD(UNKNOWN_7EAD6A)
	STA $04
@UNKNOWN1:
	LDA #$0000
	STA $02
	BRA @UNKNOWN4
@UNKNOWN2:
	LDX $04
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	INC $04
	CMP $12
	BCC @UNKNOWN3
	BEQ @UNKNOWN3
	LDY $14
	LDX $02
	LDA $10
	JSR a:.LOWORD(UNKNOWN_C11FD4)
	CMP #$0000
	BEQ @UNKNOWN3
	LDA $02
	BRA @UNKNOWN5
@UNKNOWN3:
	INC $02
@UNKNOWN4:
	LDA $02
	CMP $0E
	BCC @UNKNOWN2
	LDA #$FFFF
@UNKNOWN5:
	PLD
	RTS

UNKNOWN_C12070: ;$C12070
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEA
	TCD
	PLA
	STY $14
	STX $12
	STA $10
	BNE @UNKNOWN0
	LDX .LOWORD(UNKNOWN_7EAD56)
	TXA
	DEC
	CLC
	ADC #.LOWORD(UNKNOWN_7EAD5A)
	STA $04
	BRA @UNKNOWN1
@UNKNOWN0:
	LDX .LOWORD(UNKNOWN_7EAD58)
	TXA
	DEC
	CLC
	ADC #.LOWORD(UNKNOWN_7EAD6A)
	STA $04
@UNKNOWN1:
	TXA
	DEC
	STA $02
	BRA @UNKNOWN4
@UNKNOWN2:
	LDX $04
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	STA $0E
	LDA $04
	DEC
	STA $04
	LDA $0E
	CMP $12
	BCS @UNKNOWN3
	LDY $14
	LDX $02
	LDA $10
	JSR a:.LOWORD(UNKNOWN_C11FD4)
	CMP #$0000
	BEQ @UNKNOWN3
	LDA $02
	BRA @UNKNOWN5
@UNKNOWN3:
	LDA $02
	DEC
	STA $02
@UNKNOWN4:
	LDA $02
	INC
	BNE @UNKNOWN2
	LDA #$FFFF
@UNKNOWN5:
	PLD
	RTS

UNKNOWN_C120D6: ;$C120D6
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE8
	TCD
	PLA
	STX $16
	TAY
	STY $14
	JSL SET_9622_ONE
	LDA #$0031
	JSR a:.LOWORD(CREATE_WINDOW)
	LOADPTR BATTLE_TO_TEXT, $0E
	LDA #$0003
	JSR a:.LOWORD(DISPLAY_CONFIG_MENU_TITLE)
	LDX $16
	CPX #$FFFF
	BNE @UNKNOWN0
	JMP a:.LOWORD(@UNKNOWN3)
@UNKNOWN0:
	STX $02
	LDY $14
	TYA
	LDY .LOWORD(UNKNOWN_7EAD56)
	JSL MULT16
	CLC
	ADC $02
	INC
	JSL UNKNOWN_C23E8A
	LDA #$0000
	JSL UNKNOWN_C3E75D
	JSR a:.LOWORD(RETURN_BATTLE_ATTACKER_ADDRESS)
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$00FF
	JSR a:.LOWORD(DISPLAY_CONFIG_MENU_TITLE)
	LDY $14
	BEQ @UNKNOWN1
	LDX $16
	LDA .LOWORD(UNKNOWN_7EAD82),X
	AND #$00FF
	LDY #$004E
	JSL MULT168
	CLC
	ADC #$9FC9
	BRA @UNKNOWN2
@UNKNOWN1:
	LDX $16
	LDA .LOWORD(UNKNOWN_7EAD7A),X
	AND #$00FF
	LDY #$004E
	JSL MULT168
	CLC
	ADC #$9FC9
@UNKNOWN2:
	TAY
	STY $12
	LDX #$0000
	LDA #$0011
	JSL UNKNOWN_C438A5
	LDX #$0000
	LDY $12
	TYA
	JSL UNKNOWN_C223D9
	JSL UNKNOWN_C43F77
	BRA @UNKNOWN6
@UNKNOWN3:
	LDY $14
	BEQ @UNKNOWN4
	LOADPTR BATTLE_BACK_ROW_TEXT, $06
	BRA @UNKNOWN5
@UNKNOWN4:
	LOADPTR BATTLE_FRONT_ROW_TEXT, $06
@UNKNOWN5:
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$000D
	JSR a:.LOWORD(DISPLAY_CONFIG_MENU_TITLE)
@UNKNOWN6:
	JSL CLEAR_9622
	PLD
	RTS

UNKNOWN_C121B8: ;$C121B8
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE2
	TCD
	PLA
	STX $1C
	STA $1A
	STZ $18
	STZ $16
	LDA .LOWORD(UNKNOWN_7EAD56)
	BEQ @UNKNOWN0
	LDX #$0000
	BRA @UNKNOWN1
@UNKNOWN0:
	LDX #$0001
@UNKNOWN1:
	STX $04
	LDA .LOWORD(GIYGAS_PHASE)
	BEQ @UNKNOWN2
	LDA #$0001
	STA $04
@UNKNOWN2:
	LDX $16
	LDA $04
	JSR a:.LOWORD(UNKNOWN_C11FBC)
	STA $14
	LDX $16
	LDA $04
	JSL ENEMY_FLASHING_ON
	LDA $18
	BNE @UNKNOWN3
	LDX $16
	LDA $04
	JSR a:.LOWORD(UNKNOWN_C120D6)
@UNKNOWN3:
	INC $18
	JSL UNKNOWN_C12DD5
@UNKNOWN4:
	JSL UNKNOWN_C12E42
	LDA a:.LOWORD(PAD_1_PRESS)
	AND #PAD::UP
	BEQ @UNKNOWN5
	LDA $04
	BNE @UNKNOWN5
	LDA .LOWORD(UNKNOWN_7EAD58)
	BEQ @UNKNOWN5
	JMP a:.LOWORD(@UNKNOWN16)
@UNKNOWN5:
	LDA a:.LOWORD(PAD_1_PRESS)
	AND #PAD::DOWN
	BEQ @UNKNOWN6
	LDA $04
	CMP #$0001
	BNE @UNKNOWN6
	LDA .LOWORD(UNKNOWN_7EAD56)
	BEQ @UNKNOWN6
	JMP a:.LOWORD(@UNKNOWN16)
@UNKNOWN6:
	LDA #$0002
	STA $12
	LDA a:.LOWORD(PAD_1_PRESS)
	AND #PAD::LEFT
	BEQ @UNKNOWN9
	LDA $04
	STA $02
	LDY $1C
	LDX $14
	LDA $02
	JSR a:.LOWORD(UNKNOWN_C12070)
	TAX
	STX $10
	CPX #$FFFF
	BEQ @UNKNOWN7
	JMP a:.LOWORD(@UNKNOWN17)
@UNKNOWN7:
	LDA $04
	EOR #$0001
	STA $02
	LDY $1C
	LDX $14
	LDA $02
	JSR a:.LOWORD(UNKNOWN_C12070)
	TAX
	STX $10
	CPX #$FFFF
	BNE @UNKNOWN8
	JMP a:.LOWORD(@UNKNOWN2)
@UNKNOWN8:
	JMP a:.LOWORD(@UNKNOWN17)
@UNKNOWN9:
	LDA a:.LOWORD(PAD_1_PRESS)
	AND #PAD::RIGHT
	BEQ @UNKNOWN12
	LDA $04
	STA $02
	LDY $1C
	LDX $14
	LDA $02
	JSR a:.LOWORD(UNKNOWN_C12012)
	TAX
	STX $10
	CPX #$FFFF
	BEQ @UNKNOWN10
	JMP a:.LOWORD(@UNKNOWN17)
@UNKNOWN10:
	LDA $04
	EOR #$0001
	STA $02
	LDY $1C
	LDX $14
	LDA $02
	JSR a:.LOWORD(UNKNOWN_C12012)
	TAX
	STX $10
	CPX #$FFFF
	BNE @UNKNOWN11
	JMP a:.LOWORD(@UNKNOWN2)
@UNKNOWN11:
	JMP a:.LOWORD(@UNKNOWN17)
@UNKNOWN12:
	LDA a:.LOWORD(PAD_1_PRESS)
	AND #PAD::A_BUTTON | PAD::L_BUTTON
	BEQ @UNKNOWN13
	JSL ENEMY_FLASHING_OFF
	LDY .LOWORD(UNKNOWN_7EAD56)
	LDA $04
	JSL MULT16
	CLC
	ADC $16
	TAX
	INX
	STX $0E
	LDA #$0001
	JSL PLAY_SOUND
	JMP a:.LOWORD(@UNKNOWN18)
@UNKNOWN13:
	LDA a:.LOWORD(PAD_1_PRESS)
	AND #PAD::B_BUTTON | PAD::SELECT_BUTTON
	BNE @UNKNOWN14
	JMP a:.LOWORD(@UNKNOWN4)
@UNKNOWN14:
	LDA $1A
	CMP #$0001
	BEQ @UNKNOWN15
	JMP a:.LOWORD(@UNKNOWN4)
@UNKNOWN15:
	JSL ENEMY_FLASHING_OFF
	LDX #$0000
	STX $0E
	LDA #$0002
	JSL PLAY_SOUND
	BRA @UNKNOWN18
@UNKNOWN16:
	LDA #$0003
	STA $12
	LDA $04
	EOR #$0001
	STA $02
	LDY $1C
	LDX $14
	DEX
	LDA $02
	JSR a:.LOWORD(UNKNOWN_C12012)
	TAX
	STX $10
	CPX #$FFFF
	BNE @UNKNOWN17
	LDY $1C
	LDX $14
	INX
	LDA $02
	JSR a:.LOWORD(UNKNOWN_C12070)
	TAX
	STX $10
	CPX #$FFFF
	BNE @UNKNOWN17
	JMP a:.LOWORD(@UNKNOWN2)
@UNKNOWN17:
	STZ $18
	JSL CLEAR_9622
	LDA #$0031
	JSR a:.LOWORD(CREATE_WINDOW)
	JSL UNKNOWN_C12DD5
	JSL SET_9622_ONE
	LDX $10
	STX $16
	LDA $02
	STA $04
	LDA $12
	JSL PLAY_SOUND
	JMP a:.LOWORD(@UNKNOWN2)
@UNKNOWN18:
	JSR a:.LOWORD(CLOSE_FOCUS_WINDOW)
	LDX $0E
	TXA
	PLD
	RTS

UNKNOWN_C12362: ;$C12362
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	STA $02
	LDA .LOWORD(UNKNOWN_7EAD56)
	BEQ @UNKNOWN0
	LDX #$0000
	BRA @UNKNOWN1
@UNKNOWN0:
	LDX #$0001
@UNKNOWN1:
	TXY
	STY $12
@UNKNOWN2:
	LDY $12
	TYA
	JSL UNKNOWN_C43657
	JSL CLEAR_9622
	LDX #$FFFF
	LDY $12
	TYA
	JSR a:.LOWORD(UNKNOWN_C120D6)
	JSL UNKNOWN_C12DD5
@UNKNOWN3:
	JSL UNKNOWN_C12E42
	LDA a:.LOWORD(PAD_1_PRESS)
	AND #PAD::UP
	BEQ @UNKNOWN4
	LDX #$0001
	STX $10
	LDA #$0003
	STA $0E
	BRA @UNKNOWN7
@UNKNOWN4:
	LDA a:.LOWORD(PAD_1_PRESS)
	AND #PAD::DOWN
	BEQ @UNKNOWN5
	LDX #$0000
	STX $10
	LDA #$0003
	STA $0E
	BRA @UNKNOWN7
@UNKNOWN5:
	LDA a:.LOWORD(PAD_1_PRESS)
	AND #PAD::A_BUTTON | PAD::L_BUTTON
	BEQ @UNKNOWN6
	JSL UNKNOWN_C435E4
	LDY $12
	TYX
	INX
	STX $10
	LDA #$0001
	JSL PLAY_SOUND
	BRA @UNKNOWN11
@UNKNOWN6:
	LDA a:.LOWORD(PAD_1_PRESS)
	AND #PAD::B_BUTTON | PAD::SELECT_BUTTON
	BEQ @UNKNOWN3
	LDA $02
	CMP #$0001
	BNE @UNKNOWN3
	JSL UNKNOWN_C435E4
	LDX #$0000
	STX $10
	LDA #$0002
	JSL PLAY_SOUND
	BRA @UNKNOWN11
@UNKNOWN7:
	CPX #$0000
	BNE @UNKNOWN8
	LDA .LOWORD(UNKNOWN_7EAD56)
	BNE @UNKNOWN10
@UNKNOWN8:
	CPX #$0000
	BNE @UNKNOWN9
	JMP a:.LOWORD(@UNKNOWN2)
@UNKNOWN9:
	LDA .LOWORD(UNKNOWN_7EAD58)
	BNE @UNKNOWN10
	JMP a:.LOWORD(@UNKNOWN2)
@UNKNOWN10:
	LDA $0E
	JSL PLAY_SOUND
	LDX $10
	TXY
	STY $12
	JMP a:.LOWORD(@UNKNOWN2)
@UNKNOWN11:
	JSR a:.LOWORD(CLOSE_FOCUS_WINDOW)
	LDX $10
	TXA
	PLD
	RTS

UNKNOWN_C1242E: ;$C1242E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF2
	TCD
	PLA
	STY $02
	TXY
	TAX
	BEQ @UNKNOWN0
	TYA
	JSR a:.LOWORD(UNKNOWN_C12362)
	BRA @UNKNOWN1
@UNKNOWN0:
	LDX $02
	TYA
	JSR a:.LOWORD(UNKNOWN_C121B8)
@UNKNOWN1:
	PLD
	RTS

.INCLUDE "unknown/C1244C.asm"

.INCLUDE "text/character_select_prompt.asm"

UNKNOWN_C12BD5: ;$C12BD5
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	CMP #$0000
	BNE @UNKNOWN0
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
@UNKNOWN0:
	ASL
	TAX
	LDA .LOWORD(WINDOW_EXISTENCE_TABLE),X
	LDY #.SIZEOF(window_stats)
	JSL MULT168
	TAX
	LDA .LOWORD(WINDOW_STATS_TABLE)+43,X
	JSR a:.LOWORD(UNKNOWN_C1138D)
	RTS

UNKNOWN_C12BF3: ;$C12BF3
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDA #$0003
	JSR a:.LOWORD(UNKNOWN_C10FEA)
	LOADPTR UNKNOWN_C3E84E, $06
	BRA @UNKNOWN3
@UNKNOWN0:
	INC $06
	INC $06
	JSR a:.LOWORD(UNKNOWN_C10D60)
	LDX #$0001
	STX $0E
	BRA @UNKNOWN2
@UNKNOWN1:
	JSL UNKNOWN_C12DD5
@UNKNOWN2:
	LDX $0E
	TXA
	DEX
	STX $0E
	CMP #$0000
	BNE @UNKNOWN1
@UNKNOWN3:
	LDA [$06]
	BNE @UNKNOWN0
	LDA #$0000
	JSR a:.LOWORD(UNKNOWN_C10FEA)
	PLD
	RTL

UNKNOWN_C12C36: ;$C12C36
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA #$0003
	JSR a:.LOWORD(UNKNOWN_C10FEA)
	LOADPTR UNKNOWN_C3E84E+20, $06
	LDY #$0000
	STY $10
	BRA @UNKNOWN3
@UNKNOWN0:
	LDA [$06]
	INC $06
	INC $06
	JSR a:.LOWORD(UNKNOWN_C10D60)
	LDX #$0001
	STX $0E
	BRA @UNKNOWN2
@UNKNOWN1:
	JSL UNKNOWN_C12DD5
@UNKNOWN2:
	LDX $0E
	TXA
	DEX
	STX $0E
	CMP #$0000
	BNE @UNKNOWN1
	LDY $10
	INY
	STY $10
@UNKNOWN3:
	CPY #$0004
	BCC @UNKNOWN0
	LDX #$0008
	STX $0E
	BRA @UNKNOWN5
@UNKNOWN4:
	JSL UNKNOWN_C12E42
@UNKNOWN5:
	LDX $0E
	TXA
	DEX
	STX $0E
	CMP #$0000
	BNE @UNKNOWN4
	LDY #$0000
	STY $10
	BRA @UNKNOWN9
@UNKNOWN6:
	LDA [$06]
	INC $06
	INC $06
	JSR a:.LOWORD(UNKNOWN_C10D60)
	LDX #$0001
	STX $0E
	BRA @UNKNOWN8
@UNKNOWN7:
	JSL UNKNOWN_C12DD5
@UNKNOWN8:
	LDX $0E
	TXA
	DEX
	STX $0E
	CMP #$0000
	BNE @UNKNOWN7
	LDY $10
	INY
	STY $10
@UNKNOWN9:
	CPY #$0005
	BCC @UNKNOWN6
	LDA #$0000
	JSR a:.LOWORD(UNKNOWN_C10FEA)
	PLD
	RTL

UNKNOWN_C12CCC: ;$C12CCC
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	TAY
	STY $10
	LDX #.LOWORD(UNKNOWN_7E895A)
	LDA #$2710
	STA $0E
	BRA @UNKNOWN1
@UNKNOWN0:
	PHA
	LDY $10
	TYA
	PLY
	JSL DIVISION16S_DIVISOR_POSITIVE
	SEP #PROC_FLAGS::ACCUM8
	CLC
	ADC #$0030
	STA a:.LOWORD(RAM),X
	INX
	REP #PROC_FLAGS::ACCUM8
	LDA $0E
	PHA
	LDY $10
	TYA
	PLY
	JSL MODULUS16
	TAY
	STY $10
	LDY #$000A
	LDA $0E
	JSL DIVISION16S_DIVISOR_POSITIVE
	STA $0E
@UNKNOWN1:
	CMP #$0000
	BNE @UNKNOWN0
	PLD
	RTS

UNKNOWN_C12D17: ;$C12D17
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	STA $04
	LDA .LOWORD(UNKNOWN_7E9698)
	BNE @UNKNOWN4
	LDA $04
	BEQ @UNKNOWN4
	LDA #$0000
	STA $02
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA $02
	ASL
	TAY
	STY $10
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	STA $0E
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::current_hp_target
	TAX
	LDA a:.LOWORD(RAM),X
	LDY $10
	STA .LOWORD(UNKNOWN_7E969A),Y
	LDA #$03E7
	STA a:.LOWORD(RAM),X
	LDA $0E
	TAX
	LDA #$03E7
	STA .LOWORD(CHAR_STRUCT)+char_struct::current_hp,X
	LDA $0E
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::current_pp_target
	TAX
	LDA a:.LOWORD(RAM),X
	STA .LOWORD(UNKNOWN_7E96A2),Y
	LDA #$0000
	STA a:.LOWORD(RAM),X
	LDA $0E
	TAX
	STZ .LOWORD(CHAR_STRUCT)+char_struct::current_pp,X
	INC $02
@UNKNOWN1:
	LDA #$0004
	CLC
	SBC $02
	BVS @UNKNOWN2
	BPL @UNKNOWN0
	BRA @UNKNOWN3
@UNKNOWN2:
	BMI @UNKNOWN0
@UNKNOWN3:
	BRA @UNKNOWN8
@UNKNOWN4:
	LDA .LOWORD(UNKNOWN_7E9698)
	BEQ @UNKNOWN8
	LDA $04
	BNE @UNKNOWN8
	LDA #$0000
	STA $10
	BRA @UNKNOWN6
@UNKNOWN5:
	LDA $10
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAY
	LDA $10
	ASL
	TAX
	LDA .LOWORD(UNKNOWN_7E969A),X
	STA .LOWORD(CHAR_STRUCT)+char_struct::current_hp_target,Y
	LDA .LOWORD(UNKNOWN_7E96A2),X
	STA .LOWORD(CHAR_STRUCT)+char_struct::current_pp_target,Y
	LDA $10
	INC
	STA $10
@UNKNOWN6:
	STA $02
	LDA #$0004
	CLC
	SBC $02
	BVS @UNKNOWN7
	BPL @UNKNOWN5
	BRA @UNKNOWN8
@UNKNOWN7:
	BMI @UNKNOWN5
@UNKNOWN8:
	LDA $04
	STA .LOWORD(UNKNOWN_7E9698)
	JSL RESUME_MUSIC
	PLD
	RTS

UNKNOWN_C12DD5: ;$C12DD5
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL RAND
	LDA .LOWORD(UNKNOWN_7E968C)
	AND #$00FF
	BEQ @UNKNOWN0
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(UNKNOWN_7E968C)
	BRA @UNKNOWN4
@UNKNOWN0:
	.A16
	LDA .LOWORD(UNKNOWN_7E9622)
	AND #$00FF
	BNE @UNKNOWN4
	LDA .LOWORD(UNKNOWN_7E9623)
	AND #$00FF
	BNE @UNKNOWN1
	LDA .LOWORD(UNKNOWN_7E88E0)
	CMP #$FFFF
	BEQ @UNKNOWN2
	LDA .LOWORD(UNKNOWN_7E88E2)
	JSL UNKNOWN_C107AF
	BRA @UNKNOWN2
@UNKNOWN1:
	JSL UNKNOWN_C2087C
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(UNKNOWN_7E9623)
@UNKNOWN2:
	JSL HP_PP_ROLLER
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E9624)
	JSL UNKNOWN_C213AC
	LDA .LOWORD(UNKNOWN_7EB4B6)
	BNE @UNKNOWN3
	JSR a:.LOWORD(UNKNOWN_C1FF2C)
	CMP #$0000
	BRK
	BEQ @UNKNOWN3
	JSL UNKNOWN_C47F87
@UNKNOWN3:
	STZ .LOWORD(UNKNOWN_7E9649)
	JSL UNKNOWN_C2038B
	JSL UNKNOWN_C1004E
@UNKNOWN4:
	REP #PROC_FLAGS::ACCUM8
	RTL

UNKNOWN_C12E42: ;$C12E42
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL HP_PP_ROLLER
	LDA .LOWORD(UNKNOWN_7E9649)
	BEQ @UNKNOWN0
	JSR a:.LOWORD(UNKNOWN_C1078D)
	STZ .LOWORD(UNKNOWN_7E9649)
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E9624)
@UNKNOWN0:
	JSL UNKNOWN_C213AC
	JSL UNKNOWN_C1004E
	RTL

.INCLUDE "system/debug/y_button_menu.asm"

UNKNOWN_C13187: ;$C13187
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA #$0000
	STA $0A
	LDA #$0000
	STA $0C
	LDA #$0001
	JSR a:.LOWORD(CREATE_WINDOW)
	JSL UNKNOWN_C04452
	LDA .LOWORD(CURRENT_TPT_ENTRY)
	BNE @UNKNOWN0
	JMP a:.LOWORD(@UNKNOWN4)
@UNKNOWN0:
	LDA .LOWORD(CURRENT_TPT_ENTRY)
	CMP #$FFFF
	BNE @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN4)
@UNKNOWN1:
	LDA .LOWORD(CURRENT_TPT_ENTRY)
	CMP #$FFFE
	BNE @UNKNOWN2
	LDA .LOWORD(UNKNOWN_7E5DDE)
	STA $0A
	LDA .LOWORD(UNKNOWN_7E5DE0)
	STA $0C
	BRA @UNKNOWN4
@UNKNOWN2:
	LOADPTR NPC_CONFIG_TABLE, $06
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA .LOWORD(CURRENT_TPT_ENTRY)
	OPTIMIZED_MULT $04, .SIZEOF(npc_config)
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	CMP #NPC_TYPE::PERSON
	BEQ @UNKNOWN3
	CMP #NPC_TYPE::ITEM_BOX
	BEQ @UNKNOWN4
	CMP #NPC_TYPE::OBJECT
	BEQ @UNKNOWN4
	BRA @UNKNOWN4
@UNKNOWN3:
	LDA .LOWORD(UNKNOWN_7E5D64)
	JSL UNKNOWN_C042C2
	LDA .LOWORD(CURRENT_TPT_ENTRY)
	OPTIMIZED_MULT $04, .SIZEOF(npc_config)
	CLC
	ADC #npc_config::text_pointer
	LDX $0E
	STX $06
	LDX $10
	STX $08
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $0A
	STY $0C
@UNKNOWN4:
	LDA $0A
	STA $18
	LDA $0C
	STA $1A
	PLD
	RTL

UNKNOWN_C1323B: ;$C1323B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDA #$0000
	STA $0A
	LDA #$0000
	STA $0C
	LDA #$0001
	JSR a:.LOWORD(CREATE_WINDOW)
	JSL UNKNOWN_C04279
	LDA .LOWORD(CURRENT_TPT_ENTRY)
	BNE @UNKNOWN0
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN0:
	LDA .LOWORD(CURRENT_TPT_ENTRY)
	CMP #$FFFF
	BNE @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN1:
	LDA .LOWORD(CURRENT_TPT_ENTRY)
	CMP #$FFFE
	BNE @UNKNOWN2
	LDA .LOWORD(UNKNOWN_7E5DDE)
	STA $0A
	LDA .LOWORD(UNKNOWN_7E5DE0)
	STA $0C
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN2:
	LOADPTR NPC_CONFIG_TABLE, $06
	LDA $06
	STA $14
	LDA $08
	STA $16
	LDA .LOWORD(CURRENT_TPT_ENTRY)
	OPTIMIZED_MULT $04, .SIZEOF(npc_config)
	STA $12
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	CMP #NPC_TYPE::PERSON
	BNE @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN3:
	CMP #NPC_TYPE::ITEM_BOX
	BEQ @UNKNOWN5
	CMP #NPC_TYPE::OBJECT
	BNE @UNKNOWN4
	JMP a:.LOWORD(@UNKNOWN8)
@UNKNOWN4:
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN5:
	LDA $12
	CLC
	ADC #npc_config::item
	LDX $14
	STX $06
	LDX $16
	STX $08
	CLC
	ADC $06
	STA $06
	LDA [$06]
	CMP #$0100
	BCS @UNKNOWN6
	STA $06
	STZ $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(SET_WORKING_MEMORY)
	BRA @UNKNOWN7
@UNKNOWN6:
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(SET_WORKING_MEMORY)
	LDA .LOWORD(CURRENT_TPT_ENTRY)
	OPTIMIZED_MULT $04, .SIZEOF(npc_config)
	CLC
	ADC #npc_config::item
	LDX $14
	STX $06
	LDX $16
	STX $08
	CLC
	ADC $06
	STA $06
	LDA [$06]
	SEC
	SBC #$0100
	STA $06
	STZ $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(SET_ARGUMENT_MEMORY)
@UNKNOWN7:
	LOADPTR NPC_CONFIG_TABLE, $06
	LDA .LOWORD(CURRENT_TPT_ENTRY)
	OPTIMIZED_MULT $04, .SIZEOF(npc_config)
	STA $12
	CLC
	ADC #npc_config::event_flag
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	STA .LOWORD(CURRENT_INTERACTING_EVENT_FLAG)
	LDA $12
	CLC
	ADC #npc_config::text_pointer
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $0A
	STY $0C
	BRA @UNKNOWN9
@UNKNOWN8:
	LDA $12
	CLC
	ADC #npc_config::text_pointer
	LDX $14
	STX $06
	LDX $16
	STX $08
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $0A
	STY $0C
@UNKNOWN9:
	LDA $0A
	STA $1E
	LDA $0C
	STA $20
	PLD
	RTL

UNKNOWN_C1339E: ;$C1339E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDX #$0002
	JSR a:.LOWORD(INVENTORY_GET_ITEM_NAME)
	RTL

UNKNOWN_C133A7: ;$C133A7
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDX #$002C
	JSR a:.LOWORD(INVENTORY_GET_ITEM_NAME)
	RTL

UNKNOWN_C133B0: ;$C133B0
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE3
	TCD
	LDA $5E6C
	AND #$00FF
	BEQ @UNKNOWN0
	JMP a:.LOWORD(@UNKNOWN8)
@UNKNOWN0:
	LDA #$0001
	STA $02
	JMP a:.LOWORD(@UNKNOWN7)
@UNKNOWN1:
	LDA $02
	CMP #$0003
	BNE @UNKNOWN2
	JSR a:.LOWORD(UNKNOWN_C1C373)
	CMP #$0000
	BNE @UNKNOWN2
	JMP a:.LOWORD(@UNKNOWN6)
@UNKNOWN2:
	LDA $02
	CMP #$0001
	BEQ @UNKNOWN3
	LDA $02
	CMP #$0005
	BEQ @UNKNOWN3
	LDA $02
	CMP #$0002
	BNE @UNKNOWN4
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN4
	LDX #$0001
	LDA .LOWORD(GAME_STATE)+122
	AND #$00FF
	JSL UNKNOWN_C3E977
	CMP #$0000
	BNE @UNKNOWN4
@UNKNOWN3:
	LDY #$0001
	BRA @UNKNOWN5
@UNKNOWN4:
	LDY #$001B
@UNKNOWN5:
	LDA $02
	DEC
	STA $1B
	LOADPTR DEBUG_MENU_ELEMENT_SPACING_DATA, $06
	LDA $06
	STA $17
	LDA $08
	STA $19
	LDA $1B
	ASL
	TAX
	LOADPTR CMD_WINDOW_TEXT, $06
	LDA $1B
	OPTIMIZED_MULT $04, 10
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0000
	STA $12
	LDA #$0000
	STA $14
	TYA
	SEP #PROC_FLAGS::ACCUM8
	STA $16
	REP #PROC_FLAGS::ACCUM8
	TXA
	INC
	LDY $17
	STY $06
	LDY $19
	STY $08
	LDY $06
	STY $0A
	LDY $08
	STY $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	TAY
	TXA
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	TAX
	LDA $02
	JSR a:.LOWORD(UNKNOWN_C11596)
@UNKNOWN6:
	INC $02
@UNKNOWN7:
	LDA $02
	CMP #$0007
	BCS @UNKNOWN8
	BEQ @UNKNOWN8
	JMP a:.LOWORD(@UNKNOWN1)
@UNKNOWN8:
	SEP #PROC_FLAGS::ACCUM8
	STZ $5E6C
	JSR a:.LOWORD(PRINT_MENU_ITEMS)
	PLD
	RTS

.INCLUDE "overworld/open_menu.asm"

OPEN_HPPP_DISPLAY: ;$C13CA1
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL UNKNOWN_C0943C
	LDA #SFX::CURSOR1
	JSL PLAY_SOUND
	JSR a:.LOWORD(UNKNOWN_C1134B)
@UNKNOWN0:
	JSL UNKNOWN_C12DD5
	LDA a:.LOWORD(PAD_1_PRESS)
	AND #PAD::A_BUTTON | PAD::L_BUTTON
	BEQ @UNKNOWN1
	JSL OPEN_MENU_BUTTON
	BRA @UNKNOWN2
@UNKNOWN1:
	LDA a:.LOWORD(PAD_1_PRESS)
	AND #PAD::B_BUTTON | PAD::SELECT_BUTTON
	BEQ @UNKNOWN0
	LDA #SFX::CURSOR2
	JSL PLAY_SOUND
	JSL CLEAR_9622
	JSR a:.LOWORD(HIDE_HPPP_WINDOWS)
	JSR a:.LOWORD(UNKNOWN_C1008E)
	JSL UNKNOWN_C12DD5
	JSL UNKNOWN_C09451
@UNKNOWN2:
	RTL

SHOW_TOWN_MAP: ;$C13CE5
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDX #$00CA
	LDA #$00FF
	JSL FIND_ITEM_IN_INVENTORY2
	CMP #$0000
	BEQ SHOW_TOWN_MAP_NO_TOWN_MAP
	JSL UNKNOWN_C0943C
	JSL DISPLAY_TOWN_MAP
	JSL UNKNOWN_C09451
SHOW_TOWN_MAP_NO_TOWN_MAP:
	RTL

DEBUG_Y_BUTTON_FLAG: ;$C13D03
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEC
	TCD
	LDX #EVENT_FLAG::UNKNOWN_DEBUG_001
	STX $02
@UNKNOWN0:
	JSL SET_9622_ONE
	LDA #$0014
	JSR a:.LOWORD(CREATE_WINDOW)
	LDA #$0003
	JSR a:.LOWORD(UNKNOWN_C10EB4)
	LDA $02
	STA $06
	STZ $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	LDA #$0020
	JSL UNKNOWN_C43F77
	JSL UNKNOWN_C43CAA
	LDA $02
	JSL GET_EVENT_FLAG
	CMP #$0000
	BEQ @UNKNOWN1
	LOADPTR DEBUG_ON_TEXT, $06
	BRA @UNKNOWN2
@UNKNOWN1:
	LOADPTR DEBUG_OFF_TEXT, $06
@UNKNOWN2:
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0100
	JSR a:.LOWORD(DISPLAY_CONFIG_MENU_TITLE)
	JSL CLEAR_9622
	JSL UNKNOWN_C12DD5
	LDY $02
	STY $12
@UNKNOWN3:
	JSL READ_JOYPAD
	LDA a:.LOWORD(PAD_1_HELD)
	AND #PAD::UP
	BEQ @UNKNOWN4
	LDY $12
	INY
	STY $12
	BRA @UNKNOWN11
@UNKNOWN4:
	LDA a:.LOWORD(PAD_1_HELD)
	AND #PAD::DOWN
	BEQ @UNKNOWN5
	LDY $12
	DEY
	STY $12
	BRA @UNKNOWN11
@UNKNOWN5:
	LDA a:.LOWORD(PAD_1_HELD)
	AND #PAD::RIGHT
	BEQ @UNKNOWN6
	LDY $12
	TYA
	CLC
	ADC #$000A
	TAY
	STY $12
	BRA @UNKNOWN11
@UNKNOWN6:
	LDA a:.LOWORD(PAD_1_HELD)
	AND #PAD::LEFT
	BEQ @UNKNOWN7
	LDY $12
	TYA
	SEC
	SBC #$000A
	TAY
	STY $12
	BRA @UNKNOWN11
@UNKNOWN7:
	LDA a:.LOWORD(PAD_1_PRESS)
	AND #PAD::A_BUTTON | PAD::L_BUTTON
	BEQ @UNKNOWN10
	LDA $02
	JSL GET_EVENT_FLAG
	CMP #$0000
	BEQ @UNKNOWN8
	LDX #$0000
	BRA @UNKNOWN9
@UNKNOWN8:
	LDX #$0001
@UNKNOWN9:
	LDA $02
	JSL SET_EVENT_FLAG
	BRA @UNKNOWN11
@UNKNOWN10:
	LDA a:.LOWORD(PAD_1_PRESS)
	AND #PAD::B_BUTTON | PAD::SELECT_BUTTON
	BEQ @UNKNOWN3
	LDA #$0014
	JSL CLOSE_WINDOW
	BRA @UNKNOWN14
@UNKNOWN11:
	LDY $12
	CPY #$07D0
	BCC @UNKNOWN12
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN12:
	CPY #$0000
	BNE @UNKNOWN13
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN13:
	STY $02
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN14:
	PLD
	RTL

DEBUG_Y_BUTTON_GUIDE: ;$C13E0E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEA
	TCD
	LDX #$0000
	STX $14
	TXA
	STA $12
	BRA @UNKNOWN2
@UNKNOWN0:
	ASL
	TAX
	LDA .LOWORD(LOADED_SPRITE_MOVEMENT_CODES_TABLE),X
	CMP #$FFFF
	BEQ @UNKNOWN1
	LDX $14
	INX
	STX $14
@UNKNOWN1:
	LDA $12
	INC
	STA $12
@UNKNOWN2:
	CMP #$001E
	BCC @UNKNOWN0
	JSL SET_9622_ONE
	LDA #$0014
	JSR a:.LOWORD(CREATE_WINDOW)
	LDA #$0003
	JSR a:.LOWORD(UNKNOWN_C10EB4)
	LDX $14
	TXA
	STA $06
	STZ $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	JSL CLEAR_9622
	JSL UNKNOWN_C12DD5
	BRA @UNKNOWN4
@UNKNOWN3:
	JSL READ_JOYPAD
@UNKNOWN4:
	LDA a:.LOWORD(PAD_1_PRESS)
	AND #PAD::B_BUTTON | PAD::SELECT_BUTTON
	BEQ @UNKNOWN3
	LDA #$0014
	JSL CLOSE_WINDOW
	PLD
	RTL

DEBUG_SET_CHAR_LEVEL: ;$C13E7A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEA
	TCD
	JSL SET_9622_ONE
	LDA #$0014
	JSR a:.LOWORD(CREATE_WINDOW)
	LDA #$0002
	JSR a:.LOWORD(NUM_SELECT_PROMPT)
	LDA $06
	STA $04
	LDA #$0000
	STA $06
	LDA #$0000
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $06
	STA $12
	LDA $08
	STA $14
	LDX #$0001
	TXA
	JSR a:.LOWORD(CHAR_SELECT_PROMPT)
	STA $02
	CMP #$0000
	BEQ @UNKNOWN0
	LDY #$0001
	LDX $04
	LDA $02
	JSR a:.LOWORD(RESET_CHAR_LEVEL_ONE)
	LDY #$0000
	LDX #$0064
	LDA $02
	JSR a:.LOWORD(RECOVER_HP_AMTPERCENT)
	LDY #$0000
	LDX #$0064
	LDA $02
	JSR a:.LOWORD(RECOVER_PP_AMTPERCENT)
@UNKNOWN0:
	LDA #$0014
	JSL CLOSE_WINDOW
	PLD
	RTL

DEBUG_Y_BUTTON_GOODS: ;$C13EE7
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDX #$0000
	STX $04
@UNKNOWN0:
	JSL SET_9622_ONE
	LDA #$0014
	JSR a:.LOWORD(CREATE_WINDOW)
	LDA #$0002
	JSR a:.LOWORD(UNKNOWN_C10EB4)
	LDA #$0082
	JSR a:.LOWORD(UNKNOWN_C10EB4)
	LDX #$0000
	TXA
	JSL UNKNOWN_C438A5
	LDA $04
	STA $06
	STZ $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	LDX #$0000
	LDA #$0003
	JSL UNKNOWN_C438A5
	LDA $04
	JSR a:.LOWORD(UNKNOWN_C19216)
	JSL CLEAR_9622
	JSL UNKNOWN_C12DD5
	LDA $04
	STA $02
@UNKNOWN1:
	JSL READ_JOYPAD
	LDA a:.LOWORD(PAD_1_HELD)
	AND #PAD::UP
	BEQ @UNKNOWN2
	INC $02
	JMP a:.LOWORD(@UNKNOWN7)
@UNKNOWN2:
	LDA a:.LOWORD(PAD_1_HELD)
	AND #PAD::DOWN
	BEQ @UNKNOWN3
	LDA $02
	DEC
	STA $02
	JMP a:.LOWORD(@UNKNOWN7)
@UNKNOWN3:
	LDA a:.LOWORD(PAD_1_HELD)
	AND #PAD::RIGHT
	BEQ @UNKNOWN4
	LDA $02
	CLC
	ADC #$000A
	STA $02
	JMP a:.LOWORD(@UNKNOWN7)
@UNKNOWN4:
	LDA a:.LOWORD(PAD_1_HELD)
	AND #PAD::LEFT
	BEQ @UNKNOWN5
	LDA $02
	SEC
	SBC #$000A
	STA $02
	BRA @UNKNOWN7
@UNKNOWN5:
	LDA a:.LOWORD(PAD_1_PRESS)
	AND #PAD::A_BUTTON | PAD::L_BUTTON
	BEQ @UNKNOWN6
	LDA #$0000
	STA $06
	LDA #$0000
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $06
	STA $12
	LDA $08
	STA $14
	LDX #$0001
	TXA
	JSR a:.LOWORD(CHAR_SELECT_PROMPT)
	TAY
	STY $16
	BEQ @UNKNOWN7
	TYA
	JSL FIND_INVENTORY_SPACE2
	CMP #$0000
	BEQ @UNKNOWN7
	LDX $04
	LDY $16
	TYA
	JSL GIVE_ITEM_TO_CHARACTER
	LDX $04
	LDY $16
	TYA
	JSL UNKNOWN_C3EE14
	CMP #$0000
	BEQ @UNKNOWN9
	LDA $04
	JSR a:.LOWORD(GET_ITEM_TYPE)
	CMP #$0002
	BNE @UNKNOWN9
	LDY $16
	TYA
	JSL UNKNOWN_C22351
	TAX
	LDY $16
	TYA
	JSR a:.LOWORD(EQUIP_ITEM)
	BRA @UNKNOWN9
@UNKNOWN6:
	LDA a:.LOWORD(PAD_1_PRESS)
	AND #PAD::B_BUTTON | PAD::SELECT_BUTTON
	BNE @UNKNOWN9
	JMP a:.LOWORD(@UNKNOWN1)
@UNKNOWN7:
	LDA $02
	CMP #$0100
	BCC @UNKNOWN8
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN8:
	LDA $02
	STA $04
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN9:
	LDA #$0014
	JSL CLOSE_WINDOW
	PLD
	RTL

UNKNOWN_C14012: ;$C14012
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF2
	TCD
	LDX .LOWORD(UNKNOWN_7E97B8)
	INX
	STX .LOWORD(UNKNOWN_7E97B8)
	STX $02
	LDA #$000A
	CLC
	SBC $02
	BVS @UNKNOWN0
	BPL @UNKNOWN2
	BRA @UNKNOWN1
@UNKNOWN0:
	BMI @UNKNOWN2
@UNKNOWN1:
	STZ .LOWORD(UNKNOWN_7E97B8)
@UNKNOWN2:
	LDA .LOWORD(UNKNOWN_7E97B8)
	OPTIMIZED_MULT $04, 27
	CLC
	ADC #.LOWORD(UNKNOWN_7E96AA)
	PLD
	RTS

UNKNOWN_C14049: ;$C14049
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF2
	TCD
	LDX .LOWORD(UNKNOWN_7E97B8)
	DEX
	STX .LOWORD(UNKNOWN_7E97B8)
	STX $02
	LDA #$000A
	CLC
	SBC $02
	BVS @UNKNOWN0
	BPL @UNKNOWN2
	BRA @UNKNOWN1
@UNKNOWN0:
	BMI @UNKNOWN2
@UNKNOWN1:
	LDA #$0009
	STA .LOWORD(UNKNOWN_7E97B8)
@UNKNOWN2:
	PLD
	RTS

UNKNOWN_C14070: ;$C14070
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF1
	TCD
	PLA
	TXY
	TAX
	BRA @UNKNOWN1
@UNKNOWN0:
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),Y
	STA $00
	LDA $0E
	CMP $00
	BNE @UNKNOWN2
	INX
	INY
@UNKNOWN1:
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	BNE @UNKNOWN0
@UNKNOWN2:
	REP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	STA $02
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	SEC
	SBC $02
	PLD
	RTS

.INCLUDE "text/ccs/print_stat.asm"

.INCLUDE "text/ccs/unknown_1C_11.asm"

.INCLUDE "text/ccs/unknown_1C_09.asm"

.INCLUDE "text/ccs/text_effects.asm"

.INCLUDE "text/ccs/jump.asm"

.INCLUDE "text/ccs/jump_multi.asm"

.INCLUDE "text/ccs/set_event_flag.asm"

.INCLUDE "text/ccs/clear_event_flag.asm"

.INCLUDE "text/ccs/jump_event_flag.asm"

.INCLUDE "text/ccs/get_event_flag.asm"

.INCLUDE "text/ccs/print_special_graphics.asm"

.INCLUDE "text/ccs/open_window.asm"

.INCLUDE "text/ccs/switch_to_window.asm"

.INCLUDE "text/ccs/call.asm"

.INCLUDE "text/ccs/create_number_selector.asm"

.INCLUDE "text/ccs/force_text_alignment.asm"

.INCLUDE "text/ccs/check_equal.asm"

.INCLUDE "text/ccs/check_not_equal.asm"

.INCLUDE "text/ccs/print_horizontal_strings.asm"

.INCLUDE "text/ccs/copy_to_argmem.asm"

.INCLUDE "text/ccs/set_secmem.asm"

.INCLUDE "text/ccs/party_selection_menu_uncancellable.asm"

.INCLUDE "text/ccs/party_selection_menu.asm"

.INCLUDE "text/ccs/print_item_name.asm"

.INCLUDE "text/ccs/print_teleport_destination_name.asm"

.INCLUDE "text/ccs/get_character_number.asm"

.INCLUDE "text/ccs/play_music.asm"

.INCLUDE "text/ccs/stop_music.asm"

.INCLUDE "text/ccs/play_sfx.asm"

.INCLUDE "text/ccs/get_letter_from_character_name.asm"

.INCLUDE "text/ccs/unknown_19_28.asm"

.INCLUDE "text/ccs/print_character.asm"

.INCLUDE "text/ccs/test_inventory_full.asm"

.INCLUDE "text/ccs/wallet_increase.asm"

.INCLUDE "text/ccs/wallet_decrease.asm"

.INCLUDE "text/ccs/recover_hp_by_percent.asm"

.INCLUDE "text/ccs/deplete_hp_by_percent.asm"

.INCLUDE "text/ccs/recover_hp_by_amount.asm"

.INCLUDE "text/ccs/deplete_hp_by_amount.asm"

.INCLUDE "text/ccs/recover_pp_by_percent.asm"

.INCLUDE "text/ccs/deplete_pp_by_percent.asm"

.INCLUDE "text/ccs/recover_pp_by_amount.asm"

.INCLUDE "text/ccs/deplete_pp_by_amount.asm"

.INCLUDE "text/ccs/give_item_to_character.asm"

.INCLUDE "text/ccs/take_item_from_character.asm"

.INCLUDE "text/ccs/test_inventory_not_full.asm"

.INCLUDE "text/ccs/test_character_doesnt_have_item.asm"

.INCLUDE "text/ccs/test_character_has_item.asm"

.INCLUDE "text/ccs/trigger_psi_teleport.asm"

.INCLUDE "text/ccs/trigger_teleport.asm"

.INCLUDE "text/ccs/pause.asm"

.INCLUDE "text/ccs/display_shop_menu.asm"

.INCLUDE "text/ccs/get_item_price.asm"

.INCLUDE "text/ccs/get_item_sell_price.asm"

.INCLUDE "text/ccs/test_character_can_equip_item.asm"

.INCLUDE "text/ccs/print_character_name.asm"

.INCLUDE "text/ccs/get_character_status.asm"

.INCLUDE "text/ccs/inflict_character_status.asm"

.INCLUDE "text/ccs/test_character_status.asm"

.INCLUDE "text/ccs/get_gender_etc.asm"

.INCLUDE "text/ccs/switch_gender_etc.asm"

.INCLUDE "text/ccs/test_equality.asm"

.INCLUDE "text/ccs/get_exp_for_next_level.asm"

.INCLUDE "text/ccs/print_number.asm"

.INCLUDE "text/ccs/unknown_1F_60.asm"

.INCLUDE "text/ccs/show_character_inventory.asm"

.INCLUDE "text/ccs/unknown_18_08.asm"

.INCLUDE "text/ccs/unknown_18_09.asm"

.INCLUDE "text/ccs/print_money_amount.asm"

.INCLUDE "text/ccs/give_item_to_character_2.asm"

.INCLUDE "text/ccs/unknown_1D_0F.asm"

.INCLUDE "text/ccs/unknown_1D_10.asm"

.INCLUDE "text/ccs/unknown_1D_11.asm"

.INCLUDE "text/ccs/equip_character_from_inventory.asm"

.INCLUDE "text/ccs/unknown_1D_12.asm"

.INCLUDE "text/ccs/unknown_1D_13.asm"

.INCLUDE "text/ccs/get_item_number.asm"

.INCLUDE "text/ccs/test_has_enough_money.asm"

.INCLUDE "text/ccs/unknown_18_0D.asm"

.INCLUDE "text/ccs/print_vertical_strings.asm"

.INCLUDE "text/ccs/set_argmem.asm"

.INCLUDE "text/ccs/unknown_19_1B.asm"

.INCLUDE "text/ccs/learn_special_psi.asm"

.INCLUDE "text/ccs/atm_increase.asm"

.INCLUDE "text/ccs/atm_decrease.asm"

.INCLUDE "text/ccs/test_atm_has_enough_money.asm"

.INCLUDE "text/ccs/party_member_add.asm"

.INCLUDE "text/ccs/party_member_remove.asm"

UNKNOWN_C15FB1: ;$C15FB1
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STX $04
	STA $02
	LDY #$0000
	BRA @UNKNOWN2
@UNKNOWN0:
	TYA
	CLC
	ADC #.LOWORD(GAME_STATE)
	STA $0E
	CLC
	ADC #$00B6
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	BNE @UNKNOWN1
	LDA $04
	SEP #PROC_FLAGS::ACCUM8
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	LDA $0E
	TAX
	LDA $02
	SEP #PROC_FLAGS::ACCUM8
	STA a:.LOWORD(RAM)+185,X
	BRA @UNKNOWN3
@UNKNOWN1:
	INY
@UNKNOWN2:
	CPY #$0003
	BCC @UNKNOWN0
@UNKNOWN3:
	REP #PROC_FLAGS::ACCUM8
	PLD
	RTS

.INCLUDE "text/ccs/unknown_19_1C.asm"

.INCLUDE "text/ccs/unknown_19_1D.asm"

.INCLUDE "text/ccs/escargo_express_store.asm"

.INCLUDE "text/ccs/test_item_is_drink.asm"

.INCLUDE "text/ccs/test_party_enough_characters.asm"

.INCLUDE "text/ccs/print_psi_name.asm"

.INCLUDE "text/ccs/get_random_number.asm"

UNKNOWN_C1621F: ;$C1621F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	STA $12
	LDA #$0003
	CLC
	SBC .LOWORD(CC_ARGUMENT_GATHERING_LOOP_COUNTER)
	BVC @UNKNOWN0
	BPL @UNKNOWN2
	BRA @UNKNOWN1
@UNKNOWN0:
	BMI @UNKNOWN2
@UNKNOWN1:
	TXA
	SEP #PROC_FLAGS::ACCUM8
	LDX .LOWORD(CC_ARGUMENT_GATHERING_LOOP_COUNTER)
	STA .LOWORD(CC_ARGUMENT_STORAGE),X
	REP #PROC_FLAGS::ACCUM8
	INC .LOWORD(CC_ARGUMENT_GATHERING_LOOP_COUNTER)
	LDA #.LOWORD(UNKNOWN_C1621F)
	JMP a:.LOWORD(@UNKNOWN3)
@UNKNOWN2:
	TXA
	STA $06
	STZ $08
	SEP #PROC_FLAGS::INDEX8
	LDY #$0018
	JSL ASL32_ENTRY2
	LDA $08
	PHA
	LDA $06
	PHA
	LDY #$0010
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CC_ARGUMENT_STORAGE)+2
	STA $06
	STZ $07
	STZ $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	JSL ASL32_ENTRY2
	LDA $08
	PHA
	LDA $06
	PHA
	LDY #$0008
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CC_ARGUMENT_STORAGE)+1
	STA $06
	STZ $07
	STZ $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	JSL ASL32_ENTRY2
	LDA $06
	STA $0A
	LDA $08
	STA $0C
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CC_ARGUMENT_STORAGE)
	STA $06
	STZ $07
	STZ $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	ORA $0A
	STA $06
	LDA $08
	ORA $0C
	STA $08
	PLA
	STA $0A
	PLA
	STA $0C
	LDA $06
	ORA $0A
	STA $06
	LDA $08
	ORA $0C
	STA $08
	PLA
	STA $0A
	PLA
	STA $0C
	LDA $06
	ORA $0A
	STA $06
	LDA $08
	ORA $0C
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSL DISPLAY_TEXT
	LDA $12
	TAY
	LDA a:.LOWORD(RAM),Y
	STA $06
	LDA a:.LOWORD(RAM)+2,Y
	STA $08
	LDA $97D5
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	STA a:.LOWORD(RAM),Y
	LDA $08
	STA a:.LOWORD(RAM)+2,Y
	LDA #NULL
@UNKNOWN3:
	PLD
	RTS

.INCLUDE "text/ccs/jump_multi2.asm"

.INCLUDE "text/ccs/try_fixing_items.asm"

.INCLUDE "text/ccs/set_character_direction.asm"

.INCLUDE "text/ccs/set_party_direction.asm"

.INCLUDE "text/ccs/set_tpt_direction.asm"

.INCLUDE "text/ccs/create_entity_tpt.asm"

.INCLUDE "text/ccs/dummy_1F_18.asm"

.INCLUDE "text/ccs/dummy_1F_19.asm"

.INCLUDE "text/ccs/create_floating_sprite_at_tpt_entity.asm"

.INCLUDE "text/ccs/delete_floating_sprite_at_tpt_entity.asm"

.INCLUDE "text/ccs/create_floating_sprite_at_character.asm"

.INCLUDE "text/ccs/delete_floating_sprite_at_character.asm"

.INCLUDE "text/ccs/set_map_palette.asm"

.INCLUDE "text/ccs/create_entity_sprite.asm"

.INCLUDE "text/ccs/delete_entity_tpt.asm"

.INCLUDE "text/ccs/delete_entity_sprite.asm"

.INCLUDE "text/ccs/get_direction_from_character_to_entity.asm"

.INCLUDE "text/ccs/get_direction_from_tpt_entity_to_entity.asm"

.INCLUDE "text/ccs/enable_blinking_triangle.asm"

.INCLUDE "text/ccs/set_character_level.asm"

.INCLUDE "text/ccs/get_direction_from_sprite_entity_to_entity.asm"

.INCLUDE "text/ccs/set_entity_direction_sprite.asm"

.INCLUDE "text/ccs/set_player_movement_lock.asm"

.INCLUDE "text/ccs/set_tpt_entity_delay.asm"

.INCLUDE "text/ccs/unknown_1F_E7.asm"

.INCLUDE "text/ccs/set_player_movement_lock_if_camera_refocused.asm"

.INCLUDE "text/ccs/unknown_1F_E9.asm"

.INCLUDE "text/ccs/unknown_1F_EA.asm"

.INCLUDE "text/ccs/set_character_invisibility.asm"

.INCLUDE "text/ccs/set_character_visibility.asm"

.INCLUDE "text/ccs/teleport_party_to_tpt_entity.asm"

.INCLUDE "text/ccs/unknown_1F_EF.asm"

.INCLUDE "text/ccs/screen_reload_pointer.asm"

.INCLUDE "text/ccs/set_tpt_entity_movement.asm"

.INCLUDE "text/ccs/set_sprite_entity_movement.asm"

.INCLUDE "text/ccs/test_item_is_condiment.asm"

.INCLUDE "text/ccs/trigger_battle.asm"

.INCLUDE "text/ccs/set_respawn_point.asm"

.INCLUDE "text/ccs/unknown_1D_0C.asm"

.INCLUDE "text/ccs/activate_hotspot.asm"

.INCLUDE "text/ccs/deactivate_hotspot.asm"

.INCLUDE "text/ccs/toggle_text_printing_sound.asm"

.INCLUDE "text/ccs/unknown_1D_24.asm"

.INCLUDE "text/ccs/unknown_1F_40.asm"

.INCLUDE "text/ccs/trigger_special_event.asm"

.INCLUDE "text/ccs/trigger_photographer_event.asm"

.INCLUDE "text/ccs/create_floating_sprite_at_sprite_entity.asm"

.INCLUDE "text/ccs/delete_floating_sprite_at_sprite_entity.asm"

.INCLUDE "text/ccs/display_battle_animation.asm"

.INCLUDE "text/ccs/set_music_effect.asm"

.INCLUDE "text/ccs/trigger_timed_event.asm"

.INCLUDE "text/ccs/increase_character_experience.asm"

.INCLUDE "text/ccs/increase_character_iq.asm"

.INCLUDE "text/ccs/increase_character_guts.asm"

.INCLUDE "text/ccs/increase_character_speed.asm"

.INCLUDE "text/ccs/increase_character_vitality.asm"

.INCLUDE "text/ccs/increase_character_luck.asm"

.INCLUDE "text/ccs/unknown_1D_23.asm"

.INCLUDE "text/ccs/unknown_19_27.asm"

UNKNOWN_C17796: ;$C17796
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE4
	TCD
	PLA
	TXA
	STA $1A
	LDA #$0003
	CLC
	SBC .LOWORD(CC_ARGUMENT_GATHERING_LOOP_COUNTER)
	BVC @UNKNOWN0
	BPL @UNKNOWN2
	BRA @UNKNOWN1
@UNKNOWN0:
	BMI @UNKNOWN2
@UNKNOWN1:
	LDA $1A
	SEP #PROC_FLAGS::ACCUM8
	LDX .LOWORD(CC_ARGUMENT_GATHERING_LOOP_COUNTER)
	STA .LOWORD(CC_ARGUMENT_STORAGE),X
	REP #PROC_FLAGS::ACCUM8
	INC .LOWORD(CC_ARGUMENT_GATHERING_LOOP_COUNTER)
	LDA #.LOWORD(UNKNOWN_C17796)
	JMP a:.LOWORD(@UNKNOWN3)
@UNKNOWN2:
	SEP #PROC_FLAGS::INDEX8
	LDY #$0018
	LDA $1A
	STA $06
	STZ $08
	JSL ASL32_ENTRY2
	LDA $08
	PHA
	LDA $06
	PHA
	LDY #$0010
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CC_ARGUMENT_STORAGE)+2
	STA $06
	STZ $07
	STZ $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	JSL ASL32_ENTRY2
	LDA $08
	PHA
	LDA $06
	PHA
	LDY #$0008
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CC_ARGUMENT_STORAGE)+1
	STA $06
	STZ $07
	STZ $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	JSL ASL32_ENTRY2
	LDA $06
	STA $0A
	LDA $08
	STA $0C
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CC_ARGUMENT_STORAGE)
	STA $06
	STZ $07
	STZ $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	ORA $0A
	STA $06
	LDA $08
	ORA $0C
	STA $08
	PLA
	STA $0A
	PLA
	STA $0C
	LDA $06
	ORA $0A
	STA $06
	LDA $08
	ORA $0C
	STA $08
	PLA
	STA $0A
	PLA
	STA $0C
	LDA $06
	ORA $0A
	STA $06
	LDA $08
	ORA $0C
	STA $08
	LDA $06
	STA $16
	LDA $08
	STA $18
	LDA #.LOWORD(UNKNOWN_7E97D7)
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $16
	STA $06
	LDA $18
	STA $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSR a:.LOWORD(UNKNOWN_C113D1)
	LDA #NULL
@UNKNOWN3:
	PLD
	RTS

UNKNOWN_C17889: ;$C17889
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEA
	TCD
	PLA
	TXA
	CMP #$0001
	BEQ @UNKNOWN0
	CMP #$0002
	BEQ @UNKNOWN1
	BRA @UNKNOWN2
@UNKNOWN0:
	LDX .LOWORD(CC_ARGUMENT_GATHERING_LOOP_COUNTER)
	SEP #PROC_FLAGS::ACCUM8
	STZ $97D7,X
	REP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(CC_ARGUMENT_GATHERING_LOOP_COUNTER)
	LDA #.LOWORD(UNKNOWN_C17796)
	BRA @UNKNOWN3
@UNKNOWN1:
	LDX .LOWORD(CC_ARGUMENT_GATHERING_LOOP_COUNTER)
	SEP #PROC_FLAGS::ACCUM8
	STZ $97D7,X
	REP #PROC_FLAGS::ACCUM8
	LDA #.LOWORD(UNKNOWN_7E97D7)
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0000
	STA $12
	LDA #$0000
	STA $14
	JSR a:.LOWORD(UNKNOWN_C113D1)
	LDA #NULL
	BRA @UNKNOWN3
@UNKNOWN2:
	SEP #PROC_FLAGS::ACCUM8
	LDX .LOWORD(CC_ARGUMENT_GATHERING_LOOP_COUNTER)
	STA $97D7,X
	REP #PROC_FLAGS::ACCUM8
	INC .LOWORD(CC_ARGUMENT_GATHERING_LOOP_COUNTER)
	LDA #.LOWORD(UNKNOWN_C17889)
@UNKNOWN3:
	PLD
	RTS

.INCLUDE "text/ccs/load_string.asm"

.INCLUDE "text/ccs/tree_18.asm"

.INCLUDE "text/ccs/tree_19.asm"

.INCLUDE "text/ccs/tree_1A.asm"

.INCLUDE "text/ccs/tree_1B.asm"

.INCLUDE "text/ccs/tree_1C.asm"

.INCLUDE "text/ccs/tree_1D.asm"

.INCLUDE "text/ccs/tree_1E.asm"

.INCLUDE "text/ccs/tree_1F.asm"

UNKNOWN_C1866D: ;$C1866D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STA $0E
	LDA $1E
	STA $06
	LDA $20
	STA $08
	LDA $0E
	BNE @UNKNOWN0
	LDA #$0000
	BRA @UNKNOWN1
@UNKNOWN0:
	TAX
	STZ a:.LOWORD(RAM)+4,X
	TAY
	LDA $06
	STA a:.LOWORD(RAM),Y
	LDA $08
	STA a:.LOWORD(RAM)+2,Y
	LDA $0E
@UNKNOWN1:
	PLD
	RTS

UNKNOWN_C1869D: ;$C1869D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	TAX
	BEQ @UNKNOWN0
	LDA a:.LOWORD(RAM)+4,X
	BEQ @UNKNOWN0
	TXA
	CLC
	ADC #$0006
	JSL UNKNOWN_C20ABC
@UNKNOWN0:
	RTS

.INCLUDE "text/display_text.asm"

GIVE_ITEM_TO_SPECIFIC_CHARACTER: ;$C18B2C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TXY
	STY $0E
	TAX
	DEC
	STA $04
	LDA #$0000
	STA $02
	BRA @UNKNOWN4
@UNKNOWN0:
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	CLC
	ADC $02
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	BNE @UNKNOWN3
	LDY $0E
	TYA
	SEP #PROC_FLAGS::ACCUM8
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	TYA
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC #item::type
	TAX
	LDA f:ITEM_CONFIGURATION_TABLE,X
	AND #$00FF
	CMP #$0004
	BNE @UNKNOWN1
	JSL UNKNOWN_C216DB
@UNKNOWN1:
	LDY $0E
	TYA
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC #item::flags
	TAX
	LDA f:ITEM_CONFIGURATION_TABLE,X
	AND #$00FF
	AND #ITEM_FLAGS::TRANSFORM
	BEQ @UNKNOWN2
	LDY $0E
	TYA
	SEP #PROC_FLAGS::ACCUM8
	JSL UNKNOWN_C3EAD0
@UNKNOWN2:
	LDA $04
	INC
	BRA @UNKNOWN7
@UNKNOWN3:
	INC $02
@UNKNOWN4:
	.A16
	LDA #$000E
	CLC
	SBC $02
	BVS @UNKNOWN5
	BMI @UNKNOWN6
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN5:
	BPL @UNKNOWN6
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN6:
	LDA #$0000
@UNKNOWN7:
	PLD
	RTS

GIVE_ITEM_TO_CHARACTER: ;$C18BC6
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	STX $04
	CMP #$00FF
	BNE @UNKNOWN3
	LDA #$0000
	STA $02
	STA $10
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA $10
	STA $02
	CLC
	ADC #.LOWORD(GAME_STATE)+122
	TAY
	STY $0E
	LDX $04
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	JSR a:.LOWORD(GIVE_ITEM_TO_SPECIFIC_CHARACTER)
	CMP #$0000
	BEQ @UNKNOWN1
	LDY $0E
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	BRA @UNKNOWN4
@UNKNOWN1:
	INC $02
	LDA $02
	STA $10
@UNKNOWN2:
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	PHA
	LDA $02
	PLY
	STY $02
	CMP $02
	BCC @UNKNOWN0
	LDA #$0000
	BRA @UNKNOWN4
@UNKNOWN3:
	LDX $04
	JSR a:.LOWORD(GIVE_ITEM_TO_SPECIFIC_CHARACTER)
@UNKNOWN4:
	PLD
	RTL

REMOVE_ITEM_FROM_INVENTORY: ;$C18C27
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	TXY
	STY $12
	TAX
	DEC
	STA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::WEAPON,X
	AND #$00FF
	STA $04
	LDY $12
	TYA
	CMP $04
	BNE @UNKNOWN0
	LDX #$0000
	LDA $02
	INC
	JSL CHANGE_EQUIPPED_WEAPON
	BRA @UNKNOWN3
@UNKNOWN0:
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::BODY,X
	AND #$00FF
	STA $04
	TYA
	CMP $04
	BNE @UNKNOWN1
	LDX #$0000
	LDA $02
	INC
	JSL CHANGE_EQUIPPED_BODY
	BRA @UNKNOWN3
@UNKNOWN1:
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::ARMS,X
	AND #$00FF
	STA $04
	TYA
	CMP $04
	BNE @UNKNOWN2
	LDX #$0000
	LDA $02
	INC
	JSL CHANGE_EQUIPPED_ARMS
	BRA @UNKNOWN3
@UNKNOWN2:
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::OTHER,X
	AND #$00FF
	STA $04
	TYA
	CMP $04
	BNE @UNKNOWN3
	LDX #$0000
	LDA $02
	INC
	JSL CHANGE_EQUIPPED_OTHER
@UNKNOWN3:
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::WEAPON
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $11
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $04
	LDY $12
	TYA
	CMP $04
	BCS @UNKNOWN4
	SEP #PROC_FLAGS::ACCUM8
	LDA $11
	DEC
	STA a:.LOWORD(RAM),X
@UNKNOWN4:
	REP #PROC_FLAGS::ACCUM8
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::BODY
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $11
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $04
	LDY $12
	TYA
	CMP $04
	BCS @UNKNOWN5
	SEP #PROC_FLAGS::ACCUM8
	LDA $11
	DEC
	STA a:.LOWORD(RAM),X
@UNKNOWN5:
	REP #PROC_FLAGS::ACCUM8
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::ARMS
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $11
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $04
	LDY $12
	TYA
	CMP $04
	BCS @UNKNOWN6
	SEP #PROC_FLAGS::ACCUM8
	LDA $11
	DEC
	STA a:.LOWORD(RAM),X
@UNKNOWN6:
	REP #PROC_FLAGS::ACCUM8
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::OTHER
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $11
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $04
	LDY $12
	TYA
	CMP $04
	BCS @UNKNOWN7
	SEP #PROC_FLAGS::ACCUM8
	LDA $11
	DEC
	STA a:.LOWORD(RAM),X
@UNKNOWN7:
	REP #PROC_FLAGS::ACCUM8
	TYA
	DEC
	STA $04
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	CLC
	ADC $04
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $00
	BRA @UNKNOWN9
@UNKNOWN8:
	TYA
	DEC
	STA $04
	LDX $0F
	TXA
	CLC
	ADC $04
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	STA a:.LOWORD(RAM),X
	INY
	STY $12
@UNKNOWN9:
	LDY $12
	CPY #$000E
	BCS @UNKNOWN10
	REP #PROC_FLAGS::ACCUM8
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	TAX
	STX $0F
	LDY $12
	STY $04
	TXA
	CLC
	ADC $04
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	BNE @UNKNOWN8
@UNKNOWN10:
	REP #PROC_FLAGS::ACCUM8
	TYA
	DEC
	STA $04
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	CLC
	ADC $04
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	LOADPTR ITEM_CONFIGURATION_TABLE, $06
	LDA $00
	AND #$00FF
	LDY #.SIZEOF(item)
	JSL MULT168
	STA $12
	CLC
	ADC #item::type
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	CMP #$0004
	BNE @UNKNOWN11
	LDA $12
	CLC
	ADC #item::strength
	CLC
	ADC $06
	STA $06
	SEP #PROC_FLAGS::ACCUM8
	LDA [$06]
	REP #PROC_FLAGS::ACCUM8
	SEC
	AND #$00FF
	SBC #$0080
	EOR #$FF80
	JSL REMOVE_CHAR_FROM_PARTY
	JSL UNKNOWN_C216DB
@UNKNOWN11:
	LDA $00
	AND #$00FF
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC #item::flags
	TAX
	LDA f:ITEM_CONFIGURATION_TABLE,X
	AND #$00FF
	AND #ITEM_FLAGS::TRANSFORM
	BEQ @UNKNOWN12
	SEP #PROC_FLAGS::ACCUM8
	LDA $00
	JSL UNKNOWN_C3EB1C
@UNKNOWN12:
	LDA $02
	INC
	PLD
	RTS

TAKE_ITEM_FROM_SPECIFIC_CHARACTER: ;$C18E5B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STX $04
	TAX
	DEC
	STA $0E
	LDA #$0000
	STA $02
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA $0E
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	CLC
	ADC $02
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	CMP $04
	BNE @UNKNOWN1
	LDX $02
	INX
	LDA $0E
	INC
	JSR a:.LOWORD(REMOVE_ITEM_FROM_INVENTORY)
	BRA @UNKNOWN5
@UNKNOWN1:
	INC $02
@UNKNOWN2:
	LDA #$000E
	CLC
	SBC $02
	BVS @UNKNOWN3
	BPL @UNKNOWN0
	BRA @UNKNOWN4
@UNKNOWN3:
	BMI @UNKNOWN0
@UNKNOWN4:
	LDA #$0000
@UNKNOWN5:
	PLD
	RTS

TAKE_ITEM_FROM_CHARACTER: ;$C18EAD
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	STX $04
	CMP #$00FF
	BNE @UNKNOWN3
	LDA #$0000
	STA $02
	STA $10
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA $10
	STA $02
	CLC
	ADC #.LOWORD(GAME_STATE)+122
	TAY
	STY $0E
	LDX $04
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	JSR a:.LOWORD(TAKE_ITEM_FROM_SPECIFIC_CHARACTER)
	CMP #$0000
	BEQ @UNKNOWN1
	LDY $0E
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	BRA @UNKNOWN4
@UNKNOWN1:
	INC $02
	LDA $02
	STA $10
@UNKNOWN2:
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	PHA
	LDA $02
	PLY
	STY $02
	CMP $02
	BCC @UNKNOWN0
	LDA #$0000
	BRA @UNKNOWN4
@UNKNOWN3:
	LDX $04
	JSR a:.LOWORD(TAKE_ITEM_FROM_SPECIFIC_CHARACTER)
@UNKNOWN4:
	PLD
	RTL

REDUCE_HP_AMTPERCENT: ;$C18F0E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	STY $12
	STX $04
	CMP #$00FF
	BNE @UNKNOWN2
	LDA #$0000
	STA $02
	STA $10
	BRA @UNKNOWN1
@UNKNOWN0:
	LDY $12
	LDX $04
	STX $0E
	LDA $10
	STA $02
	LDX $02
	LDA .LOWORD(GAME_STATE)+122,X
	AND #$00FF
	LDX $0E
	JSL UNKNOWN_C3EC1F
	INC $02
	LDA $02
	STA $10
@UNKNOWN1:
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	PHA
	LDA $02
	PLY
	STY $02
	CMP $02
	BCC @UNKNOWN0
	BRA @UNKNOWN3
@UNKNOWN2:
	LDY $12
	LDX $04
	JSL UNKNOWN_C3EC1F
@UNKNOWN3:
	PLD
	RTS

RECOVER_HP_AMTPERCENT: ;$C18F64
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	STY $12
	STX $04
	CMP #$00FF
	BNE @UNKNOWN2
	LDA #$0000
	STA $02
	STA $10
	BRA @UNKNOWN1
@UNKNOWN0:
	LDY $12
	LDX $04
	STX $0E
	LDA $10
	STA $02
	LDX $02
	LDA .LOWORD(GAME_STATE)+122,X
	AND #$00FF
	LDX $0E
	JSL UNKNOWN_C3EC8B
	INC $02
	LDA $02
	STA $10
@UNKNOWN1:
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	PHA
	LDA $02
	PLY
	STY $02
	CMP $02
	BCC @UNKNOWN0
	BRA @UNKNOWN3
@UNKNOWN2:
	LDY $12
	LDX $04
	JSL UNKNOWN_C3EC8B
@UNKNOWN3:
	PLD
	RTS

REDUCE_PP_AMTPERCENT: ;$C18FBA
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	STY $12
	STX $04
	CMP #$00FF
	BNE @UNKNOWN2
	LDA #$0000
	STA $02
	STA $10
	BRA @UNKNOWN1
@UNKNOWN0:
	LDY $12
	LDX $04
	STX $0E
	LDA $10
	STA $02
	LDX $02
	LDA .LOWORD(GAME_STATE)+122,X
	AND #$00FF
	LDX $0E
	JSL UNKNOWN_C3ED2C
	INC $02
	LDA $02
	STA $10
@UNKNOWN1:
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	PHA
	LDA $02
	PLY
	STY $02
	CMP $02
	BCC @UNKNOWN0
	BRA @UNKNOWN3
@UNKNOWN2:
	LDY $12
	LDX $04
	JSL UNKNOWN_C3ED2C
@UNKNOWN3:
	PLD
	RTS

RECOVER_PP_AMTPERCENT: ;$C19010
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	STY $12
	STX $04
	CMP #$00FF
	BNE @UNKNOWN2
	LDA #$0000
	STA $02
	STA $10
	BRA @UNKNOWN1
@UNKNOWN0:
	LDY $12
	LDX $04
	STX $0E
	LDA $10
	STA $02
	LDX $02
	LDA .LOWORD(GAME_STATE)+122,X
	AND #$00FF
	LDX $0E
	JSL UNKNOWN_C3ED98
	INC $02
	LDA $02
	STA $10
@UNKNOWN1:
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	PHA
	LDA $02
	PLY
	STY $02
	CMP $02
	BCC @UNKNOWN0
	BRA @UNKNOWN3
@UNKNOWN2:
	LDY $12
	LDX $04
	JSL UNKNOWN_C3ED98
@UNKNOWN3:
	PLD
	RTS

EQUIP_ITEM: ;$C19066
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	STX $10
	STA $0E
	TXA
	DEC
	STA $02
	LDA $0E
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	CLC
	ADC $02
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC #item::type
	TAX
	LDA f:ITEM_CONFIGURATION_TABLE,X
	AND #$00FF
	AND #$000C
	BEQ @UNKNOWN0
	CMP #$0004
	BEQ @UNKNOWN1
	CMP #$0008
	BEQ @UNKNOWN2
	CMP #$000C
	BEQ @UNKNOWN3
	BRA @UNKNOWN4
@UNKNOWN0:
	LDX $10
	LDA $0E
	JSL CHANGE_EQUIPPED_WEAPON
	BRA @UNKNOWN5
@UNKNOWN1:
	LDX $10
	LDA $0E
	JSL CHANGE_EQUIPPED_BODY
	BRA @UNKNOWN5
@UNKNOWN2:
	LDX $10
	LDA $0E
	JSL CHANGE_EQUIPPED_ARMS
	BRA @UNKNOWN5
@UNKNOWN3:
	LDX $10
	LDA $0E
	JSL CHANGE_EQUIPPED_OTHER
	BRA @UNKNOWN5
@UNKNOWN4:
	LDA #$0000
@UNKNOWN5:
	PLD
	RTS

UNKNOWN_C190E6: ;$C190E6
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	TAX
	DEX
	LDA .LOWORD(GAME_STATE)+150,X
	AND #$00FF
	RTS

UNKNOWN_C190F1: ;$C190F1
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDA #$0024
	STA $0E
	LDX #$0000
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA .LOWORD(GAME_STATE)+182,X
	AND #$00FF
	BEQ @UNKNOWN1
	LDA $0E
	DEC
	STA $0E
@UNKNOWN1:
	INX
@UNKNOWN2:
	CPX #$0003
	BCC @UNKNOWN0
	LDX #$0000
	BRA @UNKNOWN5
@UNKNOWN3:
	LDA .LOWORD(GAME_STATE)+game_state::escargo_express_items,X
	AND #$00FF
	BNE @UNKNOWN4
	LDA #$0000
	BRA @UNKNOWN8
@UNKNOWN4:
	INX
@UNKNOWN5:
	STX $02
	LDA $0E
	CLC
	SBC $02
	BVS @UNKNOWN6
	BPL @UNKNOWN3
	BRA @UNKNOWN7
@UNKNOWN6:
	BMI @UNKNOWN3
@UNKNOWN7:
	LDA #$0001
@UNKNOWN8:
	PLD
	RTS

ESCARGO_EXPRESS_STORE: ;$C1913D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TAY
	LDA #$0000
	STA $0E
	BRA ESCARGO_EXPRESS_STORE_LOOP_ENTRY
ESCARGO_EXPRESS_STORE_LOOP_BEGIN:
	LDA $0E
	CLC
	ADC #.LOWORD(GAME_STATE)+game_state::escargo_express_items
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	BNE ESCARGO_EXPRESS_STORE_ENTRY_FILLED
	TYA
	SEP #PROC_FLAGS::ACCUM8
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	TYA
	BRA ESCARGO_EXPRESS_STORE_RETURN
ESCARGO_EXPRESS_STORE_ENTRY_FILLED:
	LDA $0E
	INC
	STA $0E
ESCARGO_EXPRESS_STORE_LOOP_ENTRY:
	STA $02
	LDA #$0024
	CLC
	SBC $02
	BVS ESCARGO_EXPRESS_STORE_CHECKMINUS
	BPL ESCARGO_EXPRESS_STORE_LOOP_BEGIN
	BRA ESCARGO_EXPRESS_STORE_RETURN_ZERO
ESCARGO_EXPRESS_STORE_CHECKMINUS:
	BMI ESCARGO_EXPRESS_STORE_LOOP_BEGIN
ESCARGO_EXPRESS_STORE_RETURN_ZERO:
	LDA #$0000
ESCARGO_EXPRESS_STORE_RETURN:
	PLD
	RTS

ESCARGO_EXPRESS_MOVE: ;$C19183
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STX $02
	TAY
	STY $0E
	LDX $02
	TYA
	JSL UNKNOWN_C3E977
	JSR a:.LOWORD(ESCARGO_EXPRESS_STORE)
	CMP #$0000
	BEQ ESCARGO_EXPRESS_MOVE_RETURN_ZERO
	LDX $02
	LDY $0E
	TYA
	JSR a:.LOWORD(REMOVE_ITEM_FROM_INVENTORY)
	BRA ESCARGO_EXPRESS_MOVE_RETURN
ESCARGO_EXPRESS_MOVE_RETURN_ZERO:
	LDA #$0000
ESCARGO_EXPRESS_MOVE_RETURN:
	PLD
	RTS

UNKNOWN_C191B0: ;$C191B0
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TAX
	DEX
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(GAME_STATE)+game_state::escargo_express_items,X
	STA $01
	BRA @UNKNOWN1
@UNKNOWN0:
	SEP #PROC_FLAGS::ACCUM8
	LDA $00
	STA .LOWORD(GAME_STATE)+game_state::escargo_express_items,X
	REP #PROC_FLAGS::ACCUM8
	LDA $0E
	TAX
@UNKNOWN1:
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(GAME_STATE)+game_state::escargo_express_items+1,X
	STA $00
	REP #PROC_FLAGS::ACCUM8
	LDA $00
	AND #$00FF
	BEQ @UNKNOWN2
	TXA
	INC
	STA $0E
	CMP #$0024
	BCC @UNKNOWN0
@UNKNOWN2:
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(GAME_STATE)+game_state::escargo_express_items,X
	REP #PROC_FLAGS::ACCUM8
	LDA $01
	AND #$00FF
	PLD
	RTS

UNKNOWN_C191F8: ;$C191F8
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TAY
	STY $0E
	TXA
	JSR a:.LOWORD(UNKNOWN_C191B0)
	TAX
	LDY $0E
	TYA
	JSL GIVE_ITEM_TO_CHARACTER
	LDY $0E
	TYA
	PLD
	RTS

UNKNOWN_C19216: ;$C19216
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	STA $12
	LOADPTR ITEM_CONFIGURATION_TABLE, $06
	LDA $12
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDA #item::type
	JSL UNKNOWN_C4487C
	PLD
	RTS

UNKNOWN_C19249: ;$C19249
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	STA $12
	LOADPTR CC_1C_01_TABLE, $06
	LDA $12
	OPTIMIZED_MULT $04, 3
	TAX
	LDY $06
	STY $0A
	LDY $08
	STY $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	STA $12
	AND #$0080
	BEQ @UNKNOWN3
	LDA $12
	AND #$007F
	CMP #$0001
	BEQ @UNKNOWN0
	CMP #$0002
	BEQ @UNKNOWN1
	BRA @UNKNOWN2
@UNKNOWN0:
	TXA
	INC
	CLC
	ADC $06
	STA $06
	LDA [$06]
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $06
	STZ $07
	STZ $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	BRA @UNKNOWN4
@UNKNOWN1:
	TXA
	INC
	CLC
	ADC $06
	STA $06
	LDA [$06]
	TAX
	LDA a:.LOWORD(RAM),X
	STA $06
	STZ $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	BRA @UNKNOWN4
@UNKNOWN2:
	TXA
	INC
	CLC
	ADC $06
	STA $06
	LDA [$06]
	TAY
	LDA a:.LOWORD(RAM),Y
	STA $06
	LDA a:.LOWORD(RAM)+2,Y
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	BRA @UNKNOWN4
@UNKNOWN3:
	TXA
	INC
	CLC
	ADC $06
	STA $06
	LDA [$06]
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $12
	JSL UNKNOWN_C447FB
@UNKNOWN4:
	PLD
	RTS

UNKNOWN_C1931B: ;$C1931B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	STA $12
	CMP #$0004
	BCC @UNKNOWN2
	BEQ @UNKNOWN2
	CMP #$0007
	BNE @UNKNOWN1
	LDA #.LOWORD(GAME_STATE) + game_state::pet_name
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA #PET_NAMELEN
	STA $12
	LDA UNKNOWN_7EB49D
	AND #$00FF
	BEQ @UNKNOWN0
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $12
	JSR a:.LOWORD(DISPLAY_CONFIG_MENU_TITLE)
	JMP a:.LOWORD(@UNKNOWN4)
@UNKNOWN0:
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $12
	JSL UNKNOWN_C447FB
	BRA @UNKNOWN4
@UNKNOWN1:
	LOADPTR ENEMY_CONFIGURATION_TABLE, $06
	LDA $12
	OPTIMIZED_MULT $04, 2
	TAX
	INX
	LDA f:NPC_AI_TABLE,X
	AND #$00FF
	LDY #.SIZEOF(enemy_data)
	JSL MULT168
	INC
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0019
	JSL UNKNOWN_C447FB
	BRA @UNKNOWN4
@UNKNOWN2:
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT) + char_struct::name
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA #NAMELEN
	STA $12
	LDA f:UNKNOWN_7EB49D
	AND #$00FF
	BEQ @UNKNOWN3
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $12
	JSR a:.LOWORD(DISPLAY_CONFIG_MENU_TITLE)
	BRA @UNKNOWN4
@UNKNOWN3:
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $12
	JSL UNKNOWN_C447FB
@UNKNOWN4:
	PLD
	RTS

UNKNOWN_C193E7: ;$C193E7
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	TAX
	STX $12
	LDA #.LOWORD(UNKNOWN_7E9C8A)
	JSL UNKNOWN_C20A20
	JSL SET_9622_ONE
	LDA #$0028
	JSR a:.LOWORD(CREATE_WINDOW)
	LOADPTR MISC_TARGET_TEXT, $06
	LDX $12
	TXA
	OPTIMIZED_MULT $04, 10
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$000A
	JSR a:.LOWORD(DISPLAY_CONFIG_MENU_TITLE)
	JSL CLEAR_9622
	LDA #.LOWORD(UNKNOWN_7E9C8A)
	JSL UNKNOWN_C20ABC
	PLD
	RTS

UNKNOWN_C19437: ;$C19437
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$0028
	JSL CLOSE_WINDOW
	RTS

UNKNOWN_C19441: ;$C19441
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE6
	TCD
	LDA #$0000
	STA $02
	LDA #.LOWORD(UNKNOWN_7E9C8A)
	JSL UNKNOWN_C20A20
	LDA #$0007
	JSR a:.LOWORD(CREATE_WINDOW)
	LOADPTR MISC_TARGET_TEXT+50, $0E
	LDX #$0005
	LDA #$0007
	JSL READ_NAME
	LDY #$0001
	STY $18
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA $16
	CLC
	ADC #$0019
	CLC
	ADC $06
	STA $06
	LDA [$06]
	JSL GET_EVENT_FLAG
	CMP #$0000
	BEQ @UNKNOWN1
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0019
	LDA #.LOWORD(UNKNOWN_7E9C9F)
	JSL MEMCPY16
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(UNKNOWN_7E9CB8)
	REP #PROC_FLAGS::ACCUM8
	LDA #.LOWORD(UNKNOWN_7E9C9F)
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0000
	STA $12
	LDA #$0000
	STA $14
	LDY $18
	TYA
	JSR a:.LOWORD(UNKNOWN_C115F4)
@UNKNOWN1:
	LDY $18
	INY
	STY $18
@UNKNOWN2:
	LOADPTR TELEPHONE_CONTACTS_TABLE, $06
	TYA
	LDY #$001F
	JSL MULT168
	STA $16
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	BEQ @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN3:
	LDA #$0000
	JSR a:.LOWORD(UNKNOWN_C12BD5)
	CMP #$0000
	BEQ @UNKNOWN4
	LDY #$0001
	LDX #$0000
	TYA
	JSR a:.LOWORD(UNKNOWN_C1180D)
	LDA #$0001
	JSR a:.LOWORD(SELECTION_MENU)
	STA $02
@UNKNOWN4:
	JSR a:.LOWORD(CLOSE_FOCUS_WINDOW)
	LDA #.LOWORD(UNKNOWN_7E9C8A)
	JSL UNKNOWN_C20ABC
	LDA $02
	PLD
	RTS

UNKNOWN_C1952F: ;$C1952F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEB
	TCD
	PLA
	TAX
	DEC
	STA $02
	JSL SET_9622_ONE
	LDA #$0008
	JSR a:.LOWORD(CREATE_WINDOW)
	JSL CALL_C12DD5_WITH_ZERO_9622
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E5E71)
	DISPLAY_TEXT_PTR STATUS_WINDOW_TEXT
	STZ .LOWORD(UNKNOWN_7E5E71)
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN0
	LDA #$0008
	STA .LOWORD(UNKNOWN_7E5E7A)
@UNKNOWN0:
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAY
	STY $13
	TYA
	CLC
	ADC #.LOWORD(CHAR_STRUCT)
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0005
	LDA #$0008
	JSL READ_NAME
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E5E71)
	JSR a:.LOWORD(UNKNOWN_C10EB4)
	LDX #$0000
	LDA #$0026
	JSL UNKNOWN_C43D75
	LDY $13
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CHAR_STRUCT)+char_struct::level,Y
	STA $06
	STZ $07
	STZ $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	LDA #$0002
	JSR a:.LOWORD(UNKNOWN_C10EB4)
	LDX #$0003
	LDA #.SIZEOF(enemy_data)
	JSL UNKNOWN_C43D75
	LDY $13
	LDA .LOWORD(CHAR_STRUCT)+char_struct::current_hp,Y
	STA $06
	STZ $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	LDX #$0003
	LDA #$0072
	JSL UNKNOWN_C43D75
	LDA #$005F
	JSR a:.LOWORD(PRINT_LETTER)
	LDX #$0003
	LDA #$0079
	JSL UNKNOWN_C43D75
	LDY $13
	LDA .LOWORD(CHAR_STRUCT)+char_struct::max_hp,Y
	STA $06
	STZ $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	LDX #$0004
	LDA #.SIZEOF(enemy_data)
	JSL UNKNOWN_C43D75
	LDY $13
	LDA .LOWORD(CHAR_STRUCT)+char_struct::current_pp,Y
	STA $06
	STZ $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	LDX #$0004
	LDA #$0072
	JSL UNKNOWN_C43D75
	LDA #$005F
	JSR a:.LOWORD(PRINT_LETTER)
	LDX #$0004
	LDA #$0079
	JSL UNKNOWN_C43D75
	LDY $13
	LDA .LOWORD(CHAR_STRUCT)+char_struct::max_pp,Y
	STA $06
	STZ $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	LDX #$0000
	LDA #$00C7
	JSL UNKNOWN_C43D75
	LDY $13
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CHAR_STRUCT)+char_struct::offense,Y
	STA $06
	STZ $07
	STZ $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	LDX #$0001
	LDA #$00C7
	JSL UNKNOWN_C43D75
	LDY $13
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CHAR_STRUCT)+char_struct::defense,Y
	STA $06
	STZ $07
	STZ $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	LDX #$0002
	LDA #$00C7
	JSL UNKNOWN_C43D75
	LDY $13
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CHAR_STRUCT)+char_struct::speed,Y
	STA $06
	STZ $07
	STZ $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	LDX #$0003
	LDA #$00C7
	JSL UNKNOWN_C43D75
	LDY $13
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CHAR_STRUCT)+char_struct::guts,Y
	STA $06
	STZ $07
	STZ $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	LDX #$0004
	LDA #$00C7
	JSL UNKNOWN_C43D75
	LDY $13
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CHAR_STRUCT)+char_struct::vitality,Y
	STA $06
	STZ $07
	STZ $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	LDX #$0005
	LDA #$00C7
	JSL UNKNOWN_C43D75
	LDY $13
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CHAR_STRUCT)+char_struct::iq,Y
	STA $06
	STZ $07
	STZ $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	LDX #$0006
	LDA #$00C7
	JSL UNKNOWN_C43D75
	LDY $13
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CHAR_STRUCT)+char_struct::luck,Y
	STA $06
	STZ $07
	STZ $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	LDA #$0006
	JSR a:.LOWORD(UNKNOWN_C10EB4)
	LDX #$0005
	LDA #$0061
	JSL UNKNOWN_C43D75
	LDY $13
	TYA
	CLC
	ADC #.LOWORD(CHAR_STRUCT) + char_struct::exp
	TAY
	LDA a:.LOWORD(RAM),Y
	STA $06
	LDA a:.LOWORD(RAM)+2,Y
	STA $08
	LDA #.LOWORD(EXP_LIMIT)
	STA $0A
	LDA #.HIWORD(EXP_LIMIT)
	STA $0C
	CLC
	LDA $06
	SBC $0A
	LDA $08
	SBC $0C
	BVC @UNKNOWN1
	BPL @UNKNOWN3
	BRA @UNKNOWN2
@UNKNOWN1:
	BMI @UNKNOWN3
@UNKNOWN2:
	LDA $0A
	STA $06
	LDA $0C
	STA $08
@UNKNOWN3:
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	LDX #$0006
	LDA #$000A
	JSL UNKNOWN_C43D75
	LDA $02
	INC
	JSL GET_REQUIRED_EXP
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	STZ .LOWORD(UNKNOWN_7E5E71)
	LDX #$0000
	STX $13
	JMP a:.LOWORD(@UNKNOWN10)
@UNKNOWN4:
	STX $04
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::afflictions
	CLC
	ADC $04
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $12
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	BEQ @UNKNOWN9
	LDX $13
	TXA
	BEQ @UNKNOWN5
	CMP #$0001
	BEQ @UNKNOWN6
	CMP #$0005
	BEQ @UNKNOWN7
	BRA @UNKNOWN11
@UNKNOWN5:
	LOADPTR STATUS_EQUIP_WINDOW_TEXT+329, $06
	LDA $12
	AND #$00FF
	DEC
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	BRA @UNKNOWN8
@UNKNOWN6:
	LOADPTR STATUS_EQUIP_WINDOW_TEXT+329, $06
	LDA $12
	AND #$00FF
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC #$0060
	CLC
	ADC $06
	STA $06
	BRA @UNKNOWN8
@UNKNOWN7:
	LOADPTR STATUS_EQUIP_WINDOW_TEXT+473, $06
@UNKNOWN8:
	LDX #$0001
	TXA
	JSL UNKNOWN_C438A5
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0100
	JSR a:.LOWORD(DISPLAY_CONFIG_MENU_TITLE)
	BRA @UNKNOWN11
@UNKNOWN9:
	LDX $13
	INX
	STX $13
@UNKNOWN10:
	CPX #$0007
	BCS @UNKNOWN11
	BEQ @UNKNOWN11
	JMP a:.LOWORD(@UNKNOWN4)
@UNKNOWN11:
	LDX #$0001
	LDA #$000B
	JSL UNKNOWN_C438A5
	LDX #$0000
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::afflictions
	JSL UNKNOWN_C223D9
	JSL UNKNOWN_C43F77
	LDA $02
	CMP #$0002
	BEQ @UNKNOWN12
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E5E71)
	LDX #$0007
	LDA #$0024
	JSL UNKNOWN_C43D75
	LOADPTR STATUS_EQUIP_WINDOW_TEXT+294, $0E
	LDA #$0023
	JSR a:.LOWORD(DISPLAY_CONFIG_MENU_TITLE)
	STZ .LOWORD(UNKNOWN_7E5E71)
@UNKNOWN12:
	JSL CLEAR_9622
	PLD
	RTL

INVENTORY_GET_ITEM_NAME: ;$C198DE
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE6
	TCD
	PLA
	TXY
	STY $18
	TAX
	DEC
	STA $04
	TYA
	JSR a:.LOWORD(CREATE_WINDOW)
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN0
	LDY $18
	STY .LOWORD(UNKNOWN_7E5E7A)
@UNKNOWN0:
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0005
	LDY $18
	TYA
	JSL READ_NAME
	LDA #$0000
	STA $02
	JMP a:.LOWORD(@UNKNOWN5)
@UNKNOWN1:
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	CLC
	ADC $02
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	TAY
	STY $16
	LDX $02
	INX
	LDA $04
	INC
	JSL UNKNOWN_C3E9A0
	CMP #$0000
	BEQ @UNKNOWN2
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0022
	STA .LOWORD(UNKNOWN_7E9C9F)
	REP #PROC_FLAGS::ACCUM8
	LOADPTR ITEM_CONFIGURATION_TABLE, $06
	LDY $16
	TYA
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDX #item::type
	LDA #.LOWORD(UNKNOWN_7E9CA0)
	JSL MEMCPY16
	BRA @UNKNOWN3
@UNKNOWN2:
	LOADPTR ITEM_CONFIGURATION_TABLE, $06
	LDY $16
	TYA
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDX #item::type
	LDA #.LOWORD(UNKNOWN_7E9C9F)
	JSL MEMCPY16
@UNKNOWN3:
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(UNKNOWN_7E9CB8)
	LDY $16
	BEQ @UNKNOWN4
	REP #PROC_FLAGS::ACCUM8
	LDA #$9C9F
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0000
	STA $12
	LDA #$0000
	STA $14
	JSR a:.LOWORD(UNKNOWN_C113D1)
@UNKNOWN4:
	REP #PROC_FLAGS::ACCUM8
	INC $02
@UNKNOWN5:
	LDA #$000E
	CLC
	SBC $02
	BVS @UNKNOWN6
	BMI @UNKNOWN7
	JMP a:.LOWORD(@UNKNOWN1)
@UNKNOWN6:
	BPL @UNKNOWN7
	JMP a:.LOWORD(@UNKNOWN1)
@UNKNOWN7:
	JSL CALL_C12DD5_WITH_ZERO_9622
	LDY #$0000
	TYX
	LDA #$0002
	JSR a:.LOWORD(UNKNOWN_C1180D)
	PLD
	RTS

UNKNOWN_C19A11: ;$C19A11
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	TXY
	STY $10
	TAX
	STX $0E
	LDA #.LOWORD(UNKNOWN_7E9C8A)
	JSL UNKNOWN_C20A20
	LDX $0E
	TXA
	JSR a:.LOWORD(SET_WINDOW_FOCUS)
	LDY $10
	TYA
	JSR a:.LOWORD(SELECTION_MENU)
	TAX
	STX $0E
	LDA #.LOWORD(UNKNOWN_7E9C8A)
	JSL UNKNOWN_C20ABC
	LDX $0E
	TXA
	PLD
	RTS

UNKNOWN_C19A43: ;$C19A43
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE6
	TCD
	LDY #$9CAB
	STY $18
	LDA #.LOWORD(UNKNOWN_7E9C8A)
	JSL UNKNOWN_C20A20
	LDA #$000D
	JSR a:.LOWORD(CREATE_WINDOW)
	LOADPTR STATUS_EQUIP_WINDOW_TEXT+489, $0E
	LDX #$000C
	LDA #$9C9F
	JSL MEMCPY16
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0058
	LDY $18
	STA a:.LOWORD(RAM),Y
	TYX
	INX
	LDA #$0061
	STA a:.LOWORD(RAM),X
	INX
	LDA #$0059
	STA a:.LOWORD(RAM),X
	INX
	LDA #$0000
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	LDA #$9C9F
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$FFFF
	LDA #$000D
	JSL READ_NAME
	LDA #$0000
	STA $02
	BRA @UNKNOWN2
@UNKNOWN0:
	LDX $02
	LDA .LOWORD(GAME_STATE)+game_state::escargo_express_items,X
	AND #$00FF
	TAY
	STY $16
	LOADPTR ITEM_CONFIGURATION_TABLE, $06
	TYA
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDX #item::type
	LDA #$9C9F
	JSL MEMCPY16
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(UNKNOWN_7E9CB8)
	LDY $16
	BEQ @UNKNOWN1
	REP #PROC_FLAGS::ACCUM8
	LDA #$9C9F
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0000
	STA $12
	LDA #$0000
	STA $14
	JSR a:.LOWORD(UNKNOWN_C113D1)
@UNKNOWN1:
	REP #PROC_FLAGS::ACCUM8
	INC $02
@UNKNOWN2:
	LDA $02
	CMP #$0024
	BCC @UNKNOWN0
	LDY #$0001
	LDX #$0000
	LDA #$0002
	JSR a:.LOWORD(UNKNOWN_C1180D)
	LDA #$0001
	JSR a:.LOWORD(SELECTION_MENU)
	TAX
	STX $18
	LDA #$000D
	JSL UNKNOWN_EF0115
	STZ .LOWORD(UNKNOWN_7E5E71)
	LDA #.LOWORD(UNKNOWN_7E9C8A)
	JSL UNKNOWN_C20ABC
	LDX $18
	TXA
	PLD
	RTS

SET_HPPP_WINDOW_MODE_ITEM: ;$C19B4E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	STA $04
	LDY #$0000
	STY $12
	JMP a:.LOWORD(@UNKNOWN17)
@UNKNOWN0:
	LDX $04
	TYA
	INC
	JSL UNKNOWN_C3EE14
	CMP #$0000
	BNE @UNKNOWN1
	LDA #$0C00
	STA $10
	JMP a:.LOWORD(@UNKNOWN16)
@UNKNOWN1:
	LDA $04
	JSR a:.LOWORD(GET_ITEM_TYPE)
	CMP #$0002
	BEQ @UNKNOWN2
	LDA #$0400
	STA $10
	JMP a:.LOWORD(@UNKNOWN16)
@UNKNOWN2:
	LDA $04
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC #item::type
	TAX
	LDA f:ITEM_CONFIGURATION_TABLE,X
	AND #$00FF
	AND #$000C
	BEQ @UNKNOWN3
	CMP #$0004
	BEQ @UNKNOWN4
	CMP #$0008
	BEQ @UNKNOWN5
	CMP #$000C
	BEQ @UNKNOWN6
	BRA @UNKNOWN7
@UNKNOWN3:
	LDY $12
	TYA
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::WEAPON,X
	AND #$00FF
	STA $02
	STA $0E
	BRA @UNKNOWN7
@UNKNOWN4:
	LDY $12
	TYA
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::BODY,X
	AND #$00FF
	STA $02
	STA $0E
	BRA @UNKNOWN7
@UNKNOWN5:
	LDY $12
	TYA
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::ARMS,X
	AND #$00FF
	STA $02
	STA $0E
	BRA @UNKNOWN7
@UNKNOWN6:
	LDY $12
	TYA
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::OTHER,X
	AND #$00FF
	STA $02
	STA $0E
@UNKNOWN7:
	LDA $0E
	STA $02
	BEQ @UNKNOWN9
	LDX #$0000
	STX $10
	LDY $12
	CPY #$0003
	BNE @UNKNOWN8
	LDX #$0001
	STX $10
@UNKNOWN8:
	LDA $02
	DEC
	STA $02
	TYA
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	CLC
	ADC $02
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	LDY #.SIZEOF(item)
	JSL MULT168
	LDX $10
	STX $02
	CLC
	ADC $02
	CLC
	ADC #item::strength
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:ITEM_CONFIGURATION_TABLE,X
	REP #PROC_FLAGS::ACCUM8
	SEC
	AND #$00FF
	SBC #$0080
	EOR #$FF80
	BRA @UNKNOWN10
@UNKNOWN9:
	LDA #$0000
@UNKNOWN10:
	LDX #$0000
	LDY $12
	CPY #$0003
	BNE @UNKNOWN11
	LDX #$0001
@UNKNOWN11:
	PHA
	STX $02
	LDA $04
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC $02
	CLC
	ADC #item::strength
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:ITEM_CONFIGURATION_TABLE,X
	REP #PROC_FLAGS::ACCUM8
	SEC
	AND #$00FF
	SBC #$0080
	EOR #$FF80
	PLY
	STY $02
	CLC
	SBC $02
	BVC @UNKNOWN12
	BPL @UNKNOWN14
	BRA @UNKNOWN13
@UNKNOWN12:
	BMI @UNKNOWN14
@UNKNOWN13:
	LDX #$1400
	BRA @UNKNOWN15
@UNKNOWN14:
	LDX #$0400
@UNKNOWN15:
	TXA
	STA $10
@UNKNOWN16:
	LDY $12
	TYA
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA $10
	STA .LOWORD(CHAR_STRUCT)+char_struct::hp_pp_window_options,X
	LDY $12
	INY
	STY $12
@UNKNOWN17:
	CPY #$0004
	BCS @UNKNOWN18
	BEQ @UNKNOWN18
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN18:
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E9623)
	PLD
	RTL

UNKNOWN_C19CDD: ;$C19CDD
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEC
	TCD
	LDA #$0000
	STA $12
	BRA @UNKNOWN1
@UNKNOWN0:
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA #$0400
	STA .LOWORD(CHAR_STRUCT)+char_struct::hp_pp_window_options,X
	LDA $12
	INC
	STA $12
@UNKNOWN1:
	CMP #$0004
	BCC @UNKNOWN0
	LOADPTR TEXT_WINDOW_FLAVOUR_PALETTES, $06
	LDA .LOWORD(GAME_STATE)+game_state::text_flavour
	AND #$00FF
	DEC
	STA $04
	ASL
	ADC $04
	TAX
	LDA f:TEXT_WINDOW_PROPERTIES,X
	CLC
	ADC #$0028
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0008
	LDA #$0218
	JSL MEMCPY16
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0018
	STA a:.LOWORD(UNKNOWN_7E002F)+1
	REP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E9623)
	PLD
	RTS

UNKNOWN_C19D49: ;$C19D49
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEC
	TCD
	LDA #$0000
	STA $12
	BRA @UNKNOWN1
@UNKNOWN0:
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA #$0400
	STA .LOWORD(CHAR_STRUCT)+char_struct::hp_pp_window_options,X
	LDA $12
	INC
	STA $12
@UNKNOWN1:
	CMP #$0004
	BCC @UNKNOWN0
	LOADPTR TEXT_WINDOW_FLAVOUR_PALETTES, $06
	LDA .LOWORD(GAME_STATE)+game_state::text_flavour
	AND #$00FF
	DEC
	STA $04
	ASL
	ADC $04
	TAX
	LDA f:TEXT_WINDOW_PROPERTIES,X
	CLC
	ADC #$0018
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0008
	LDA #$0218
	JSL MEMCPY16
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0018
	STA a:.LOWORD(UNKNOWN_7E002F)+1
	REP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E9623)
	PLD
	RTS

UNKNOWN_C19DB5: ;$C19DB5
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE0
	TCD
	PLA
	STA $1E
	JSR a:.LOWORD(UNKNOWN_C1AA18)
	JSL SET_9622_ONE
	LDA #.LOWORD(UNKNOWN_7E9C8A)
	JSL UNKNOWN_C20A20
	LDA #$000C
	JSR a:.LOWORD(CREATE_WINDOW)
	LDA #$0005
	JSR a:.LOWORD(UNKNOWN_C10EB4)
	LDA #$0000
	STA $04
	STA $1C
	JMP a:.LOWORD(@UNKNOWN3)
@UNKNOWN0:
	LDA $1E
	STA $04
	ASL
	ADC $04
	ASL
	ADC $04
	LDX $1C
	STX $04
	CLC
	ADC $04
	TAX
	LDA f:STORE_TABLE,X
	AND #$00FF
	TAY
	STY $1A
	BNE @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN2)
@UNKNOWN1:
	LOADPTR ITEM_CONFIGURATION_TABLE, $06
	LDA $06
	STA $16
	LDA $08
	STA $18
	TYA
	LDY #.SIZEOF(item)
	JSL MULT168
	STA $02
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDX #item::type
	LDA #$9C9F
	JSL MEMCPY16
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(UNKNOWN_7E9CB8)
	REP #PROC_FLAGS::ACCUM8
	LDA #$9C9F
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0000
	STA $12
	LDA #$0000
	STA $14
	LDY $1A
	TYA
	JSR a:.LOWORD(UNKNOWN_C115F4)
	LDX $04
	LDA #$0000
	JSL UNKNOWN_C438A5
	LDA $02
	CLC
	ADC #$001A
	LDX $16
	STX $06
	LDX $18
	STX $08
	CLC
	ADC $06
	STA $06
	LDA [$06]
	STA $06
	STZ $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSL UNKNOWN_C4507A
@UNKNOWN2:
	INC $04
	LDA $04
	STA $1C
@UNKNOWN3:
	LDA $04
	CMP #$0007
	BCS @UNKNOWN4
	BEQ @UNKNOWN4
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN4:
	LDX #$0000
	TXA
	JSL UNKNOWN_C438A5
	LDY #$0000
	TYX
	LDA #$0001
	JSR a:.LOWORD(UNKNOWN_C1180D)
	LOADPTR SET_HPPP_WINDOW_MODE_ITEM, $0E
	JSR a:.LOWORD(UNKNOWN_C11F5A)
	JSR a:.LOWORD(UNKNOWN_C19CDD)
	LDA #$0001
	JSR a:.LOWORD(SELECTION_MENU)
	TAX
	STX $1A
	JSR a:.LOWORD(UNKNOWN_C19D49)
	JSR a:.LOWORD(CLOSE_FOCUS_WINDOW)
	LDA #.LOWORD(UNKNOWN_7E9C8A)
	JSL UNKNOWN_C20ABC
	JSL CLEAR_9622
	LDX $1A
	TXA
	PLD
	RTS

GET_ITEM_TYPE: ;$C19EE6
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC #item::type
	TAX
	LDA f:ITEM_CONFIGURATION_TABLE,X
	AND #$00FF
	AND #$0030
	BEQ @UNKNOWN0
	CMP #$0010
	BEQ @UNKNOWN1
	CMP #$0020
	BEQ @UNKNOWN2
	CMP #$0030
	BEQ @UNKNOWN3
	BRA @UNKNOWN4
@UNKNOWN0:
	LDA #$0001
	BRA @UNKNOWN5
@UNKNOWN1:
	LDA #$0002
	BRA @UNKNOWN5
@UNKNOWN2:
	LDA #$0003
	BRA @UNKNOWN5
@UNKNOWN3:
	LDA #$0004
	BRA @UNKNOWN5
@UNKNOWN4:
	LDA #$0000
@UNKNOWN5:
	RTS

UNKNOWN_C19F29: ;$C19F29
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE2
	TCD
	PLA
	TAX
	DEC
	STA $1C
	LDA #$0006
	JSR a:.LOWORD(CREATE_WINDOW)
	JSL CALL_C12DD5_WITH_ZERO_9622
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN0
	LDA #$0006
	STA .LOWORD(UNKNOWN_7E5E7A)
@UNKNOWN0:
	LDA $1C
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0005
	LDA #$0006
	JSL READ_NAME
	LDA #$0000
	STA $02
	STA $1A
	JMP a:.LOWORD(@UNKNOWN14)
@UNKNOWN1:
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E5E71)
	LDA $02
	BEQ @UNKNOWN4
	CMP #$0001
	BEQ @UNKNOWN5
	CMP #$0002
	BNE @UNKNOWN2
	JMP a:.LOWORD(@UNKNOWN6)
@UNKNOWN2:
	CMP #$0003
	BNE @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN7)
@UNKNOWN3:
	JMP a:.LOWORD(@UNKNOWN8)
@UNKNOWN4:
	LOADPTR STATUS_EQUIP_WINDOW_TEXT+517, $06
	LDA $02
	STA $04
	ASL
	ASL
	ADC $04
	ASL
	ADC $04
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0000
	STA $12
	LDA #$0000
	STA $14
	LDX $02
	LDA #$0000
	JSR a:.LOWORD(UNKNOWN_C114B1)
	LDA $1C
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::WEAPON,X
	AND #$00FF
	STA $04
	STA $18
	JMP a:.LOWORD(@UNKNOWN8)
@UNKNOWN5:
	LOADPTR STATUS_EQUIP_WINDOW_TEXT+517, $06
	LDA $02
	STA $04
	ASL
	ASL
	ADC $04
	ASL
	ADC $04
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0000
	STA $12
	LDA #$0000
	STA $14
	LDX $02
	LDA #$0000
	JSR a:.LOWORD(UNKNOWN_C114B1)
	LDA $1C
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::BODY,X
	AND #$00FF
	STA $04
	STA $18
	JMP a:.LOWORD(@UNKNOWN8)
@UNKNOWN6:
	LOADPTR STATUS_EQUIP_WINDOW_TEXT+517, $06
	LDA $02
	STA $04
	ASL
	ASL
	ADC $04
	ASL
	ADC $04
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0000
	STA $12
	LDA #$0000
	STA $14
	LDX $02
	LDA #$0000
	JSR a:.LOWORD(UNKNOWN_C114B1)
	LDA $1C
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::ARMS,X
	AND #$00FF
	STA $04
	STA $18
	BRA @UNKNOWN8
@UNKNOWN7:
	LOADPTR STATUS_EQUIP_WINDOW_TEXT+517, $06
	LDA $02
	STA $04
	ASL
	ASL
	ADC $04
	ASL
	ADC $04
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0000
	STA $12
	LDA #$0000
	STA $14
	LDX $02
	LDA #$0000
	JSR a:.LOWORD(UNKNOWN_C114B1)
	LDA $1C
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::OTHER,X
	AND #$00FF
	STA $04
	STA $18
@UNKNOWN8:
	LDA $18
	STA $04
	BNE @UNKNOWN9
	JMP a:.LOWORD(@UNKNOWN12)
@UNKNOWN9:
	LDA $04
	DEC
	STA $02
	LDA $1C
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	CLC
	ADC $02
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	TAY
	STY $16
	LDX $04
	LDA $1C
	INC
	JSL UNKNOWN_C3E9A0
	CMP #$0000
	BEQ @UNKNOWN10
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0022
	STA .LOWORD(UNKNOWN_7E9C9F)
	REP #PROC_FLAGS::ACCUM8
	LOADPTR ITEM_CONFIGURATION_TABLE, $06
	LDY $16
	TYA
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDX #item::type
	LDA #$9CA0
	JSL MEMCPY16
	BRA @UNKNOWN11
@UNKNOWN10:
	LOADPTR ITEM_CONFIGURATION_TABLE, $06
	LDY $16
	TYA
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDX #item::type
	LDA #$9C9F
	JSL MEMCPY16
@UNKNOWN11:
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(UNKNOWN_7E9CB8)
	BRA @UNKNOWN13
@UNKNOWN12:
	.A16
	LOADPTR STATUS_EQUIP_WINDOW_TEXT+593, $0E
	LDX #$000A
	LDA #$9C9F
	JSL MEMCPY16
	SEP #PROC_FLAGS::ACCUM8
	STZ $9CA9
@UNKNOWN13:
	REP #PROC_FLAGS::ACCUM8
	LDA $1A
	STA $02
	LDX $02
	LDA #$0006
	JSL UNKNOWN_C438A5
	LDA #$006A
	JSR a:.LOWORD(PRINT_LETTER)
	LDA #$0050
	JSR a:.LOWORD(PRINT_LETTER)
	LDA #$9C9F
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0031
	JSR a:.LOWORD(DISPLAY_CONFIG_MENU_TITLE)
	INC $02
	LDA $02
	STA $1A
@UNKNOWN14:
	LDA #$0004
	CLC
	SBC $02
	BVS @UNKNOWN15
	BMI @UNKNOWN16
	JMP a:.LOWORD(@UNKNOWN1)
@UNKNOWN15:
	BPL @UNKNOWN16
	JMP a:.LOWORD(@UNKNOWN1)
@UNKNOWN16:
	JSR a:.LOWORD(PRINT_MENU_ITEMS)
	STZ .LOWORD(UNKNOWN_7E5E71)
	JSL CLEAR_9622
	PLD
	RTS

.INCLUDE "unknown/C1A1D8.asm"

UNKNOWN_C1A778: ;$C1A778
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TAX
	STX $0E
	STZ .LOWORD(UNKNOWN_7E9CD4)
	TXA
	JSR a:.LOWORD(UNKNOWN_C19F29)
	LDX $0E
	TXA
	JSL UNKNOWN_C1A1D8
	PLD
	RTL

.INCLUDE "unknown/C1A795.asm"

UNKNOWN_C1AA18: ;$C1AA18
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA #.LOWORD(UNKNOWN_7E9C8A)
	JSL UNKNOWN_C20A20
	LDA #$000A
	JSR a:.LOWORD(CREATE_WINDOW)
	LDA #$0005
	JSR a:.LOWORD(UNKNOWN_C10EB4)
	JSL SET_9622_ONE
	JSR a:.LOWORD(UNKNOWN_C10FA3)
	LDA .LOWORD(GAME_STATE)+game_state::money_carried
	STA $06
	LDA .LOWORD(GAME_STATE)+game_state::money_carried+2
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSL UNKNOWN_C4507A
	JSL CLEAR_9622
	LDA #.LOWORD(UNKNOWN_7E9C8A)
	JSL UNKNOWN_C20ABC
	PLD
	RTS

UNKNOWN_C1AA5D: ;$C1AA5D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDA #.LOWORD(UNKNOWN_7E9C8A)
	JSL UNKNOWN_C20A20
	LDA .LOWORD(GAME_STATE)+122
	AND #$00FF
	TAX
	STX $16
@UNKNOWN0:
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN1
	LDX $16
	TXA
	JSL UNKNOWN_C1A778
@UNKNOWN1:
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN2
	LDA #$0000
	JSR a:.LOWORD(UNKNOWN_C193E7)
	LOADPTR UNKNOWN_C1A778, $0E
	LDA #$0000
	STA $12
	LDA #$0000
	STA $14
	LDX #$0001
	LDA #$0000
	JSR a:.LOWORD(CHAR_SELECT_PROMPT)
	TAX
	STX $16
	JSR a:.LOWORD(UNKNOWN_C19437)
	BRA @UNKNOWN3
@UNKNOWN2:
	LDA .LOWORD(GAME_STATE)+122
	AND #$00FF
	TAX
	STX $16
	LDA #$0000
	JSL UNKNOWN_C43573
@UNKNOWN3:
	LDX $16
	BEQ @UNKNOWN4
	TXA
	JSR a:.LOWORD(UNKNOWN_C1A795)
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN0
@UNKNOWN4:
	LDA #$002D
	JSL CLOSE_WINDOW
	LDA #$0006
	JSL CLOSE_WINDOW
	LDA #.LOWORD(UNKNOWN_7E9C8A)
	JSL UNKNOWN_C20ABC
	LDX $16
	TXA
	PLD
	RTS

UNKNOWN_C1AAFA: ;$C1AAFA
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE6
	TCD
	LDA #$0000
	STA $02
	LDA #$0002
	JSR a:.LOWORD(UNKNOWN_C193E7)
	LDA #.LOWORD(UNKNOWN_7E9C8A)
	JSL UNKNOWN_C20A20
	LDA #$0005
	JSR a:.LOWORD(CREATE_WINDOW)
	LOADPTR STATUS_EQUIP_WINDOW_TEXT+608, $0E
	LDX #$0003
	LDA #$0005
	JSL READ_NAME
	LDY #$0001
	STY $18
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA $00
	AND #$00FF
	BEQ @UNKNOWN1
	LDA $16
	CLC
	ADC #$0019
	CLC
	ADC $06
	STA $06
	LDA [$06]
	JSL GET_EVENT_FLAG
	CMP #$0000
	BEQ @UNKNOWN1
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0019
	LDA #$9C9F
	JSL MEMCPY16
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(UNKNOWN_7E9CB8)
	REP #PROC_FLAGS::ACCUM8
	LDA #$9C9F
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0000
	STA $12
	LDA #$0000
	STA $14
	LDY $18
	TYA
	JSR a:.LOWORD(UNKNOWN_C115F4)
@UNKNOWN1:
	LDY $18
	INY
	STY $18
@UNKNOWN2:
	LOADPTR PSI_TELEPORT_DEST_TABLE, $06
	TYA
	LDY #$001F
	JSL MULT168
	STA $16
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	SEP #PROC_FLAGS::ACCUM8
	LDA [$0A]
	STA $00
	REP #PROC_FLAGS::ACCUM8
	LDA $00
	AND #$00FF
	BEQ @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN3:
	LDA #$0000
	JSR a:.LOWORD(UNKNOWN_C12BD5)
	CMP #$0000
	BEQ @UNKNOWN4
	LDY #$0001
	LDX #$0000
	TYA
	JSR a:.LOWORD(UNKNOWN_C1180D)
	LDA #$0001
	JSR a:.LOWORD(SELECTION_MENU)
	STA $02
@UNKNOWN4:
	JSR a:.LOWORD(CLOSE_FOCUS_WINDOW)
	JSR a:.LOWORD(UNKNOWN_C19437)
	LDA #.LOWORD(UNKNOWN_7E9C8A)
	JSL UNKNOWN_C20ABC
	LDA $02
	PLD
	RTS

UNKNOWN_C1AC00: ;$C1AC00
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEC
	TCD
	JSR a:.LOWORD(UNKNOWN_C19441)
	STA $12
	CMP #$0000
	BEQ @UNKNOWN0
	LOADPTR TELEPHONE_CONTACTS_TABLE, $0A
	LDA $12
	LDY #$001F
	JSL MULT168
	CLC
	ADC #$001B
	CLC
	ADC $0A
	STA $0A
	LDY #$0002
	LDA [$0A],Y
	TAY
	LDA [$0A]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSL DISPLAY_TEXT
@UNKNOWN0:
	LDA $12
	PLD
	RTS

UNKNOWN_C1AC4A: ;$C1AC4A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE6
	TCD
	PLA
	STX $18
	STA $16
	LDA #.LOWORD(UNKNOWN_7E9CD7)
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $16
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $12
	LDA $08
	STA $14
	TXA
	JSL MEMCPY24
	LDX $18
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(UNKNOWN_7E9CD7),X
	REP #PROC_FLAGS::ACCUM8
	LDA #$FFFF
	STA .LOWORD(UNKNOWN_7E9658)
	PLD
	RTS

RETURN_BATTLE_ATTACKER_ADDRESS: ;$C1AC9B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #.LOWORD(UNKNOWN_7E9CD7)
	RTS

UNKNOWN_C1ACA1: ;$C1ACA1
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE6
	TCD
	PLA
	STX $18
	STA $16
	LDA #.LOWORD(UNKNOWN_7E9CF5)
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $16
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $12
	LDA $08
	STA $14
	TXA
	JSL MEMCPY24
	LDX $18
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(UNKNOWN_7E9CF5),X
	REP #PROC_FLAGS::ACCUM8
	LDA #$FFFF
	STA .LOWORD(UNKNOWN_7E965A)
	PLD
	RTS

RETURN_BATTLE_TARGET_ADDRESS: ;$C1ACF2
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #.LOWORD(UNKNOWN_7E9CF5)
	RTS

UNKNOWN_C1ACF8: ;$C1ACF8
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	SEP #PROC_FLAGS::ACCUM8
	STA .LOWORD(UNKNOWN_7E9D11)
	REP #PROC_FLAGS::ACCUM8
	RTS

UNKNOWN_C1AD02: ;$C1AD02
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(UNKNOWN_7E9D11)
	RTS

UNKNOWN_C1AD0A: ;$C1AD0A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF2
	TCD
	LDA $1C
	STA $06
	LDA $1E
	STA $08
	LDA $06
	STA .LOWORD(UNKNOWN_7E9D12)
	LDA $08
	STA .LOWORD(UNKNOWN_7E9D14)
	PLD
	RTS

UNKNOWN_C1AD26: ;$C1AD26
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF2
	TCD
	LDA .LOWORD(UNKNOWN_7E9D12)
	STA $06
	LDA .LOWORD(UNKNOWN_7E9D14)
	STA $08
	LDA $06
	STA $14
	LDA $08
	STA $16
	PLD
	RTS

UNKNOWN_C1AD42: ;$C1AD42
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF2
	TCD
	JSL UNKNOWN_C04279
	LDA .LOWORD(CURRENT_TPT_ENTRY)
	BEQ @UNKNOWN0
	LDA .LOWORD(CURRENT_TPT_ENTRY)
	CMP #$FFFF
	BEQ @UNKNOWN0
	LDA .LOWORD(CURRENT_TPT_ENTRY)
	CMP #$FFFE
	BNE @UNKNOWN1
@UNKNOWN0:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	BRA @UNKNOWN2
@UNKNOWN1:
	LDA .LOWORD(CURRENT_TPT_ENTRY)
	STA $04
	ASL
	ASL
	ASL
	ASL
	ADC $04
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:NPC_CONFIG_TABLE,X
@UNKNOWN2:
	PLD
	RTS

UNKNOWN_C1AD7D: ;$C1AD7D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDX .LOWORD(GAME_STATE)+game_state::leader_y_coord
	LDA .LOWORD(GAME_STATE)+game_state::leader_x_coord
	JSL LOAD_SECTOR_ATTRS
	TAX
	STX $0E
	LDA #EVENT_FLAG::USE_POSTGAME_MUSIC
	JSL GET_EVENT_FLAG
	CMP #$0000
	BEQ @UNKNOWN0
	LDX $0E
	TXA
	AND #$0007
	BNE @UNKNOWN0
	LDA #$00B0
	BRA @UNKNOWN1
@UNKNOWN0:
	LDX $0E
	TXA
	XBA
	AND #$00FF
@UNKNOWN1:
	PLD
	RTS

.INCLUDE "battle/determine_targetting.asm"

.INCLUDE "overworld/use_item.asm"

.INCLUDE "unknown/C1B5B6.asm"

UNKNOWN_C1BB06: ;$C1BB06
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	TAX
	STX $12
	LDA .LOWORD(UNKNOWN_7E9D19)
	CMP #$00FF
	BEQ @UNKNOWN0
	CPX .LOWORD(UNKNOWN_7E9D19)
	BEQ @UNKNOWN1
@UNKNOWN0:
	TXA
	JSL UNKNOWN_C1C8BC
	LDA #$002F
	JSR a:.LOWORD(CREATE_WINDOW)
	JSL CALL_C12DD5_WITH_ZERO_9622
	LDX $12
	STX .LOWORD(UNKNOWN_7E9D19)
	LOADPTR PSI_ABILITY_TABLE, $0A
	TXA
	STA $04
	ASL
	ADC $04
	ASL
	ADC $04
	ASL
	ADC $04
	CLC
	ADC #$000B
	CLC
	ADC $0A
	STA $0A
	LDY #$0002
	LDA [$0A],Y
	TAY
	LDA [$0A]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSL DISPLAY_TEXT
	JSL CLEAR_9622
@UNKNOWN1:
	PLD
	RTL

UNKNOWN_C1BB71: ;$C1BB71
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE4
	TCD
@UNKNOWN0:
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E5E71)
@UNKNOWN1:
	LOADPTR UNKNOWN_C1952F, $0E
	LDA #$0000
	STA $12
	LDA #$0000
	STA $14
	LDX #$0001
	LDA #$0000
	JSR a:.LOWORD(CHAR_SELECT_PROMPT)
	TAX
	BNE @UNKNOWN2
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN2:
	CPX #$0003
	BEQ @UNKNOWN0
	LDA #$0000
	STA $02
	LDA #$002E
	JSR a:.LOWORD(CREATE_WINDOW)
	LDA #$0000
	STA $1A
	BRA @UNKNOWN4
@UNKNOWN3:
	TAX
	INX
	STX $18
	LOADPTR PSI_CATEGORIES, $06
	LDA $1A
	ASL
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0000
	STA $12
	LDA #$0000
	STA $14
	TXA
	JSR a:.LOWORD(UNKNOWN_C115F4)
	LDX $18
	TXA
	STA $1A
@UNKNOWN4:
	CMP #$0004
	BCC @UNKNOWN3
	LDY #$0000
	TYX
	LDA #$0001
	JSR a:.LOWORD(UNKNOWN_C1180D)
@UNKNOWN5:
	LDA #$002E
	JSR a:.LOWORD(SET_WINDOW_FOCUS)
	LDA $02
	BNE @UNKNOWN6
	JSR a:.LOWORD(PRINT_MENU_ITEMS)
	JSL CALL_C12DD5_WITH_ZERO_9622
	INC $02
@UNKNOWN6:
	LDA #$0008
	JSR a:.LOWORD(CREATE_WINDOW)
	LDA #$002E
	STA .LOWORD(CURRENT_FOCUS_WINDOW)
	STZ .LOWORD(UNKNOWN_7E5E71)
	LOADPTR UNKNOWN_C1CAF5, $0E
	JSR a:.LOWORD(UNKNOWN_C11F5A)
	LDA #$0001
	JSR a:.LOWORD(SELECTION_MENU)
	TAX
	STX $16
	JSR a:.LOWORD(UNKNOWN_C11F8A)
	LDX $16
	BEQ @UNKNOWN8
	LDA #$0001
	JSR a:.LOWORD(UNKNOWN_C12BD5)
	CMP #$0000
	BEQ @UNKNOWN5
	LDA #$0001
	JSR a:.LOWORD(SET_WINDOW_FOCUS)
	LDA #$00FF
	STA .LOWORD(UNKNOWN_7E9D19)
	LOADPTR UNKNOWN_C1BB06, $0E
	JSR a:.LOWORD(UNKNOWN_C11F5A)
@UNKNOWN7:
	LDA #$0001
	JSR a:.LOWORD(SELECTION_MENU)
	CMP #$0000
	BNE @UNKNOWN7
	JSR a:.LOWORD(UNKNOWN_C11F8A)
	LDA #$0004
	JSL CLOSE_WINDOW
	LDA #$002F
	JSL CLOSE_WINDOW
	LDA #$00FF
	STA .LOWORD(UNKNOWN_7E9D19)
	JMP a:.LOWORD(@UNKNOWN5)
@UNKNOWN8:
	LDA #$002E
	JSL CLOSE_WINDOW
	LDA #$0001
	JSL CLOSE_WINDOW
	LDA #$0008
	STA .LOWORD(CURRENT_FOCUS_WINDOW)
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E5E71)
	LDX $16
	BNE @UNKNOWN9
	JMP a:.LOWORD(@UNKNOWN1)
@UNKNOWN9:
	LDA #$0008
	JSL CLOSE_WINDOW
	PLD
	RTS

UNKNOWN_C1BCAB: ;$C1BCAB
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE6
	TCD
	PLA
	STA $18
	LDA .LOWORD(OVERWORLD_STATUS_SUPPRESSION)
	STA $16
	LDA #$0001
	STA .LOWORD(OVERWORLD_STATUS_SUPPRESSION)
	LOADPTR TELEPORT_DESTINATION_TABLE, $0A
	LDA $18
	ASL
	ASL
	ASL
	CLC
	ADC $0A
	STA $0A
	STA $12
	LDA $0C
	STA $14
	LDY #$0001
	STY $18
	BRA @UNKNOWN1
@UNKNOWN0:
	LDX #$0000
	TYA
	JSL SET_EVENT_FLAG
	LDY $18
	INY
	STY $18
@UNKNOWN1:
	CPY #$000A
	BCC @UNKNOWN0
	BEQ @UNKNOWN0
	JSL UNKNOWN_C06B3D
	LDA #$0005
	LDX $0A
	STX $06
	LDX $0C
	STX $08
	CLC
	ADC $06
	STA $06
	LDX #$0001
	LDA [$06]
	AND #$00FF
	JSL UNKNOWN_C068AF
	JSL PLAY_SOUND
	LDA .LOWORD(UNKNOWN_7EB4B6)
	BEQ @UNKNOWN2
	LDX #$0001
	TXA
	JSL UNKNOWN_C0887A
	BRA @UNKNOWN3
@UNKNOWN2:
	LDX #$0001
	LDA [$06]
	AND #$00FF
	JSL SCREEN_TRANSITION
@UNKNOWN3:
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	LDA [$06]
	ASL
	ASL
	ASL
	STA $18
	LDY #$0002
	LDA [$0A],Y
	ASL
	ASL
	ASL
	STA $04
	LDA #$0004
	LDX $0A
	STX $06
	LDX $0C
	STX $08
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	AND #$007F
	DEC
	STA $02
	LDX $04
	LDA $18
	JSL UNKNOWN_C013F6
	STZ .LOWORD(UNKNOWN_7E2890)
	LDY $02
	LDX $04
	LDA $18
	JSL UNKNOWN_C03FA9
	LDA [$06]
	AND #$00FF
	AND #$0080
	BEQ @UNKNOWN4
	LDA $02
	JSL UNKNOWN_C052D4
@UNKNOWN4:
	LDX $04
	LDA $18
	JSL UNKNOWN_C068F4
	JSL UNKNOWN_C069AF
	LDA #$0000
	STA $06
	LDA #$0000
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $06
	STA $0A
	LDA $08
	STA $0C
	LDA .LOWORD(UNKNOWN_7E9D1B)
	STA $06
	LDA .LOWORD(UNKNOWN_7E9D1D)
	STA $08
	CMP $0C
	BNE @UNKNOWN5
	LDA $06
	CMP $0A
@UNKNOWN5:
	BEQ @UNKNOWN6
	LDA .LOWORD(UNKNOWN_7E9D1B)
	STA $06
	LDA .LOWORD(UNKNOWN_7E9D1D)
	STA $08
	PHA
	LDA $06
	STA a:.LOWORD(UNKNOWN_7E00BC)
	LDA $08
	STA a:.LOWORD(UNKNOWN_7E00BE)
	PLA
	JSL UNKNOWN_C09279
	LDA $0E
	STA $06
	LDA $10
	STA $08
	LDA $06
	STA .LOWORD(UNKNOWN_7E9D1B)
	LDA $08
	STA .LOWORD(UNKNOWN_7E9D1D)
@UNKNOWN6:
	JSL UNKNOWN_C065A3
	LDA #$0005
	LDX $12
	STX $0A
	LDX $14
	STX $0C
	LDX $0A
	STX $06
	LDX $0C
	STX $08
	CLC
	ADC $06
	STA $06
	LDX #$0000
	LDA [$06]
	AND #$00FF
	JSL UNKNOWN_C068AF
	JSL PLAY_SOUND
	LDA .LOWORD(UNKNOWN_7EB4B6)
	BEQ @UNKNOWN7
	LDX #$0001
	TXA
	JSL UNKNOWN_C0886C
	BRA @UNKNOWN8
@UNKNOWN7:
	LDX #$0000
	LDA [$06]
	AND #$00FF
	JSL SCREEN_TRANSITION
@UNKNOWN8:
	LDA #$FFFF
	STA .LOWORD(UNKNOWN_7E5DC4)
	JSL SPAWN_BUZZ_BUZZ
	LDA $16
	STA .LOWORD(OVERWORLD_STATUS_SUPPRESSION)
	PLD
	RTS

ATTEMPT_HOMESICKNESS: ;$C1BE4D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDA .LOWORD(CHAR_STRUCT)+char_struct::afflictions
	AND #$00FF
	CMP #$0001
	BEQ @FAILED
	LDX #$0000
	LDA #$000F
	STA $0E
	BRA @UNKNOWN5
@UNKNOWN0:
	LDA $0E
	STA $02
	LDA .LOWORD(CHAR_STRUCT)+char_struct::level
	AND #$00FF
	CLC
	SBC $02
	BVS @UNKNOWN1
	BPL @UNKNOWN4
	BRA @UNKNOWN2
@UNKNOWN1:
	BMI @UNKNOWN4
@UNKNOWN2:
	LDA f:HOMESICKNESS_PROBABILITY,X
	AND #$00FF
	BEQ @UNKNOWN3
	AND #$00FF
	JSL RAND_MOD
	CMP #$0000
	BNE @UNKNOWN3
	LDY #$0002
	LDX #$0006
	LDA #$0001
	JSL INFLICT_STATUS_NONBATTLE
	BRA @RETURN
@UNKNOWN3:
	LDA #$0000
	BRA @RETURN
@UNKNOWN4:
	INX
	LDA $0E
	CLC
	ADC #$000F
	STA $0E
@UNKNOWN5:
	STX $02
	LDA #$0006
	CLC
	SBC $02
	BVS @UNKNOWN6
	BPL @UNKNOWN0
	BRA @FAILED
@UNKNOWN6:
	BMI @UNKNOWN0
@FAILED:
	LDA #$0000
@RETURN:
	PLD
	RTS

GET_OFF_BICYCLE: ;$C1BEC6
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA #$0001
	JSR a:.LOWORD(CREATE_WINDOW)
	LDA #$0001
	STA $0E
	LDA #$0000
	STA $10
	JSR a:.LOWORD(SET_WORKING_MEMORY)
	DISPLAY_TEXT_PTR TEXT_BLOCK_C7C95E
	JSR a:.LOWORD(CLOSE_FOCUS_WINDOW)
	JSL UNKNOWN_C12DD5
	JSL UNKNOWN_C03CFD
	PLD
	RTL

UNKNOWN_C1BEFC: ;$C1BEFC
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	CMP #$0001
	BNE @NOT_1F4101
	JMP a:.LOWORD(@1F4101_COFFEESCENE)
@NOT_1F4101:
	CMP #$0002
	BNE @NOT_1F4102
	JMP a:.LOWORD(@1F4102_TEASCENE)
@NOT_1F4102:
	CMP #$0003
	BNE @NOT_1F4103
	JMP a:.LOWORD(@1F4103_REGISTERREALNAME)
@NOT_1F4103:
	CMP #$0004
	BNE @NOT_1F4104
	JMP a:.LOWORD(@1F4104_REGISTERREALNAME2)
@NOT_1F4104:
	CMP #$0005
	BNE @NOT_1F4105
	JMP a:.LOWORD(@1F4105)
@NOT_1F4105:
	CMP #$0006
	BNE @NOT_1F4106
	JMP a:.LOWORD(@1F4106)
@NOT_1F4106:
	CMP #$0007
	BNE @NOT_1F4107
	JMP a:.LOWORD(@1F4107_TOWNMAP)
@NOT_1F4107:
	CMP #$0008
	BNE @NOT_1F4108
	JMP a:.LOWORD(@1F4108)
@NOT_1F4108:
	CMP #$0009
	BNE @NOT_1F4109
	JMP a:.LOWORD(@1F4109_SOUNDSTONE)
@NOT_1F4109:
	CMP #$000A
	BNE @NOT_1F410A
	JMP a:.LOWORD(@1F410A_TITLESCREEN)
@NOT_1F410A:
	CMP #$000B
	BNE @NOT_1F410B
	JMP a:.LOWORD(@1F410B_CASTSCREEN)
@NOT_1F410B:
	CMP #$000C
	BNE @NOT_1F410C
	JMP a:.LOWORD(@1F410C_ENDCREDITS)
@NOT_1F410C:
	CMP #$000D
	BNE @NOT_1F410D
	JMP a:.LOWORD(@1F410D)
@NOT_1F410D:
	CMP #$000E
	BNE @NOT_1F410E
	JMP a:.LOWORD(@1F410E)
@NOT_1F410E:
	CMP #$000F
	BNE @NOT_1F410F
	JMP a:.LOWORD(@1F410F_CLEAREVENTFLAGS)
@NOT_1F410F:
	CMP #$0010
	BNE @NOT_1F4110
	JMP a:.LOWORD(@1F4110_SOUNDSTONE_UNCANCELLABLE)
@NOT_1F4110:
	CMP #$0011
	BNE @NOT_1F4111
	JMP a:.LOWORD(@1F4111)
@NOT_1F4111:
	CMP #$0012
	BNE @NOT_1F4112
	JMP a:.LOWORD(@1F4112)
@NOT_1F4112:
	JMP a:.LOWORD(@RETURN_ZERO_RESET_ACCUM16)
@1F4101_COFFEESCENE:
	LDA #$0000
	JSL COFFEETEA_SCENE
	JMP a:.LOWORD(@RETURN_ZERO_RESET_ACCUM16)
@1F4102_TEASCENE:
	LDA #$0001
	JSL COFFEETEA_SCENE
	JMP a:.LOWORD(@RETURN_ZERO_RESET_ACCUM16)
@1F4103_REGISTERREALNAME:
	LDA #$0000
	JSL ENTER_YOUR_NAME_PLEASE
	JMP a:.LOWORD(@RETURN_ZERO_RESET_ACCUM16)
@1F4104_REGISTERREALNAME2:
	LDA #$0001
	JSL ENTER_YOUR_NAME_PLEASE
	JMP a:.LOWORD(@RETURN_ZERO_RESET_ACCUM16)
@1F4105:
	LDA #$0001
	JSL UNKNOWN_C43344
	JMP a:.LOWORD(@RETURN_ZERO_RESET_ACCUM16)
@1F4106:
	LDA #EVENT_FLAG::USE_POSTGAME_MUSIC
	JSL GET_EVENT_FLAG
	JSL UNKNOWN_C43344
	BRA @RETURN_ZERO_RESET_ACCUM16
@1F4107_TOWNMAP:
	JSL DISPLAY_TOWN_MAP
	BRA @RETURN
@1F4108:
	JSL UNKNOWN_C3FB09
	BRA @RETURN
@1F4109_SOUNDSTONE:
	LDA #$0001
	JSL USE_SOUND_STONE
	BRA @RETURN_ZERO_RESET_ACCUM16
@1F410A_TITLESCREEN:
	LDA #$0001
	JSL SHOW_TITLE_SCREEN
	BRA @RETURN_ZERO_RESET_ACCUM16
@1F410B_CASTSCREEN:
	JSL UNKNOWN_C4ED0E
	BRA @RETURN_ZERO_RESET_ACCUM16
@1F410C_ENDCREDITS:
	JSL PLAY_CREDITS
	BRA @RETURN_ZERO_RESET_ACCUM16
@1F410D:
	LDA #$0001
	JSR a:.LOWORD(UNKNOWN_C12D17)
	BRA @RETURN_ZERO_RESET_ACCUM16
@1F410E:
	LDA #$0000
	JSR a:.LOWORD(UNKNOWN_C12D17)
	BRA @RETURN_ZERO_RESET_ACCUM16
@1F410F_CLEAREVENTFLAGS:
	LDX #$0000
	BRA @1F410F_CLEAREVENTFLAGS_LOOP_ENTRY
@1F410F_CLEAREVENTFLAGS_LOOP_BEGINNING:
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(EVENT_FLAG),X
	INX
@1F410F_CLEAREVENTFLAGS_LOOP_ENTRY:
	CPX #$0080
	BCC @1F410F_CLEAREVENTFLAGS_LOOP_BEGINNING
	BRA @RETURN_ZERO_RESET_ACCUM16
@1F4110_SOUNDSTONE_UNCANCELLABLE:
	.A16
	LDA #$0000
	JSL USE_SOUND_STONE
	BRA @RETURN_ZERO_RESET_ACCUM16
@1F4111:
	JSR a:.LOWORD(ATTEMPT_HOMESICKNESS)
	BRA @RETURN
@1F4112:
	LDA .LOWORD(GAME_STATE)+game_state::walking_style
	CMP #$0003
	BNE @RETURN_ZERO_1
	JSL UNKNOWN_C03CFD
	LDA #$0001
	BRA @RETURN
@RETURN_ZERO_1:
	LDA #$0000
	BRA @RETURN
@RETURN_ZERO_RESET_ACCUM16:
	REP #PROC_FLAGS::ACCUM8
	LDA #$0000
@RETURN:
	RTL

UNKNOWN_C1C046: ;$C1C046
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE8
	TCD
	PLA
	TAY
	STY $16
	JSR a:.LOWORD(GET_TEXT_X)
	CMP #$000E
	BCC @UNKNOWN0
	BEQ @UNKNOWN0
	LDY $16
	CPY #$0020
	BCC @UNKNOWN0
	JSL PRINT_NEWLINE
	JSL UNKNOWN_C45E96
	JSR a:.LOWORD(GET_TEXT_X)
	STA $02
	JSR a:.LOWORD(GET_TEXT_Y)
	TAX
	LDA $02
	INC
	JSL UNKNOWN_C438A5
@UNKNOWN0:
	LDY $16
	TYA
	SEC
	SBC #$0010
	TAX
	LDA f:UNKNOWN_C3EF26,X
	AND #$00FF
	TAX
	BNE @UNKNOWN2
	LDA $9E29
	BEQ @UNKNOWN1
	JSL UNKNOWN_C45E96
	JSR a:.LOWORD(GET_TEXT_X)
	STA $02
	JSR a:.LOWORD(GET_TEXT_Y)
	TAX
	LDA $02
	INC
	JSL UNKNOWN_C438A5
@UNKNOWN1:
	LDY $16
	TYA
	JSR a:.LOWORD(UNKNOWN_C10BA1)
	JMP a:.LOWORD(@UNKNOWN6)
@UNKNOWN2:
	LDA #$0001
	STA $9E29
	TXA
	DEC
	STA $14
	TAX
	LDA f:UNKNOWN_C3EF26+240,X
	AND #$00FF
	TAX
	STX $12
	LDY .LOWORD(UNKNOWN_7E9E25)
	STY $16
	LOADPTR MRSATURN_FONT_DATA, $06
	LDA $14
	AND #$0007
	ASL
	ASL
	ASL
	ASL
	ASL
	STA $02
	LDA $14
	AND #$00F8
	ASL
	ASL
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC $02
	CLC
	ADC $06
	STA $06
	CPX #$0008
	BCC @UNKNOWN3
	BEQ @UNKNOWN3
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0008
	JSL UNKNOWN_C45C90
	LDX $12
	TXA
	SEC
	SBC #$0008
	TAX
	LDA #$0010
	CLC
	ADC $06
	STA $06
@UNKNOWN3:
	LDA $06
	STA $0E
	LDA $08
	STA $10
	TXA
	JSL UNKNOWN_C45C90
	LDX $9E27
	DEX
	STX $12
	LDY $16
	TYA
	JSL UNKNOWN_C45DDD
@UNKNOWN4:
	LDX $12
	INX
	STX $12
	CPX #$0030
	BCC @UNKNOWN5
	LDX #$0000
	STX $12
@UNKNOWN5:
	TXA
	CLC
	ADC #$0190
	JSR a:.LOWORD(UNKNOWN_C10BA1)
	LDX $12
	CPX $9E27
	BNE @UNKNOWN4
	JSR a:.LOWORD(GET_TEXT_X)
	TAY
	STY $12
	JSR a:.LOWORD(GET_TEXT_Y)
	TAX
	LDY $12
	TYA
	DEC
	JSL UNKNOWN_C438A5
@UNKNOWN6:
	PLD
	RTS

.INCLUDE "unknown/C1C165.asm"

.INCLUDE "unknown/C1C1BA.asm"

.INCLUDE "unknown/C1C32A.asm"

UNKNOWN_C1C367: ;$C1C367
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDY #$000F
	LDX #$0001
	JSR a:.LOWORD(UNKNOWN_C1C32A)
	RTL

UNKNOWN_C1C373: ;$C1C373
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDA #$0000
	STA $02
	BRA @UNKNOWN2
@UNKNOWN0:
	LDY #$000F
	LDX #$0001
	STX $0E
	LDX $02
	LDA .LOWORD(GAME_STATE)+122,X
	AND #$00FF
	LDX $0E
	JSR a:.LOWORD(UNKNOWN_C1C32A)
	CMP #$0000
	BEQ @UNKNOWN1
	LDA $02
	INC
	BRA @UNKNOWN3
@UNKNOWN1:
	INC $02
@UNKNOWN2:
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	STA $04
	LDA $02
	CMP $04
	BCC @UNKNOWN0
	LDA #$0000
@UNKNOWN3:
	PLD
	RTS

UNKNOWN_C1C3B6: ;$C1C3B6
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA #$0000
	STA $04
	STA $02
	STA $10
	BRA @UNKNOWN2
@UNKNOWN0:
	LDY #$000F
	LDX #$0001
	STX $0E
	LDA $10
	STA $02
	LDX $02
	LDA .LOWORD(GAME_STATE)+122,X
	AND #$00FF
	LDX $0E
	JSR a:.LOWORD(UNKNOWN_C1C32A)
	CMP #$0000
	BEQ @UNKNOWN1
	INC $04
@UNKNOWN1:
	INC $02
	LDA $02
	STA $10
@UNKNOWN2:
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	PHA
	LDA $02
	PLY
	STY $02
	CMP $02
	BCC @UNKNOWN0
	LDA $04
	PLD
	RTS

GET_PSI_NAME: ;$C1C403
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	STA $12
	CMP #$0001
	BNE @NOT_ROCKIN
	LDA #$9825
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	BRA @UNKNOWN1
@NOT_ROCKIN:
	.A16
	LOADPTR PSI_NAME_TABLE, $06
	LDA $12
	DEC
	STA $04
	ASL
	ADC $04
	ASL
	ASL
	ASL
	ADC $04
	CLC
	ADC $06
	STA $06
@UNKNOWN1:
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$FFFF
	JSL UNKNOWN_C447FB
	PLD
	RTS

.INCLUDE "battle/generate_psi_list.asm"

UNKNOWN_C1C853: ;$C1C853
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	TAY
	STY $12
	LDA #$0001
	JSR a:.LOWORD(CREATE_WINDOW)
	JSL CALL_C12DD5_WITH_ZERO_9622
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN0
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E5E7A)
@UNKNOWN0:
	LDY $12
	TYA
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0005
	LDA #$0001
	JSL READ_NAME
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA $0E
	LDA #$000F
	STA $0F
	LDY $12
	REP #PROC_FLAGS::ACCUM8
	TYA
	JSR a:.LOWORD(GENERATE_PSI_LIST)
	PLD
	RTL

UNKNOWN_C1C8BC: ;$C1C8BC
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEA
	TCD
	PLA
	TAY
	STY $14
	LDA #$0004
	JSR a:.LOWORD(CREATE_WINDOW)
	JSL CALL_C12DD5_WITH_ZERO_9622
	STZ .LOWORD(UNKNOWN_7E5E6E)
	LOADPTR PSI_ABILITY_TABLE, $06
	LDY $14
	TYA
	STA $04
	ASL
	ADC $04
	ASL
	ADC $04
	ASL
	ADC $04
	STA $12
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	CMP #$0004
	BNE @UNKNOWN0
	LOADPTR PSI_TARGET_TEXT, $06
	BRA @UNKNOWN1
@UNKNOWN0:
	LOADPTR BATTLE_ACTION_TABLE, $0A
	LDA $12
	INC
	INC
	INC
	INC
	CLC
	ADC $06
	STA $06
	LDA [$06]
	STA $04
	ASL
	ADC $04
	ASL
	ASL
	STA $12
	INC
	LDX $0A
	STX $06
	LDX $0C
	STX $08
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	STA $04
	ASL
	ASL
	ADC $04
	ASL
	ASL
	STA $02
	LDA $12
	LDX $0A
	STX $06
	LDX $0C
	STX $08
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	LDY #$0064
	JSL MULT168
	CLC
	ADC $02
	PHA
	LOADPTR PSI_TARGET_TEXT, $06
	PLA
	CLC
	ADC $06
	STA $06
@UNKNOWN1:
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0014
	JSR a:.LOWORD(DISPLAY_CONFIG_MENU_TITLE)
	LDA #$00FF
	STA .LOWORD(UNKNOWN_7E5E6E)
	LDX #$0001
	LDA #$0000
	JSL UNKNOWN_C438A5
	LOADPTR PP_COST_TEXT, $0E
	LDA #$0008
	JSR a:.LOWORD(DISPLAY_CONFIG_MENU_TITLE)
	LDA #$0050
	JSR a:.LOWORD(PRINT_LETTER)
	LDA #$0081
	JSR a:.LOWORD(UNKNOWN_C10EB4)
	LDX #$0001
	LDA #$0028
	JSL UNKNOWN_C43D75
	LDY $14
	TYA
	STA $04
	ASL
	ADC $04
	ASL
	ADC $04
	ASL
	ADC $04
	TAX
	INX
	INX
	INX
	INX
	LDA f:PSI_ABILITY_TABLE,X
	STA $04
	ASL
	ADC $04
	ASL
	ASL
	TAX
	INX
	INX
	INX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:BATTLE_ACTION_TABLE,X
	STA $06
	STZ $07
	STZ $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(PRINT_NUMBER)
	JSL CLEAR_9622
	PLD
	RTL

UNKNOWN_C1CA06: ;$C1CA06
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	STA $12
	LOADPTR PSI_ABILITY_TABLE, $06
	LDA $12
	STA $04
	ASL
	ADC $04
	ASL
	ADC $04
	ASL
	ADC $04
	TAX
	STX $12
	TXA
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	JSR a:.LOWORD(GET_PSI_NAME)
	LDX $12
	TXA
	INC
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	DEC
	ASL
	PHA
	LOADPTR PSI_SUFFIXES, $06
	PLA
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$FFFF
	JSL UNKNOWN_C447FB
	PLD
	RTS

UNKNOWN_C1CA72: ;$C1CA72
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	STX $02
	STA $04
	JSL SET_9622_ONE
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	ASL
	TAX
	LDA .LOWORD(WINDOW_EXISTENCE_TABLE),X
	LDY #.SIZEOF(window_stats)
	JSL MULT168
	CLC
	ADC #.LOWORD(WINDOW_STATS_TABLE)
	CLC
	ADC #$0010
	TAX
	STX $10
	LDA a:.LOWORD(RAM),X
	TAY
	STY $0E
	LDA .LOWORD(CURRENT_FOCUS_WINDOW)
	JSL UNKNOWN_EF0115
	JSL CALL_C12DD5_WITH_ZERO_9622
	LDA .LOWORD(UNKNOWN_7E9D16)
	JSL UNKNOWN_C1C853
	JSR a:.LOWORD(PRINT_MENU_ITEMS)
	LDY $0E
	TYA
	LDX $10
	STA a:.LOWORD(RAM),X
	JSR a:.LOWORD(GET_TEXT_Y)
	TAX
	LDA #$0000
	JSL UNKNOWN_C438A5
	LDA $02
	JSR a:.LOWORD(UNKNOWN_C10FEA)
	LDA $04
	STA $04
	ASL
	ADC $04
	ASL
	ADC $04
	ASL
	ADC $04
	TAX
	LDA f:PSI_ABILITY_TABLE,X
	AND #$00FF
	JSR a:.LOWORD(GET_PSI_NAME)
	LDA #$0000
	JSR a:.LOWORD(UNKNOWN_C10FEA)
	JSL CLEAR_9622
	PLD
	RTS

UNKNOWN_C1CAF5: ;$C1CAF5
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	TAX
	STX $12
	LDX .LOWORD(PSI_WINDOW_CHARACTER)
	LDA .LOWORD(GAME_STATE)+122,X
	AND #$00FF
	TAY
	STY $10
	LDA #$0001
	JSR a:.LOWORD(CREATE_WINDOW)
	JSL CALL_C12DD5_WITH_ZERO_9622
	LDX $12
	TXA
	CMP #$0001
	BEQ @UNKNOWN0
	CMP #$0002
	BEQ @UNKNOWN1
	CMP #$0003
	BEQ @UNKNOWN2
	CMP #$0004
	BEQ @UNKNOWN3
	BRA @UNKNOWN4
@UNKNOWN0:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0002
	STA $0E
	LDA #$0001
	STA $0F
	LDY $10
	REP #PROC_FLAGS::ACCUM8
	TYA
	JSR a:.LOWORD(GENERATE_PSI_LIST)
	BRA @UNKNOWN4
@UNKNOWN1:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0002
	STA $0E
	STA $0F
	LDY $10
	REP #PROC_FLAGS::ACCUM8
	TYA
	JSR a:.LOWORD(GENERATE_PSI_LIST)
	BRA @UNKNOWN4
@UNKNOWN2:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0002
	STA $0E
	LDA #$0004
	STA $0F
	LDY $10
	REP #PROC_FLAGS::ACCUM8
	TYA
	JSR a:.LOWORD(GENERATE_PSI_LIST)
	BRA @UNKNOWN4
@UNKNOWN3:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0003
	STA $0E
	LDA #$0008
	STA $0F
	LDY $10
	REP #PROC_FLAGS::ACCUM8
	TYA
	JSR a:.LOWORD(GENERATE_PSI_LIST)
@UNKNOWN4:
	PLD
	RTL

UNKNOWN_C1CB7F: ;$C1CB7F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STX $02
	CMP #$0001
	BEQ @UNKNOWN0
	CMP #$0002
	BEQ @UNKNOWN1
	CMP #$0003
	BEQ @UNKNOWN2
	BRA @UNKNOWN3
@UNKNOWN0:
	LDY #$0001
	LDX #$0002
	LDA $02
	JSR a:.LOWORD(UNKNOWN_C1C1BA)
	TAY
	STY $0E
	BRA @UNKNOWN3
@UNKNOWN1:
	LDY #$0002
	TYX
	LDA $02
	JSR a:.LOWORD(UNKNOWN_C1C1BA)
	TAY
	STY $0E
	BRA @UNKNOWN3
@UNKNOWN2:
	LDY #$0004
	LDX #$0002
	LDA $02
	JSR a:.LOWORD(UNKNOWN_C1C1BA)
	TAY
	STY $0E
@UNKNOWN3:
	LDY $0E
	TYA
	PLD
	RTS

BATTLE_PSI_MENU: ;$C1CBCD
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFDE
	TCD
	PLA
	STA $04
	STA $20
	STZ $1E
@UNKNOWN0:
	LDA #$0010
	JSR a:.LOWORD(CREATE_WINDOW)
	LDA #$0000
	STA $1C
	BRA @UNKNOWN2
@UNKNOWN1:
	TAX
	INX
	STX $1A
	LOADPTR PSI_CATEGORIES, $06
	LDA $1C
	ASL
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$0000
	STA $12
	LDA #$0000
	STA $14
	TXA
	JSR a:.LOWORD(UNKNOWN_C115F4)
	LDX $1A
	TXA
	STA $1C
@UNKNOWN2:
	CMP #$0003
	BCC @UNKNOWN1
	LDY #$0000
	TYX
	LDA #$0001
	JSR a:.LOWORD(UNKNOWN_C1180D)
@UNKNOWN3:
	LDA #$0010
	JSR a:.LOWORD(SET_WINDOW_FOCUS)
	LDA $1E
	BNE @UNKNOWN4
	JSR a:.LOWORD(PRINT_MENU_ITEMS)
@UNKNOWN4:
	INC $1E
	LOADPTR UNKNOWN_C1CAF5, $0E
	JSR a:.LOWORD(UNKNOWN_C11F5A)
	LDA #$0001
	JSR a:.LOWORD(SELECTION_MENU)
	STA $02
	JSR a:.LOWORD(UNKNOWN_C11F8A)
	LDA $02
	BNE @UNKNOWN5
	JMP a:.LOWORD(@UNKNOWN18)
@UNKNOWN5:
	LDA $20
	STA $04
	LDX $04
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	TAX
	LDA $02
	JSR a:.LOWORD(UNKNOWN_C1CB7F)
	CMP #$0000
	BEQ @UNKNOWN3
@UNKNOWN6:
	LDA #$0001
	JSR a:.LOWORD(CREATE_WINDOW)
	LDA $02
	JSL UNKNOWN_C1CAF5
	LOADPTR UNKNOWN_C1C8BC, $0E
	JSR a:.LOWORD(UNKNOWN_C11F5A)
	LDA #$0001
	JSR a:.LOWORD(SELECTION_MENU)
	TAY
	STY $1C
	JSR a:.LOWORD(UNKNOWN_C11F8A)
	LDY $1C
	BNE @UNKNOWN7
	JMP a:.LOWORD(@UNKNOWN14)
@UNKNOWN7:
	LOADPTR BATTLE_ACTION_TABLE, $06
	TYA
	STA $04
	ASL
	ADC $04
	ASL
	ADC $04
	ASL
	ADC $04
	TAX
	INX
	INX
	INX
	INX
	LDA f:PSI_ABILITY_TABLE,X
	STA $04
	ASL
	ADC $04
	ASL
	ASL
	STA $18
	LDA $20
	STA $04
	LDX $04
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA $18
	INC
	INC
	INC
	LDY $06
	STY $0A
	LDY $08
	STY $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	CMP .LOWORD(CHAR_STRUCT)+char_struct::current_pp_target,X
	BCC @UNKNOWN8
	BEQ @UNKNOWN8
	LDA #$000E
	JSR a:.LOWORD(CREATE_WINDOW)
	LDA #$0002
	JSR a:.LOWORD(ENABLE_BLINKING_TRIANGLE)
	DISPLAY_TEXT_PTR TEXT_BLOCK_C8FAAA
	JSR a:.LOWORD(CLEAR_BLINKING_PROMPT)
	JSR a:.LOWORD(CLOSE_FOCUS_WINDOW)
	LDX #$0000
	STX $16
	JMP a:.LOWORD(@UNKNOWN15)
@UNKNOWN8:
	LDA $18
	INC
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	TAX
	CPX #$0001
	BEQ @UNKNOWN9
	CPX #$0003
	BNE @UNKNOWN10
@UNKNOWN9:
	LDY $1C
	TYA
	STA $04
	ASL
	ADC $04
	ASL
	ADC $04
	ASL
	ADC $04
	TAX
	INX
	INX
	INX
	INX
	LDA f:PSI_ABILITY_TABLE,X
	STA $04
	ASL
	ADC $04
	ASL
	ASL
	TAX
	LDA f:BATTLE_ACTION_TABLE,X
	AND #$00FF
	BNE @UNKNOWN10
	LDA #$0010
	JSL CLOSE_WINDOW
	LDA #$0004
	JSL CLOSE_WINDOW
	LDA #$0001
	JSL CLOSE_WINDOW
	LDA #$0026
	JSR a:.LOWORD(CREATE_WINDOW)
	JSL SET_9622_ONE
	LDA #$0006
	JSR a:.LOWORD(UNKNOWN_C10FEA)
	LDY $1C
	TYA
	JSR a:.LOWORD(UNKNOWN_C1CA06)
	LDA #$0000
	JSR a:.LOWORD(UNKNOWN_C10FEA)
@UNKNOWN10:
	LOADPTR PSI_ABILITY_TABLE, $06
	LDY $1C
	TYA
	STA $04
	ASL
	ADC $04
	ASL
	ADC $04
	ASL
	ADC $04
	INC
	INC
	INC
	INC
	CLC
	ADC $06
	STA $06
	LDA $20
	STA $04
	LDX $04
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	TAX
	LDA [$06]
	JSR a:.LOWORD(DETERMINE_TARGETTING)
	TAX
	STX $16
	LDA [$06]
	STA $04
	ASL
	ADC $04
	ASL
	ASL
	TAX
	LDA f:BATTLE_ACTION_TABLE,X
	AND #$00FF
	BNE @UNKNOWN11
	LDA #$0026
	JSL CLOSE_WINDOW
	BRA @UNKNOWN12
@UNKNOWN11:
	LDA #$0010
	JSL CLOSE_WINDOW
	LDA #$0004
	JSL CLOSE_WINDOW
	LDA #$0001
	JSL CLOSE_WINDOW
@UNKNOWN12:
	LDX $16
	TXA
	AND #$00FF
	BNE @UNKNOWN13
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN13:
	BRA @UNKNOWN15
@UNKNOWN14:
	LDX #$0001
	STX $16
@UNKNOWN15:
	CPX #$0000
	BNE @UNKNOWN16
	JMP a:.LOWORD(@UNKNOWN6)
@UNKNOWN16:
	LDA #$0004
	JSL CLOSE_WINDOW
	LDY $1C
	BNE @UNKNOWN17
	JMP a:.LOWORD(@UNKNOWN3)
@UNKNOWN17:
	TYA
	SEP #PROC_FLAGS::ACCUM8
	LDX $20
	STX $04
	STA a:.LOWORD(RAM)+1,X
	REP #PROC_FLAGS::ACCUM8
	TYA
	STA $04
	ASL
	ADC $04
	ASL
	ADC $04
	ASL
	ADC $04
	TAX
	INX
	INX
	INX
	INX
	LDA f:PSI_ABILITY_TABLE,X
	LDX $20
	STX $04
	STA a:.LOWORD(RAM)+2,X
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0008
	PHA
	LDX $16
	REP #PROC_FLAGS::ACCUM8
	TXA
	SEP #PROC_FLAGS::INDEX8
	PLY
	JSL ASR8_UNKNOWN1
	SEP #PROC_FLAGS::ACCUM8
	REP #PROC_FLAGS::INDEX8
	LDX $04
	STA a:.LOWORD(RAM)+4,X
	LDX $16
	REP #PROC_FLAGS::ACCUM8
	TXA
	SEP #PROC_FLAGS::ACCUM8
	LDX $04
	STA a:.LOWORD(RAM)+5,X
	REP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA $02
@UNKNOWN18:
	LDA #$0001
	JSL CLOSE_WINDOW
	LDA #$0010
	JSL CLOSE_WINDOW
	LDA $02
	PLD
	RTS

UNKNOWN_C1CE85: ;$C1CE85
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEA
	TCD
	PLA
	TAY
	STY $14
	LDA #$00FF
	STA $02
	LDA a:.LOWORD(RAM)+1,Y
	AND #$00FF
	TAX
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	JSL UNKNOWN_C3E977
	STA $12
	LOADPTR ITEM_CONFIGURATION_TABLE, $06
	LDA $12
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC $06
	STA $06
	LDY $14
	STY $04
	INC $04
	INC $04
	LDA #$0002
	LDX $04
	STA a:.LOWORD(RAM),X
	TYA
	INC
	INC
	INC
	INC
	STA $10
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA ($10)
	REP #PROC_FLAGS::ACCUM8
	TYA
	CLC
	ADC #$0005
	STA $0E
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),Y
	STA ($0E)
	LDY #item::type
	LDA [$06],Y
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $12
	AND #$0030
	CMP #$0010
	BEQ @UNKNOWN0
	CMP #$0020
	BEQ @UNKNOWN0
	CMP #$0030
	BEQ @UNKNOWN2
	JMP a:.LOWORD(@UNKNOWN6)
@UNKNOWN0:
	LDA #item::effect
	CLC
	ADC $06
	STA $06
	LDY $14
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	TAX
	LDA [$06]
	JSR a:.LOWORD(DETERMINE_TARGETTING)
	STA $02
	AND #$00FF
	BNE @UNKNOWN1
	LDA #$0000
	JMP a:.LOWORD(@UNKNOWN7)
@UNKNOWN1:
	LDA [$06]
	LDX $04
	STA a:.LOWORD(RAM),X
	SEP #PROC_FLAGS::INDEX8
	LDY #$0008
	LDA $02
	JSL ASR8_UNKNOWN1
	SEP #PROC_FLAGS::ACCUM8
	STA ($10)
	REP #PROC_FLAGS::ACCUM8
	LDA $02
	SEP #PROC_FLAGS::ACCUM8
	STA ($0E)
	BRA @UNKNOWN6
@UNKNOWN2:
	.A16
	.I16
	LDA $12
	AND #$000C
	BEQ @UNKNOWN3
	CMP #$0004
	BNE @UNKNOWN6
@UNKNOWN3:
	LDY $14
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	TAX
	STX $12
	DEX
	SEP #PROC_FLAGS::ACCUM8
	LDY #item::flags
	LDA [$06],Y
	AND f:POWERS_OF_TWO_4BIT,X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	BEQ @UNKNOWN5
	LDA #item::effect
	CLC
	ADC $06
	STA $06
	LDX $12
	LDA [$06]
	JSR a:.LOWORD(DETERMINE_TARGETTING)
	STA $02
	AND #$00FF
	BNE @UNKNOWN4
	LDA #$0000
	BRA @UNKNOWN7
@UNKNOWN4:
	LDA [$06]
	LDX $04
	STA a:.LOWORD(RAM),X
	SEP #PROC_FLAGS::INDEX8
	LDY #$0008
	LDA $02
	JSL ASR8_UNKNOWN1
	SEP #PROC_FLAGS::ACCUM8
	STA ($10)
	REP #PROC_FLAGS::ACCUM8
	LDA $02
	SEP #PROC_FLAGS::ACCUM8
	STA ($0E)
	BRA @UNKNOWN6
@UNKNOWN5:
	.A16
	.I16
	LDA #$0003
	LDX $04
	STA a:.LOWORD(RAM),X
@UNKNOWN6:
	REP #PROC_FLAGS::ACCUM8
	LDA $02
@UNKNOWN7:
	REP #PROC_FLAGS::INDEX8
	PLD
	RTS

UNKNOWN_C1CFC6: ;$C1CFC6
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	TAY
	STY $10
	LDX #$0000
	STX $0E
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::items,X
	AND #$00FF
	BEQ @UNKNOWN1
@UNKNOWN0:
	LDA #$0002
	JSR a:.LOWORD(CREATE_WINDOW)
	LDX #$0002
	LDY $10
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	JSR a:.LOWORD(INVENTORY_GET_ITEM_NAME)
	LDA #$0001
	JSR a:.LOWORD(SELECTION_MENU)
	TAX
	STX $0E
	JSL SET_9622_ONE
	JSR a:.LOWORD(CLOSE_FOCUS_WINDOW)
	LDX $0E
	BEQ @UNKNOWN1
	TXA
	SEP #PROC_FLAGS::ACCUM8
	LDY $10
	STA a:.LOWORD(RAM)+1,Y
	REP #PROC_FLAGS::ACCUM8
	TYA
	JSR a:.LOWORD(UNKNOWN_C1CE85)
	TAX
	STX $0E
	LDA #$0026
	JSL CLOSE_WINDOW
	LDX $0E
	BEQ @UNKNOWN0
@UNKNOWN1:
	LDX $0E
	TXA
	PLD
	RTS

UNKNOWN_C1D038: ;$C1D038
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STA $0E
	LOADPTR ITEM_CONFIGURATION_TABLE, $06
	LDA $0E
	LDY #.SIZEOF(item)
	JSL MULT168
	STA $0E
	CLC
	ADC #item::type
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	CMP #$0008
	BNE @UNKNOWN0
	LDA $0E
	CLC
	ADC #item::ep
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA #$0000
@UNKNOWN1:
	PLD
	RTS

UNKNOWN_C1D08B: ;$C1D08B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFED
	TCD
	PLA
	TAY
	STY $11
	SEP #PROC_FLAGS::ACCUM8
	LDA $22
	STA $10
	LDA $21
	STA $00
	REP #PROC_FLAGS::ACCUM8
	LDA $10
	AND #$00FF
	DEC
	DEC
	OPTIMIZED_MULT $04, 10
	STA $02
	PHY
	LDA $00
	AND #$00FF
	TAY
	PLA
	JSL MULT16
	SEC
	SBC $02
	TAX
	STX $0E
	TXA
	CLC
	SBC #$0000
	BVS @UNKNOWN0
	BPL @UNKNOWN2
	BRA @UNKNOWN1
@UNKNOWN0:
	BMI @UNKNOWN2
@UNKNOWN1:
	LDA #$0000
	BRA @UNKNOWN3
@UNKNOWN2:
	LDA #$0003
	JSL RAND_MOD
	STA $02
	LDY $11
	TYA
	INC
	LDY #$0004
	JSL MODULUS16S
	TAX
	LDA f:UNKNOWN_C3F2B1,X
	AND #$00FF
	CLC
	ADC $02
	TAY
	DEY
	LDX $0E
	TXA
	JSL MULT16
	LDY #$0032
	JSL DIVISION16S_DIVISOR_POSITIVE
@UNKNOWN3:
	PLD
	RTS

.INCLUDE "battle/level_up_char.asm"

RESET_CHAR_LEVEL_ONE: ;$C1D8D0
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	STY $04
	STX $02
	TAX
	DEX
	TXA
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAY
	SEP #PROC_FLAGS::ACCUM8
	LDA #STARTING_LEVEL
	STA .LOWORD(CHAR_STRUCT)+char_struct::level,Y
	LDA #STARTING_STATS
	STA .LOWORD(CHAR_STRUCT)+char_struct::base_offense,Y
	STA .LOWORD(CHAR_STRUCT)+char_struct::base_defense,Y
	STA .LOWORD(CHAR_STRUCT)+char_struct::base_speed,Y
	STA .LOWORD(CHAR_STRUCT)+char_struct::base_guts,Y
	STA .LOWORD(CHAR_STRUCT)+char_struct::base_luck,Y
	STA .LOWORD(CHAR_STRUCT)+char_struct::base_vitality,Y
	STA .LOWORD(CHAR_STRUCT)+char_struct::base_iq,Y
	REP #PROC_FLAGS::ACCUM8
	LDA #STARTING_HP
	STA .LOWORD(CHAR_STRUCT)+char_struct::max_hp,Y
	STA .LOWORD(CHAR_STRUCT)+char_struct::current_hp_target,Y
	STA .LOWORD(CHAR_STRUCT)+char_struct::current_hp,Y
	CPX #$0002
	BEQ @UNKNOWN0
	LDA #STARTING_PP
	STA $10
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA #STARTING_PP_JEFF
	STA $10
@UNKNOWN1:
	TXA
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAY
	LDA $10
	STA .LOWORD(CHAR_STRUCT)+char_struct::max_pp,Y
	STA .LOWORD(CHAR_STRUCT)+char_struct::current_pp_target,Y
	STA .LOWORD(CHAR_STRUCT)+char_struct::current_pp,Y
	TXY
	INY
	STY $0E
	TYA
	JSL RECALC_CHARACTER_POSTMATH_OFFENSE
	LDY $0E
	REP #PROC_FLAGS::ACCUM8
	TYA
	JSL RECALC_CHARACTER_POSTMATH_DEFENSE
	LDY $0E
	REP #PROC_FLAGS::ACCUM8
	TYA
	JSL RECALC_CHARACTER_POSTMATH_SPEED
	LDY $0E
	REP #PROC_FLAGS::ACCUM8
	TYA
	JSL RECALC_CHARACTER_POSTMATH_GUTS
	LDY $0E
	REP #PROC_FLAGS::ACCUM8
	TYA
	JSL RECALC_CHARACTER_POSTMATH_LUCK
	LDY $0E
	REP #PROC_FLAGS::ACCUM8
	TYA
	JSL RECALC_CHARACTER_POSTMATH_VITALITY
	LDY $0E
	REP #PROC_FLAGS::ACCUM8
	TYA
	JSL RECALC_CHARACTER_POSTMATH_IQ
	BRA @UNKNOWN3
@UNKNOWN2:
	LDX #$0000
	LDY $0E
	TYA
	JSR a:.LOWORD(LEVEL_UP_CHAR)
@UNKNOWN3:
	REP #PROC_FLAGS::ACCUM8
	LDA $02
	DEC
	STA $02
	BNE @UNKNOWN2
	LDA $04
	BEQ @UNKNOWN4
	LDY $0E
	TYX
	DEX
	STX $10
	TXA
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	STA $0E
	LOADPTR EXP_TABLE, $0A
	LDA $0E
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::level,X
	AND #$00FF
	OPTIMIZED_MULT $04, 4
	STA $02
	LDY #(MAX_LEVEL+1)*4
	LDX $10
	TXA
	JSL MULT16
	CLC
	ADC $02
	CLC
	ADC $0A
	STA $0A
	LDY #$0002
	LDA [$0A],Y
	TAY
	LDA [$0A]
	STA $06
	STY $08
	LDA $0E
	CLC
	ADC #.LOWORD(CHAR_STRUCT) + char_struct::exp
	TAY
	LDA $06
	STA a:.LOWORD(RAM),Y
	LDA $08
	STA a:.LOWORD(RAM)+2,Y
@UNKNOWN4:
	PLD
	RTS

GAIN_EXP: ;$C1D9E9
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	STX $02
	TAX
	LDA $20
	STA $06
	LDA $22
	STA $08
	TXY
	DEY
	STY $10
	TYA
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	STA $0E
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::exp
	TAX
	LDA $06
	STA $0A
	LDA $08
	STA $0C
	TXY
	LDA a:.LOWORD(RAM),Y
	STA $06
	LDA a:.LOWORD(RAM)+2,Y
	STA $08
	CLC
	LDA $06
	ADC $0A
	STA $06
	LDA $08
	ADC $0C
	STA $08
	TXY
	LDA $06
	STA a:.LOWORD(RAM),Y
	LDA $08
	STA a:.LOWORD(RAM)+2,Y
	LDA $0E
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::level,X
	AND #$00FF
	STA $0E
	STA $04
	LDA #MAX_LEVEL
	CLC
	SBC $04
	BVC @UNKNOWN0
	BMI @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN6)
@UNKNOWN0:
	BPL @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN6)
@UNKNOWN1:
	LDA $06
	STA $0A
	LDA $08
	STA $0C
	LOADPTR EXP_TABLE, $06
	LDA $0E
	OPTIMIZED_MULT $04, 4
	STA $04
	INC $04
	INC $04
	INC $04
	INC $04
	LDY $10
	TYA
	LDY #$0190
	JSL MULT16
	CLC
	ADC $04
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $06
	STY $08
	CLC
	LDA $06
	SBC $0A
	LDA $08
	SBC $0C
	BCC @UNKNOWN2
	JMP a:.LOWORD(@UNKNOWN6)
@UNKNOWN2:
	LDA $02
	BEQ @UNKNOWN3
	LDA #MUSIC::LEVEL_UP
	JSL CHANGE_MUSIC
@UNKNOWN3:
	LDX $02
	LDY $10
	TYA
	INC
	JSR a:.LOWORD(LEVEL_UP_CHAR)
	LDY $10
	TYA
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::level,X
	AND #$00FF
	STA $0E
	STA $04
	LDA #MAX_LEVEL
	CLC
	SBC $04
	BVC @UNKNOWN4
	BPL @UNKNOWN6
	BRA @UNKNOWN5
@UNKNOWN4:
	BMI @UNKNOWN6
@UNKNOWN5:
	LOADPTR EXP_TABLE, $06
	LDA $0E
	OPTIMIZED_MULT $04, 4
	STA $04
	INC $04
	INC $04
	INC $04
	INC $04
	LDY $10
	TYA
	LDY #$0190
	JSL MULT16
	CLC
	ADC $04
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $0A
	STY $0C
	TXA
	CLC
	ADC #.LOWORD(CHAR_STRUCT) + char_struct::exp
	TAY
	LDA a:.LOWORD(RAM),Y
	STA $06
	LDA a:.LOWORD(RAM)+2,Y
	STA $08
	LDA $06
	CMP $0A
	LDA $08
	SBC $0C
	BCC @UNKNOWN6
	JMP a:.LOWORD(@UNKNOWN3)
@UNKNOWN6:
	PLD
	RTL

FIND_CONDIMENT: ;$C1DB33
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	AND #$00FF
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC #item::type
	TAX
	LDA f:ITEM_CONFIGURATION_TABLE,X
	AND #$00FF
	AND #$003C
	CMP #$0020
	BNE @UNKNOWN3
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM),X
	TAY
	DEY
	STY $12
	LDX #$0000
	STX $10
	BRA @UNKNOWN2
@UNKNOWN0:
	AND #$00FF
	STA $0E
	LDY #$0027
	JSL MULT168
	CLC
	ADC #item::type
	TAX
	LDA f:ITEM_CONFIGURATION_TABLE,X
	AND #$00FF
	AND #$003C
	CMP #$0028
	BNE @UNKNOWN1
	LDA $0E
	BRA @UNKNOWN4
@UNKNOWN1:
	LDX $10
	INX
	STX $10
@UNKNOWN2:
	CPX #$000E
	BCS @UNKNOWN3
	STX $02
	LDY $12
	TYA
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	CLC
	ADC $02
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	BNE @UNKNOWN0
@UNKNOWN3:
	LDA #$0000
@UNKNOWN4:
	PLD
	RTL

SHOW_HP_ALERT: ;$C1DBBB
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FF9E
	TCD
	PLA
	TAY
	STY $60
	LDA .LOWORD(CURRENT_ATTACKER)
	STA $02
	SEP #PROC_FLAGS::ACCUM8
	STZ $20
	STY $12
	REP #PROC_FLAGS::ACCUM8
	TDC
	CLC
	ADC #$0012
	STA .LOWORD(CURRENT_ATTACKER)
	JSL UNKNOWN_C0943C
	LDA #$0001
	JSR a:.LOWORD(CREATE_WINDOW)
	LDX #$0005
	LDY $60
	TYA
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)
	JSR a:.LOWORD(UNKNOWN_C1AC4A)
	DISPLAY_TEXT_PTR TEXT_BLOCK_C7C7AF
	JSR a:.LOWORD(CLOSE_FOCUS_WINDOW)
	JSL UNKNOWN_C12DD5
	JSL UNKNOWN_C09451
	LDA $02
	STA .LOWORD(CURRENT_ATTACKER)
	PLD
	RTL

.INCLUDE "text/display_in_battle_text.asm"

.INCLUDE "text/display_text_wait.asm"

UNKNOWN_C1DCCB: ;$C1DCCB
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF1
	TCD
	PLA
	STA $04
	JSL UNKNOWN_C200D9
	LDA #$0001
	STA .LOWORD(BATTLE_MODE_FLAG)
	STA $02
	BRA @UNKNOWN1
@UNKNOWN0:
	LDY #$0001
	LDX $04
	LDA $02
	JSR a:.LOWORD(RESET_CHAR_LEVEL_ONE)
	LDY #$0000
	LDX #$0064
	LDA $02
	JSR a:.LOWORD(RECOVER_HP_AMTPERCENT)
	LDY #$0000
	LDX #$0064
	LDA $02
	JSR a:.LOWORD(RECOVER_PP_AMTPERCENT)
	LDA $02
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAY
	LDA .LOWORD(CHAR_STRUCT)+char_struct::current_hp_target,Y
	STA .LOWORD(CHAR_STRUCT)+char_struct::current_hp,Y
	LDA .LOWORD(CHAR_STRUCT)+char_struct::current_pp_target,Y
	STA .LOWORD(CHAR_STRUCT)+char_struct::current_pp,Y
	SEP #PROC_FLAGS::ACCUM8
	STZ $0E
	LDX #$0007
	REP #PROC_FLAGS::ACCUM8
	TYA
	CLC
	ADC #.LOWORD(CHAR_STRUCT) + char_struct::afflictions
	JSL MEMSET16
	INC $02
@UNKNOWN1:
	LDA $02
	CMP #$0004
	BCC @UNKNOWN0
	BEQ @UNKNOWN0
	PLD
	RTL

REDIRECT_SHOW_HPPP_WINDOWS: ;$C1DD3B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(SHOW_HPPP_WINDOWS)
	RTL

REDIRECT_HIDE_HPPP_WINDOWS: ;$C1DD41
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(HIDE_HPPP_WINDOWS)
	RTL

REDIRECT_CREATE_WINDOW: ;$C1DD47
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(CREATE_WINDOW)
	RTL

REDIRECT_SET_WINDOW_FOCUS: ;$C1DD4D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(SET_WINDOW_FOCUS)
	RTL

REDIRECT_C10FA3: ;$C1DD53
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(UNKNOWN_C10FA3)
	RTL

REDIRECT_CLOSE_FOCUS_WINDOW: ;$C1DD59
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(CLOSE_FOCUS_WINDOW)
	RTL

UNKNOWN_C1DD5F: ;$C1DD5F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(UNKNOWN_C1008E)
	JSL UNKNOWN_C12DD5
	JSR a:.LOWORD(HIDE_HPPP_WINDOWS)
	JSL UNKNOWN_C12DD5
	RTL

REDIRECT_C1AC4A: ;$C1DD70
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(UNKNOWN_C1AC4A)
	RTL

REDIRECT_C1ACA1: ;$C1DD76
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(UNKNOWN_C1ACA1)
	RTL

REDIRECT_C1ACF8: ;$C1DD7C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(UNKNOWN_C1ACF8)
	RTL

UNKNOWN_C1DD82: ;$C1DD82
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA $20
	STA $06
	LDA $22
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSR a:.LOWORD(UNKNOWN_C1AD0A)
	PLD
	RTL

UNKNOWN_C1DD9F: ;$C1DD9F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA $20
	STA $06
	LDA $22
	STA $08
	LDA #$0001
	JSR a:.LOWORD(ENABLE_BLINKING_TRIANGLE)
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSL DISPLAY_TEXT
	JSR a:.LOWORD(CLEAR_BLINKING_PROMPT)
	PLD
	RTL

REDIRECT_REMOVE_ITEM_FROM_INVENTORY: ;$C1DDC6
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(REMOVE_ITEM_FROM_INVENTORY)
	RTL

REDIRECT_C43573: ;$C1DDCC
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL UNKNOWN_C43573
	RTL

REDIRECT_C3E6F8: ;$C1DDD3
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL UNKNOWN_C3E6F8
	RTL

.INCLUDE "text/selection_menu_setup.asm"

REDIRECT_PRINT_MENU_ITEMS: ;$C1DE25
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(PRINT_MENU_ITEMS)
	RTL

REDIRECT_SELECTION_MENU: ;$C1DE2B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(SELECTION_MENU)
	RTL

REDIRECT_C1CFC6: ;$C1DE31
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(UNKNOWN_C1CFC6)
	RTL

REDIRECT_C1242E: ;$C1DE37
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(UNKNOWN_C1242E)
	RTL

REDIRECT_BATTLE_PSI_MENU: ;$C1DE3D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(BATTLE_PSI_MENU)
	RTL

.INCLUDE "battle/actions/switch_weapon.asm"

.INCLUDE "battle/actions/switch_armor.asm"

.INCLUDE "misc/null/C1E1A2.asm"

.INCLUDE "battle/enemy_select_mode.asm"

.INCLUDE "unknown/C1E48D.asm"

.INCLUDE "unknown/C1E4BE.asm"

.INCLUDE "text/text_input_dialog.asm"

.INCLUDE "text/enter_your_name_please.asm"

.INCLUDE "intro/name_a_character.asm"

.INCLUDE "unknown/C1EC8F.asm"

.INCLUDE "unknown/C1ECD1.asm"

.INCLUDE "system/saves/corruption_check.asm"

.INCLUDE "intro/file_select_menu.asm"

.INCLUDE "unknown/C1F07E.asm"

.INCLUDE "unknown/C1F14F.asm"

.INCLUDE "unknown/C1F2A8.asm"

.INCLUDE "intro/file_select/open_text_speed_menu.asm"

.INCLUDE "unknown/C1F497.asm"

.INCLUDE "intro/file_select/open_sound_menu.asm"

.INCLUDE "unknown/C1F616.asm"

.INCLUDE "intro/file_select/open_flavour_menu.asm"

.INCLUDE "intro/file_select_menu_loop.asm"

.INCLUDE "unknown/C1FF2C.asm"

.INCLUDE "unknown/C1FF6B.asm"

.INCLUDE "unknown/C1FF99.asm"

.INCLUDE "system/antipiracy/sram_check_routine_checksum.asm"

SRAM_CHECK_ROUTINE_CHECKSUM_VALUE: ;$C1FFEF
	.WORD $2AD8
