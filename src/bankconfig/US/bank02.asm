.SEGMENT "BANK02"
.INCLUDE "movementmacros.asm"
.INCLUDE "common.asm"
.INCLUDE "config.asm"
.INCLUDE "structs.asm"

.INCLUDE "overworld/inflict_sunstroke_check.asm"

.INCLUDE "data/unknown/C200B9.asm"

.INCLUDE "unknown/C2/C200D9.asm"

.INCLUDE "unknown/C2/C20266.asm"

.INCLUDE "unknown/C2/C20293.asm"

.INCLUDE "unknown/C2/C202AC.asm"

.INCLUDE "text/read_name.asm"

.INCLUDE "unknown/C2/C2038B.asm"

.INCLUDE "unknown/C2/C203C3.asm"

.INCLUDE "unknown/C2/C2077D.asm"

.INCLUDE "unknown/C2/C207B6.asm"

.INCLUDE "unknown/C2/C207E1.asm"

.INCLUDE "unknown/C2/C2087C.asm"

.INCLUDE "unknown/C2/C208B8.asm"

.INCLUDE "data/text/name_entry_grid_character_offset_table.asm"

.INCLUDE "data/unknown/C20958.asm"

.INCLUDE "data/text/the.asm"

.INCLUDE "unknown/C2/C209A0.asm"

.INCLUDE "unknown/C2/C20A20.asm"

.INCLUDE "unknown/C2/C20ABC.asm"

.INCLUDE "unknown/C2/C20B65.asm"

.INCLUDE "unknown/C2/C20D3F.asm"

.INCLUDE "unknown/C2/C20D89.asm"

.INCLUDE "unknown/C2/C20DC5.asm"

UNKNOWN_C20F08: ;$C20F08
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STY $0E
	STA $02
	TXA
	JSR a:.LOWORD(UNKNOWN_C20D3F)
	LDY $0E
	LDX #$0000
	LDA $02
	JSR a:.LOWORD(UNKNOWN_C20DC5)
	PLD
	RTS

UNKNOWN_C20F26: ;$C20F26
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STY $04
	STA $02
	LDY $1E
	STY $0E
	LDA a:.LOWORD(RAM)+4,X
	AND #$00FF
	BEQ @UNKNOWN0
	LDA $02
	JSR a:.LOWORD(UNKNOWN_C20D89)
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA $04
	JSR a:.LOWORD(UNKNOWN_C20D3F)
	LDY $0E
	LDX #$0001
	LDA $02
	JSR a:.LOWORD(UNKNOWN_C20DC5)
@UNKNOWN1:
	PLD
	RTS

UNKNOWN_C20F58: ;$C20F58
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF2
	TCD
	LDA .LOWORD(UNKNOWN_7E9695)
	AND #$00FF
	BEQ @UNKNOWN0
	SEP #PROC_FLAGS::INDEX8
	LDY #$0001
	LDA .LOWORD(UNKNOWN_7E9627)
	STA $06
	LDA .LOWORD(UNKNOWN_7E9629)
	STA $08
	JSL ASR32
	LDA $06
	STA $14
	LDA $08
	STA $16
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA .LOWORD(UNKNOWN_7E9627)
	STA $06
	LDA .LOWORD(UNKNOWN_7E9629)
	STA $08
	LDA $06
	STA $14
	LDA $08
	STA $16
@UNKNOWN1:
	REP #PROC_FLAGS::INDEX8
	PLD
	RTS

UNKNOWN_C20F9A: ;$C20F9A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDA #$0000
	STA $02
	BRA @UNKNOWN4
@UNKNOWN0:
	LDX $02
	LDA .LOWORD(GAME_STATE)+122,X
	AND #$00FF
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)
	TAY
	LDA a:.LOWORD(RAM)+14,Y
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN1
	LDA a:.LOWORD(RAM)+69,Y
	BNE @UNKNOWN1
	LDA #$0001
	STA a:.LOWORD(RAM)+71,Y
@UNKNOWN1:
	LDA a:.LOWORD(RAM)+67,Y
	BEQ @UNKNOWN2
	LDA a:.LOWORD(RAM)+69,Y
	STA $0E
	TYA
	CLC
	ADC #$0047
	TAX
	LDA a:.LOWORD(RAM),X
	STA $04
	LDA $0E
	CMP $04
	BCC @UNKNOWN2
	BEQ @UNKNOWN2
	STA a:.LOWORD(RAM),X
@UNKNOWN2:
	LDA a:.LOWORD(RAM)+73,Y
	BEQ @UNKNOWN3
	LDA a:.LOWORD(RAM)+75,Y
	STA $0E
	TYA
	CLC
	ADC #$004D
	TAX
	LDA a:.LOWORD(RAM),X
	STA $04
	LDA $0E
	CMP $04
	BCC @UNKNOWN3
	BEQ @UNKNOWN3
	STA a:.LOWORD(RAM),X
@UNKNOWN3:
	INC $02
@UNKNOWN4:
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	STA $04
	LDA $02
	CMP $04
	BCS @UNKNOWN5
	BEQ @UNKNOWN5
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN5:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E9696)
	REP #PROC_FLAGS::ACCUM8
	PLD
	RTL

UNKNOWN_C21034: ;$C21034
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDY #$0000
	STY $0E
	BRA @UNKNOWN3
@UNKNOWN0:
	LDA .LOWORD(GAME_STATE)+122,Y
	AND #$00FF
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)
	TAX
	LDA a:.LOWORD(RAM)+67,X
	BNE @UNKNOWN1
	LDA a:.LOWORD(RAM)+73,X
	BNE @UNKNOWN1
	LDA a:.LOWORD(RAM)+69,X
	CMP a:.LOWORD(RAM)+71,X
	BNE @UNKNOWN1
	LDA a:.LOWORD(RAM)+75,X
	CMP a:.LOWORD(RAM)+77,X
	BEQ @UNKNOWN2
@UNKNOWN1:
	LDA #$0000
	BRA @UNKNOWN4
@UNKNOWN2:
	LDY $0E
	INY
	STY $0E
@UNKNOWN3:
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	STA $02
	TYA
	CMP $02
	BCC @UNKNOWN0
	LDA #$0001
@UNKNOWN4:
	PLD
	RTL

UNKNOWN_C2108C: ;$C2108C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL UNKNOWN_C21034
	CMP #$0000
	BEQ @UNKNOWN0
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(UNKNOWN_7E9696)
@UNKNOWN0:
	REP #PROC_FLAGS::ACCUM8
	RTL

HP_PP_ROLLER: ;$C2109F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEC
	TCD
	LDA .LOWORD(UNKNOWN_7E9697)
	AND #$00FF
	BEQ @UNKNOWN0
	JMP a:.LOWORD(@UNKNOWN30)
@UNKNOWN0:
	LDA a:.LOWORD(UNKNOWN_7E0002)
	AND #$00FF
	AND #$0003
	TAX
	LDA .LOWORD(GAME_STATE)+122,X
	AND #$00FF
	BNE @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN30)
@UNKNOWN1:
	AND #$00FF
	STA $12
	CLC
	SBC #$0004
	BVS @UNKNOWN2
	BMI @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN30)
@UNKNOWN2:
	BPL @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN30)
@UNKNOWN3:
	LDA $12
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)
	STA $10
	LDA .LOWORD(UNKNOWN_7E9698)
	BNE @UNKNOWN4
	LDA $10
	CLC
	ADC #$0043
	TAX
	STX $0E
	LDA a:.LOWORD(RAM),X
	AND #$0001
	BNE @UNKNOWN4
	JMP a:.LOWORD(@UNKNOWN14)
@UNKNOWN4:
	LDA $10
	TAX
	LDY a:.LOWORD(RAM)+69,X
	TAX
	LDA a:.LOWORD(RAM)+71,X
	STA $02
	TYA
	CMP $02
	BCS @UNKNOWN9
	LDA $10
	CLC
	ADC #$0043
	TAX
	TXY
	STY $0E
	LDA .LOWORD(UNKNOWN_7E9696)
	AND #$00FF
	BNE @UNKNOWN5
	LDA .LOWORD(UNKNOWN_7E9698)
	BEQ @UNKNOWN6
@UNKNOWN5:
	LDA #$4000
	STA $06
	LDA #$0006
	STA $08
	BRA @UNKNOWN7
@UNKNOWN6:
	JSR a:.LOWORD(UNKNOWN_C20F58)
@UNKNOWN7:
	LDA $06
	STA $0A
	LDA $08
	STA $0C
	LDY $0E
	LDA a:.LOWORD(RAM),Y
	STA $06
	LDA a:.LOWORD(RAM)+2,Y
	STA $08
	CLC
	LDA $06
	ADC $0A
	STA $06
	LDA $08
	ADC $0C
	STA $08
	LDA $06
	STA a:.LOWORD(RAM),Y
	LDA $08
	STA a:.LOWORD(RAM)+2,Y
	LDA $10
	CLC
	ADC #$0045
	TAX
	LDA a:.LOWORD(RAM),X
	CMP $02
	BCS @UNKNOWN8
	BEQ @UNKNOWN8
	JMP a:.LOWORD(@UNKNOWN15)
@UNKNOWN8:
	LDA $02
	STA a:.LOWORD(RAM),X
	LDA $10
	TAX
	LDA #$0001
	STA a:.LOWORD(RAM)+67,X
	JMP a:.LOWORD(@UNKNOWN15)
@UNKNOWN9:
	TYA
	CMP $02
	BNE @UNKNOWN10
	LDA $10
	CLC
	ADC #$0043
	TAX
	LDA a:.LOWORD(RAM),X
	CMP #$0001
	BNE @UNKNOWN10
	LDA #$0000
	STA a:.LOWORD(RAM),X
	JMP a:.LOWORD(@UNKNOWN15)
@UNKNOWN10:
	LDA $10
	CLC
	ADC #$0043
	TAX
	TXY
	STY $0E
	LDA .LOWORD(UNKNOWN_7E9698)
	BEQ @UNKNOWN11
	LDA #$4000
	STA $06
	LDA #$0006
	STA $08
	BRA @UNKNOWN12
@UNKNOWN11:
	JSR a:.LOWORD(UNKNOWN_C20F58)
@UNKNOWN12:
	LDA $06
	STA $0A
	LDA $08
	STA $0C
	LDY $0E
	LDA a:.LOWORD(RAM),Y
	STA $06
	LDA a:.LOWORD(RAM)+2,Y
	STA $08
	SEC
	LDA $06
	SBC $0A
	STA $06
	LDA $08
	SBC $0C
	STA $08
	LDA $06
	STA a:.LOWORD(RAM),Y
	LDA $08
	STA a:.LOWORD(RAM)+2,Y
	LDA $10
	TAX
	LDY a:.LOWORD(RAM)+69,X
	TYA
	CMP $02
	BCC @UNKNOWN13
	CPY #$03E8
	BCC @UNKNOWN15
	BEQ @UNKNOWN15
@UNKNOWN13:
	LDA $10
	TAX
	LDA $02
	STA a:.LOWORD(RAM)+69,X
	LDA $10
	TAX
	LDA #$0001
	STA a:.LOWORD(RAM)+67,X
	BRA @UNKNOWN15
@UNKNOWN14:
	LDA $10
	PHA
	TAX
	LDA a:.LOWORD(RAM)+69,X
	PLX
	CMP a:.LOWORD(RAM)+71,X
	BEQ @UNKNOWN15
	LDA #$0001
	LDX $0E
	STA a:.LOWORD(RAM),X
@UNKNOWN15:
	LDA .LOWORD(UNKNOWN_7E9698)
	BNE @UNKNOWN16
	LDA $10
	CLC
	ADC #$0049
	TAX
	STX $0E
	LDA a:.LOWORD(RAM),X
	AND #$0001
	BNE @UNKNOWN16
	JMP a:.LOWORD(@UNKNOWN25)
@UNKNOWN16:
	LDA $10
	TAX
	LDY a:.LOWORD(RAM)+75,X
	TAX
	LDA a:.LOWORD(RAM)+77,X
	STA $02
	TYA
	CMP $02
	BCS @UNKNOWN20
	LDA $10
	CLC
	ADC #$0049
	TAX
	TXY
	LDA .LOWORD(UNKNOWN_7E9698)
	BEQ @UNKNOWN17
	LDA #$4000
	STA $06
	LDA #$0006
	STA $08
	BRA @UNKNOWN18
@UNKNOWN17:
	LDA #$9000
	STA $06
	LDA #$0001
	STA $08
@UNKNOWN18:
	LDA $06
	STA $0A
	LDA $08
	STA $0C
	LDA a:.LOWORD(RAM),Y
	STA $06
	LDA a:.LOWORD(RAM)+2,Y
	STA $08
	CLC
	LDA $06
	ADC $0A
	STA $06
	LDA $08
	ADC $0C
	STA $08
	LDA $06
	STA a:.LOWORD(RAM),Y
	LDA $08
	STA a:.LOWORD(RAM)+2,Y
	LDA $10
	CLC
	ADC #$004B
	TAX
	LDA a:.LOWORD(RAM),X
	CMP $02
	BCS @UNKNOWN19
	BEQ @UNKNOWN19
	JMP a:.LOWORD(@UNKNOWN26)
@UNKNOWN19:
	LDA $02
	STA a:.LOWORD(RAM),X
	LDA $10
	TAX
	LDA #$0001
	STA a:.LOWORD(RAM)+73,X
	JMP a:.LOWORD(@UNKNOWN26)
@UNKNOWN20:
	TYA
	CMP $02
	BNE @UNKNOWN21
	LDA $10
	CLC
	ADC #$0049
	TAX
	LDA a:.LOWORD(RAM),X
	CMP #$0001
	BNE @UNKNOWN21
	LDA #$0000
	STA a:.LOWORD(RAM),X
	JMP a:.LOWORD(@UNKNOWN26)
@UNKNOWN21:
	LDA $10
	CLC
	ADC #$0049
	TAX
	TXY
	LDA .LOWORD(UNKNOWN_7E9698)
	BEQ @UNKNOWN22
	LDA #$4000
	STA $06
	LDA #$0006
	STA $08
	BRA @UNKNOWN23
@UNKNOWN22:
	LDA #$9000
	STA $06
	LDA #$0001
	STA $08
@UNKNOWN23:
	LDA $06
	STA $0A
	LDA $08
	STA $0C
	LDA a:.LOWORD(RAM),Y
	STA $06
	LDA a:.LOWORD(RAM)+2,Y
	STA $08
	SEC
	LDA $06
	SBC $0A
	STA $06
	LDA $08
	SBC $0C
	STA $08
	LDA $06
	STA a:.LOWORD(RAM),Y
	LDA $08
	STA a:.LOWORD(RAM)+2,Y
	LDA $10
	TAX
	LDY a:.LOWORD(RAM)+75,X
	TYA
	CMP $02
	BCC @UNKNOWN24
	CPY #$03E8
	BCC @UNKNOWN26
	BEQ @UNKNOWN26
@UNKNOWN24:
	LDA $10
	TAX
	LDA $02
	STA a:.LOWORD(RAM)+75,X
	LDA $10
	TAX
	LDA #$0001
	STA a:.LOWORD(RAM)+73,X
	BRA @UNKNOWN26
@UNKNOWN25:
	LDA $10
	PHA
	TAX
	LDA a:.LOWORD(RAM)+75,X
	PLX
	CMP a:.LOWORD(RAM)+77,X
	BEQ @UNKNOWN26
	LDA #$0001
	LDX $0E
	STA a:.LOWORD(RAM),X
@UNKNOWN26:
	LDA .LOWORD(UNKNOWN_7E9698)
	BEQ @UNKNOWN30
	LDA $10
	TAX
	LDY a:.LOWORD(RAM)+69,X
	CPY #$03E7
	BNE @UNKNOWN27
	TAX
	LDA #$0001
	STA a:.LOWORD(RAM)+71,X
	BRA @UNKNOWN28
@UNKNOWN27:
	CPY #$0001
	BNE @UNKNOWN28
	TAX
	LDA #$03E7
	STA a:.LOWORD(RAM)+71,X
@UNKNOWN28:
	LDA $10
	TAX
	LDY a:.LOWORD(RAM)+75,X
	CPY #$03E7
	BNE @UNKNOWN29
	TAX
	STZ a:.LOWORD(RAM)+77,X
	BRA @UNKNOWN30
@UNKNOWN29:
	CPY #$0000
	BNE @UNKNOWN30
	TAX
	LDA #$03E7
	STA a:.LOWORD(RAM)+77,X
@UNKNOWN30:
	PLD
	RTL

UNKNOWN_C213AC: ;$C213AC
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFDE
	TCD
	LDA .LOWORD(UNKNOWN_7E89C9)
	AND #$00FF
	BNE @UNKNOWN0
	JMP a:.LOWORD(@UNKNOWN22)
@UNKNOWN0:
	LDA a:.LOWORD(UNKNOWN_7E0002)
	AND #$00FF
	AND #$0003
	STA $20
	LDY #.LOWORD(GAME_STATE) + 122
	LDA ($20),Y
	AND #$00FF
	BNE @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN22)
@UNKNOWN1:
	AND #$00FF
	CLC
	SBC #$0004
	BVS @UNKNOWN2
	BMI @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN22)
@UNKNOWN2:
	BPL @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN22)
@UNKNOWN3:
	LDY $20
	SEP #PROC_FLAGS::INDEX8
	LDA .LOWORD(UNKNOWN_7E9647)
	JSL ASR8_UNKNOWN1
	AND #$0001
	BNE @UNKNOWN4
	JMP a:.LOWORD(@UNKNOWN22)
@UNKNOWN4:
	LDA .LOWORD(PSI_WINDOW_CHARACTER)
	CMP $20
	BNE @UNKNOWN5
	LDA #$0012
	BRA @UNKNOWN6
@UNKNOWN5:
	LDA #$0013
@UNKNOWN6:
	OPTIMIZED_MULT $04, 32
	CLC
	ADC #$0060
	STA $02
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	OPTIMIZED_MULT $04, 7
	PHA
	ASL
	PLA
	ROR
	STA $04
	LDA #$0010
	SEC
	SBC $04
	CLC
	ADC $02
	INC
	INC
	INC
	STA $1E
	LDA $20
	OPTIMIZED_MULT $04, 7
	STA $02
	LDA $1E
	CLC
	ADC $02
	STA $1C
	ASL
	CLC
	ADC #$7DFE
	STA $04
	STA $1A
	LDA $1C
	CLC
	ADC #$7C00
	STA $1C
	REP #PROC_FLAGS::INDEX8
	LDY #.LOWORD(GAME_STATE) + 122
	LDA ($20),Y
	AND #$00FF
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)
	STA $18
	LDY #$0043
	LDA ($18),Y
	STA $16
	AND #$0001
	BNE @UNKNOWN7
	JMP a:.LOWORD(@UNKNOWN13)
@UNKNOWN7:
	LDA $16
	TAY
	STY $14
	LDY #$0045
	LDA ($18),Y
	TAX
	LDA $20
	LDY $14
	JSR a:.LOWORD(UNKNOWN_C20F08)
	LDA $20
	OPTIMIZED_MULT $04, 24
	CLC
	ADC #.LOWORD(UNKNOWN_7E8969)
	STA $02
	LDA .LOWORD(UNKNOWN_7E9624)
	AND #$00FF
	BNE @UNKNOWN8
	LDA #$007E
	STA $0E
	LDA $1C
	STA $10
	LDY $02
	LDX #$0006
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	JSL UNKNOWN_C08616_ENTRY_B
	.A16
	LDA #$007E
	STA $0E
	LDA $1C
	CLC
	ADC #$0020
	STA $10
	LDA $02
	CLC
	ADC #$0006
	TAY
	LDX #$0006
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	JSL UNKNOWN_C08616_ENTRY_B
	.A16
@UNKNOWN8:
	LDY $02
	LDX #$0000
	STX $1E
	BRA @UNKNOWN10
@UNKNOWN9:
	LDA a:.LOWORD(RAM),Y
	LDX $1A
	STX $04
	STA a:.LOWORD(RAM),X
	INY
	INY
	INC $04
	INC $04
	LDA $04
	STA $1A
	LDX $1E
	INX
	STX $1E
@UNKNOWN10:
	CPX #$0003
	BNE @UNKNOWN9
	LDA $1A
	STA $04
	CLC
	ADC #$003A
	STA $1E
	LDX #$0000
	STX $14
	BRA @UNKNOWN12
@UNKNOWN11:
	TAX
	LDA a:.LOWORD(RAM),Y
	STA a:.LOWORD(RAM),X
	INY
	INY
	LDA $1E
	INC
	INC
	STA $1E
	LDX $14
	INX
	STX $14
@UNKNOWN12:
	CPX #$0003
	BNE @UNKNOWN11
	CLC
	ADC #$003A
	STA $04
	STA $1A
	BRA @UNKNOWN14
@UNKNOWN13:
	LDA $04
	CLC
	ADC #$0080
	STA $04
	STA $1A
@UNKNOWN14:
	LDY #$0049
	LDA ($18),Y
	STA $16
	AND #$0001
	BNE @UNKNOWN15
	JMP a:.LOWORD(@UNKNOWN21)
@UNKNOWN15:
	.A16
	LDA $16
	STA $0E
	LDY #$004B
	LDA ($18),Y
	TAY
	LDA $18
	CLC
	ADC #$000E
	TAX
	LDA $20
	JSR a:.LOWORD(UNKNOWN_C20F26)
	LDA $20
	OPTIMIZED_MULT $04, 24
	CLC
	ADC #$8975
	STA $02
	LDA .LOWORD(UNKNOWN_7E9624)
	AND #$00FF
	BNE @UNKNOWN16
	LDA #$007E
	STA $0E
	LDA $1C
	CLC
	ADC #$0040
	STA $10
	LDY $02
	LDX #$0006
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	JSL UNKNOWN_C08616_ENTRY_B
	.A16
	LDA #$007E
	STA $0E
	LDA $1C
	CLC
	ADC #$0060
	STA $10
	LDA $02
	CLC
	ADC #$0006
	TAY
	LDX #$0006
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	JSL UNKNOWN_C08616_ENTRY_B
	.A16
@UNKNOWN16:
	LDA $02
	STA $12
	LDX #$0000
	STX $1E
	BRA @UNKNOWN18
@UNKNOWN17:
	TAX
	LDA a:.LOWORD(RAM),X
	LDX $1A
	STX $04
	STA a:.LOWORD(RAM),X
	LDA $12
	INC
	INC
	STA $12
	INC $04
	INC $04
	LDX $04
	STX $1A
	LDX $1E
	INX
	STX $1E
@UNKNOWN18:
	CPX #$0003
	BNE @UNKNOWN17
	LDA $1A
	STA $04
	CLC
	ADC #$003A
	TAY
	LDX #$0000
	STX $1E
	BRA @UNKNOWN20
@UNKNOWN19:
	LDA $12
	TAX
	LDA a:.LOWORD(RAM),X
	STA a:.LOWORD(RAM),Y
	LDA $12
	INC
	INC
	STA $12
	INY
	INY
	LDX $1E
	INX
	STX $1E
@UNKNOWN20:
	CPX #$0003
	BNE @UNKNOWN19
@UNKNOWN21:
	LDA .LOWORD(UNKNOWN_7E9624)
	AND #$00FF
	BEQ @UNKNOWN22
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(UNKNOWN_7E9624)
@UNKNOWN22:
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8
	PLD
	RTL

GET_EVENT_FLAG: ;$C21628
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	DEC
	STA $0E
	LSR
	LSR
	LSR
	PHA
	LDY #$0008
	LDA $0E
	JSL MODULUS16
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:POWERS_OF_TWO_8BIT,X
	PLX
	AND .LOWORD(EVENT_FLAG),X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	BEQ UNKNOWN0
	LDA #$0001
	BRA UNKNOWN1
UNKNOWN0:
	LDA #$0000
UNKNOWN1:
	PLD
	RTL

SET_EVENT_FLAG: ;$C2165E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	TXY
	STY $12
	TAX
	DEC
	STA $10
	LSR
	LSR
	LSR
	CLC
	ADC #.LOWORD(UNKNOWN_7E9C08)
	TAX
	STX $0E
	LDY #$0008
	LDA $10
	JSL MODULUS16
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:POWERS_OF_TWO_8BIT,X
	LDY $12
	BEQ @UNKNOWN0
	STA $00
	LDX $0E
	LDA a:.LOWORD(RAM),X
	ORA $00
	BRA @UNKNOWN1
@UNKNOWN0:
	EOR #$00FF
	STA $00
	LDX $0E
	LDA a:.LOWORD(RAM),X
	AND $00
@UNKNOWN1:
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	PLD
	RTL

UNKNOWN_C216AD: ;$C216AD
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TAX
	STX $0E
	TXA
	JSL CHANGE_MUSIC
	LDX $0E
	STX .LOWORD(UNKNOWN_7E5DD4)
	STX .LOWORD(UNKNOWN_7E5DD6)
	PLD
	RTL

REDIRECT_STOP_MUSIC: ;$C216C9
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL STOP_MUSIC
	RTL

PLAY_SOUND_AND_UNKNOWN: ;$C216D0
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL PLAY_SOUND
	JSL UNKNOWN_C12E42
	RTL

UNKNOWN_C216DB: ;$C216DB
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE7
	TCD
	SEP #PROC_FLAGS::ACCUM8
	STZ $18
	STZ $17
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN0:
	REP #PROC_FLAGS::ACCUM8
	LDA $17
	AND #$00FF
	TAX
	LDA .LOWORD(GAME_STATE)+122,X
	AND #$00FF
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)
	TAX
	STX $15
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA $01
	JMP a:.LOWORD(@UNKNOWN5)
@UNKNOWN1:
	.A16
	LOADPTR ITEM_CONFIGURATION_TABLE, $06
	LDA $06
	STA $11
	LDA $08
	STA $13
	LDA $00
	AND #$00FF
	LDY #.SIZEOF(item)
	JSL MULT168
	STA $0F
	CLC
	ADC #item::type
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	CMP #$0004
	BNE @UNKNOWN4
	LDA $18
	AND #$00FF
	BEQ @UNKNOWN3
	LDA $0F
	CLC
	ADC #$0021
	CLC
	ADC $06
	STA $06
	SEP #PROC_FLAGS::ACCUM8
	LDA [$06]
	STA $00
	REP #PROC_FLAGS::ACCUM8
	LDA $18
	AND #$00FF
	LDY #$0027
	JSL MULT168
	CLC
	ADC #$0021
	LDX $11
	STX $06
	LDX $13
	STX $08
	CLC
	ADC $06
	STA $06
	SEP #PROC_FLAGS::ACCUM8
	LDA [$06]
	CLC
	SBC $00
	BVC @UNKNOWN2
	BPL @UNKNOWN4
	BRA @UNKNOWN3
@UNKNOWN2:
	BMI @UNKNOWN4
@UNKNOWN3:
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	STA $00
	STA $18
@UNKNOWN4:
	SEP #PROC_FLAGS::ACCUM8
	INC $01
@UNKNOWN5:
	REP #PROC_FLAGS::ACCUM8
	LDA $01
	AND #$00FF
	STA $02
	LDA #$000E
	CLC
	SBC $02
	BVC @UNKNOWN6
	BPL @UNKNOWN8
	BRA @UNKNOWN7
@UNKNOWN6:
	BMI @UNKNOWN8
@UNKNOWN7:
	LDX $15
	TXA
	CLC
	ADC $02
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+35,X
	STA $00
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	LDA $00
	AND #$00FF
	BEQ @UNKNOWN8
	JMP a:.LOWORD(@UNKNOWN1)
@UNKNOWN8:
	SEP #PROC_FLAGS::ACCUM8
	INC $17
@UNKNOWN9:
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	CMP $17
	BEQ @UNKNOWN10
	BCC @UNKNOWN10
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN10:
	REP #PROC_FLAGS::ACCUM8
	LDA $18
	AND #$00FF
	BEQ @UNKNOWN11
	LOADPTR ITEM_CONFIGURATION_TABLE, $06
	LDA $18
	AND #$00FF
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC #item::strength
	CLC
	ADC $06
	STA $06
	SEP #PROC_FLAGS::ACCUM8
	LDA [$06]
	REP #PROC_FLAGS::ACCUM8
	SEC
	AND #$00FF
	SBC #$0080
	EOR #$FF80
	JSL UNKNOWN_C2239D
	CMP #$0000
	BNE @UNKNOWN12
	LDA #PARTY_MEMBER::TEDDY_BEAR
	JSL REMOVE_CHAR_FROM_PARTY
	LDA #PARTY_MEMBER::PLUSH_TEDDY_BEAR
	JSL REMOVE_CHAR_FROM_PARTY
	SEP #PROC_FLAGS::ACCUM8
	LDA [$06]
	REP #PROC_FLAGS::ACCUM8
	SEC
	AND #$00FF
	SBC #$0080
	EOR #$FF80
	JSL ADD_CHAR_TO_PARTY
	BRA @UNKNOWN12
@UNKNOWN11:
	LDA #PARTY_MEMBER::TEDDY_BEAR
	JSL REMOVE_CHAR_FROM_PARTY
	LDA #PARTY_MEMBER::PLUSH_TEDDY_BEAR
	JSL REMOVE_CHAR_FROM_PARTY
@UNKNOWN12:
	PLD
	RTL

RECALC_CHARACTER_POSTMATH_OFFENSE: ;$C21857
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE9
	TCD
	PLA
	TAX
	DEC
	STA $02
	STA $15
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::base_offense,X
	AND #$00FF
	TAY
	STY $13
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::WEAPON,X
	AND #$00FF
	STA $11
	BEQ @UNKNOWN1
	LDX #$0000
	STX $0F
	LDA $02
	CMP #$0003
	BNE @UNKNOWN0
	LDX #$0001
	STX $0F
@UNKNOWN0:
	LDA $11
	DEC
	PHA
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	PLY
	STY $02
	CLC
	ADC $02
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	LDY #.SIZEOF(item)
	JSL MULT168
	LDX $0F
	STX $02
	CLC
	ADC $02
	CLC
	ADC #item::strength
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:ITEM_CONFIGURATION_TABLE,X
	REP #PROC_FLAGS::ACCUM8
	SEC
	AND #$00FF
	SBC #$0080
	EOR #$FF80
	STA $04
	LDY $13
	TYA
	CLC
	ADC $04
	TAY
@UNKNOWN1:
	STY $04
	LDA #$0000
	CLC
	SBC $04
	BVC @UNKNOWN2
	BPL @UNKNOWN4
	BRA @UNKNOWN3
@UNKNOWN2:
	BMI @UNKNOWN4
@UNKNOWN3:
	LDX #$0000
	BRA @UNKNOWN8
@UNKNOWN4:
	TYA
	CLC
	SBC #$00FF
	BVC @UNKNOWN5
	BPL @UNKNOWN7
	BRA @UNKNOWN6
@UNKNOWN5:
	BMI @UNKNOWN7
@UNKNOWN6:
	LDX #$00FF
	BRA @UNKNOWN8
@UNKNOWN7:
	TYA
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	TAX
@UNKNOWN8:
	TXA
	SEP #PROC_FLAGS::ACCUM8
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	LDA $15
	STA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	STA .LOWORD(CHAR_STRUCT)+char_struct::offense,X
	PLD
	RTL

RECALC_CHARACTER_POSTMATH_DEFENSE: ;$C2192B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEB
	TCD
	PLA
	TAX
	DEC
	STA $02
	STA $13
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::base_defense,X
	AND #$00FF
	TAY
	STY $11
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::BODY,X
	AND #$00FF
	TAX
	BEQ @UNKNOWN1
	LDA #$0000
	STA $0F
	LDA $02
	CMP #$0003
	BNE @UNKNOWN0
	LDA #$0001
	STA $0F
@UNKNOWN0:
	LDA $0F
	PHA
	TXA
	DEC
	PHA
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	PLY
	STY $02
	CLC
	ADC $02
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	LDY #.SIZEOF(item)
	JSL MULT168
	PLY
	STY $02
	CLC
	ADC $02
	CLC
	ADC #item::strength
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:ITEM_CONFIGURATION_TABLE,X
	REP #PROC_FLAGS::ACCUM8
	SEC
	AND #$00FF
	SBC #$0080
	EOR #$FF80
	STA $04
	LDY $11
	TYA
	CLC
	ADC $04
	TAY
	STY $11
@UNKNOWN1:
	LDA $13
	STA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::ARMS,X
	AND #$00FF
	TAX
	BEQ @UNKNOWN3
	LDA #$0000
	STA $0F
	LDA $02
	CMP #$0003
	BNE @UNKNOWN2
	LDA #$0001
	STA $0F
@UNKNOWN2:
	LDA $0F
	PHA
	TXA
	DEC
	PHA
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	PLY
	STY $02
	CLC
	ADC $02
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	LDY #.SIZEOF(item)
	JSL MULT168
	PLY
	STY $02
	CLC
	ADC $02
	CLC
	ADC #item::strength
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:ITEM_CONFIGURATION_TABLE,X
	REP #PROC_FLAGS::ACCUM8
	SEC
	AND #$00FF
	SBC #$0080
	EOR #$FF80
	STA $04
	LDY $11
	TYA
	CLC
	ADC $04
	TAY
	STY $11
@UNKNOWN3:
	LDA $13
	STA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::OTHER,X
	AND #$00FF
	TAX
	BEQ @UNKNOWN5
	LDA #$0000
	STA $0F
	LDA $02
	CMP #$0003
	BNE @UNKNOWN4
	LDA #$0001
	STA $0F
@UNKNOWN4:
	LDA $0F
	PHA
	TXA
	DEC
	PHA
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	PLY
	STY $02
	CLC
	ADC $02
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	LDY #.SIZEOF(item)
	JSL MULT168
	PLY
	STY $02
	CLC
	ADC $02
	CLC
	ADC #item::strength
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:ITEM_CONFIGURATION_TABLE,X
	REP #PROC_FLAGS::ACCUM8
	SEC
	AND #$00FF
	SBC #$0080
	EOR #$FF80
	STA $04
	LDY $11
	TYA
	CLC
	ADC $04
	TAY
	STY $11
@UNKNOWN5:
	LDY $11
	STY $04
	LDA #$0000
	CLC
	SBC $04
	BVC @UNKNOWN6
	BPL @UNKNOWN8
	BRA @UNKNOWN7
@UNKNOWN6:
	BMI @UNKNOWN8
@UNKNOWN7:
	LDA #$0000
	BRA @UNKNOWN12
@UNKNOWN8:
	TYA
	CLC
	SBC #$00FF
	BVC @UNKNOWN9
	BPL @UNKNOWN11
	BRA @UNKNOWN10
@UNKNOWN9:
	BMI @UNKNOWN11
@UNKNOWN10:
	LDA #$00FF
	BRA @UNKNOWN12
@UNKNOWN11:
	TYA
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
@UNKNOWN12:
	SEP #PROC_FLAGS::ACCUM8
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	LDA $13
	STA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	STA .LOWORD(CHAR_STRUCT)+char_struct::defense,X
	PLD
	RTL

RECALC_CHARACTER_POSTMATH_SPEED: ;$C21AEB
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEB
	TCD
	PLA
	TAX
	DEC
	STA $02
	STA $13
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::base_speed,X
	AND #$00FF
	TAY
	STY $11
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::BODY,X
	AND #$00FF
	BEQ @UNKNOWN0
	DEC
	STA $02
	TXA
	CLC
	ADC #.LOWORD(CHAR_STRUCT) + char_struct::items
	CLC
	ADC $02
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC #item::ep
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:ITEM_CONFIGURATION_TABLE,X
	REP #PROC_FLAGS::ACCUM8
	SEC
	AND #$00FF
	SBC #$0080
	EOR #$FF80
	STA $04
	LDY $11
	TYA
	CLC
	ADC $04
	TAY
	STY $11
@UNKNOWN0:
	LDA $13
	STA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::boosted_speed,X
	AND #$00FF
	STA $04
	LDY $11
	TYA
	CLC
	ADC $04
	STA $0F
	STA $04
	LDA #$0000
	CLC
	SBC $04
	BVC @UNKNOWN1
	BPL @UNKNOWN3
	BRA @UNKNOWN2
@UNKNOWN1:
	BMI @UNKNOWN3
@UNKNOWN2:
	LDX #$0000
	BRA @UNKNOWN4
@UNKNOWN3:
	LDA $0F
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	TAX
@UNKNOWN4:
	TXA
	SEP #PROC_FLAGS::ACCUM8
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	STA .LOWORD(CHAR_STRUCT)+char_struct::speed,X
	PLD
	RTL

RECALC_CHARACTER_POSTMATH_GUTS: ;$C21BA4
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEB
	TCD
	PLA
	TAX
	DEC
	STA $02
	STA $13
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::base_guts,X
	AND #$00FF
	TAY
	STY $11
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::WEAPON,X
	AND #$00FF
	BEQ @UNKNOWN0
	DEC
	STA $02
	TXA
	CLC
	ADC #.LOWORD(CHAR_STRUCT) + char_struct::items
	CLC
	ADC $02
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC #item::ep
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:ITEM_CONFIGURATION_TABLE,X
	REP #PROC_FLAGS::ACCUM8
	SEC
	AND #$00FF
	SBC #$0080
	EOR #$FF80
	STA $04
	LDY $11
	TYA
	CLC
	ADC $04
	TAY
	STY $11
@UNKNOWN0:
	LDA $13
	STA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::boosted_guts,X
	AND #$00FF
	STA $04
	LDY $11
	TYA
	CLC
	ADC $04
	STA $0F
	STA $04
	LDA #$0000
	CLC
	SBC $04
	BVC @UNKNOWN1
	BPL @UNKNOWN3
	BRA @UNKNOWN2
@UNKNOWN1:
	BMI @UNKNOWN3
@UNKNOWN2:
	LDX #$0000
	BRA @UNKNOWN4
@UNKNOWN3:
	LDA $0F
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	TAX
@UNKNOWN4:
	TXA
	SEP #PROC_FLAGS::ACCUM8
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	STA .LOWORD(CHAR_STRUCT)+char_struct::guts,X
	PLD
	RTL

RECALC_CHARACTER_POSTMATH_LUCK: ;$C21C5D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEB
	TCD
	PLA
	TAX
	DEC
	STA $02
	STA $13
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::base_luck,X
	AND #$00FF
	TAY
	STY $11
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::ARMS,X
	AND #$00FF
	BEQ @UNKNOWN0
	DEC
	STA $02
	TXA
	CLC
	ADC #.LOWORD(CHAR_STRUCT) + char_struct::items
	CLC
	ADC $02
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC #item::ep
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:ITEM_CONFIGURATION_TABLE,X
	REP #PROC_FLAGS::ACCUM8
	SEC
	AND #$00FF
	SBC #$0080
	EOR #$FF80
	STA $04
	LDY $11
	TYA
	CLC
	ADC $04
	TAY
	STY $11
@UNKNOWN0:
	LDA $13
	STA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::OTHER,X
	AND #$00FF
	BEQ @UNKNOWN1
	DEC
	STA $02
	TXA
	CLC
	ADC #.LOWORD(CHAR_STRUCT) + char_struct::items
	CLC
	ADC $02
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC #item::ep
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:ITEM_CONFIGURATION_TABLE,X
	REP #PROC_FLAGS::ACCUM8
	SEC
	AND #$00FF
	SBC #$0080
	EOR #$FF80
	STA $04
	LDY $11
	TYA
	CLC
	ADC $04
	TAY
	STY $11
@UNKNOWN1:
	LDA $13
	STA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::boosted_luck,X
	AND #$00FF
	STA $04
	LDY $11
	TYA
	CLC
	ADC $04
	STA $0F
	STA $04
	LDA #$0000
	CLC
	SBC $04
	BVC @UNKNOWN2
	BPL @UNKNOWN4
	BRA @UNKNOWN3
@UNKNOWN2:
	BMI @UNKNOWN4
@UNKNOWN3:
	LDX #$0000
	BRA @UNKNOWN5
@UNKNOWN4:
	LDA $0F
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	TAX
@UNKNOWN5:
	TXA
	SEP #PROC_FLAGS::ACCUM8
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	LDA $02
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	STA .LOWORD(CHAR_STRUCT)+char_struct::luck,X
	PLD
	RTL

RECALC_CHARACTER_POSTMATH_VITALITY: ;$C21D65
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CHAR_STRUCT)+char_struct::base_vitality,X
	CLC
	ADC .LOWORD(CHAR_STRUCT)+char_struct::boosted_vitality,X
	STA .LOWORD(CHAR_STRUCT)+char_struct::vitality,X
	RTL

RECALC_CHARACTER_POSTMATH_IQ: ;$C21D7D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CHAR_STRUCT)+char_struct::base_iq,X
	CLC
	ADC .LOWORD(CHAR_STRUCT)+char_struct::boosted_iq,X
	STA .LOWORD(CHAR_STRUCT)+char_struct::iq,X
	RTL

.INCLUDE "battle/recalc_character_miss_rate.asm"

.INCLUDE "battle/calc_resistances.asm"

INCREASE_WALLET_BALANCE: ;$C22214
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF2
	TCD
	LDA $1C
	STA $06
	LDA $1E
	STA $08
	LDA .LOWORD(GAME_STATE)+game_state::money_carried
	STA $0A
	LDA .LOWORD(GAME_STATE)+game_state::money_carried+2
	STA $0C
	CLC
	LDA $0A
	ADC $06
	STA $0A
	LDA $0C
	ADC $08
	STA $0C
	LDA #$869F
	STA $06
	LDA #$0001
	STA $08
	CLC
	LDA $0A
	SBC $06
	LDA $0C
	SBC $08
	BVS @UNKNOWN0
	BPL @UNKNOWN2
	BRA @UNKNOWN1
@UNKNOWN0:
	BMI @UNKNOWN2
@UNKNOWN1:
	LDA $0A
	STA $06
	LDA $0C
	STA $08
@UNKNOWN2:
	LDA $06
	STA .LOWORD(GAME_STATE)+game_state::money_carried
	LDA $08
	STA .LOWORD(GAME_STATE)+game_state::money_carried+2
	LDA $06
	STA $14
	LDA $08
	STA $16
	PLD
	RTL

DECREASE_WALLET_BALANCE: ;$C22272
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF2
	TCD
	LDA $1C
	STA $06
	LDA $1E
	STA $08
	LDY #.LOWORD(GAME_STATE)+game_state::money_carried
	LDA $06
	STA $0A
	LDA $08
	STA $0C
	LDA a:.LOWORD(RAM),Y
	STA $06
	LDA a:.LOWORD(RAM)+2,Y
	STA $08
	SEC
	LDA $06
	SBC $0A
	STA $06
	LDA $08
	SBC $0C
	STA $08
	LDA #$0000
	STA $0A
	LDA #$0000
	STA $0C
	CLC
	LDA $0A
	SBC $06
	LDA $0C
	SBC $08
	BVC @UNKNOWN0
	BPL @UNKNOWN2
	BRA @UNKNOWN1
@UNKNOWN0:
	BMI @UNKNOWN2
@UNKNOWN1:
	LDA #$0001
	BRA @UNKNOWN3
@UNKNOWN2:
	LDA $06
	STA a:.LOWORD(RAM),Y
	LDA $08
	STA a:.LOWORD(RAM)+2,Y
	LDA #$0000
@UNKNOWN3:
	PLD
	RTL

UNKNOWN_C222D3: ;$C222D3
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STA $0E
	CMP #$0004
	BCC @UNKNOWN1
	BEQ @UNKNOWN1
	CMP #$0007
	BNE @UNKNOWN0
	LDA #.LOWORD(GAME_STATE)+game_state::pet_name
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $16
	LDA $08
	STA $18
	BRA @UNKNOWN2
@UNKNOWN0:
	LOADPTR ENEMY_CONFIGURATION_TABLE, $06
	LDA $0E
	ASL
	TAX
	INX
	LDA f:NPC_AI_TABLE,X
	AND #$00FF
	LDY #.SIZEOF(enemy_data)
	JSL MULT168
	INC
	CLC
	ADC $06
	STA $06
	STA $16
	LDA $08
	STA $18
	BRA @UNKNOWN2
@UNKNOWN1:
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $16
	LDA $08
	STA $18
@UNKNOWN2:
	PLD
	RTL

UNKNOWN_C22351: ;$C22351
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	TAX
	DEX
	STX $10
	LDA #$0000
	STA $0E
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA $0E
	INC
	STA $0E
@UNKNOWN1:
	STA $02
	LDA #$000E
	CLC
	SBC $02
	BVC @UNKNOWN2
	BPL @UNKNOWN4
	BRA @UNKNOWN3
@UNKNOWN2:
	BMI @UNKNOWN4
@UNKNOWN3:
	LDA $0E
	STA $02
	LDX $10
	TXA
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	CLC
	ADC $02
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	BNE @UNKNOWN0
@UNKNOWN4:
	LDA $0E
	PLD
	RTL

UNKNOWN_C2239D: ;$C2239D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STA $0E
	LDX #$0000
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA $0E
	STA $02
	LDA .LOWORD(GAME_STATE)+122,X
	AND #$00FF
	CMP $02
	BNE @UNKNOWN1
	LDA $0E
	BRA @UNKNOWN5
@UNKNOWN1:
	INX
@UNKNOWN2:
	STX $02
	LDA .LOWORD(GAME_STATE)+game_state::party_count
	AND #$00FF
	CLC
	SBC $02
	BVS @UNKNOWN3
	BPL @UNKNOWN0
	BRA @UNKNOWN4
@UNKNOWN3:
	BMI @UNKNOWN0
@UNKNOWN4:
	LDA #$0000
@UNKNOWN5:
	PLD
	RTL

UNKNOWN_C223D9: ;$C223D9
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STX $02
	TAY
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	BEQ @UNKNOWN0
	LDA #$0000
	STA $0E
	BRA @UNKNOWN5
@UNKNOWN0:
	TYX
	INX
	INX
	INX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	BEQ @UNKNOWN1
	TXY
	LDA #$0003
	STA $0E
	BRA @UNKNOWN5
@UNKNOWN1:
	INY
	LDA #$0001
	STA $0E
	BRA @UNKNOWN3
@UNKNOWN2:
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	BNE @UNKNOWN5
	LDA $0E
	INC
	STA $0E
	INY
@UNKNOWN3:
	CMP #$0007
	BCC @UNKNOWN2
	LDA $02
	BEQ @UNKNOWN4
	LDA #$0007
	BRA @UNKNOWN7
@UNKNOWN4:
	LDA #$0020
	BRA @UNKNOWN7
@UNKNOWN5:
	LDA $02
	BEQ @UNKNOWN6
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	DEC
	ASL
	STA $02
	LDA $0E
	OPTIMIZED_MULT $04, 14
	CLC
	ADC $02
	TAX
	LDA f:STATUS_EQUIP_WINDOW_TEXT,X
	BRA @UNKNOWN7
@UNKNOWN6:
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	DEC
	ASL
	STA $02
	LDA $0E
	OPTIMIZED_MULT $04, 14
	CLC
	ADC $02
	TAX
	LDA f:STATUS_EQUIP_WINDOW_TEXT_2,X
@UNKNOWN7:
	PLD
	RTL

UNKNOWN_C22474: ;$C22474
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TAY
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	BEQ @UNKNOWN0
	LDA #$0000
	STA $0E
	BRA @UNKNOWN4
@UNKNOWN0:
	TYX
	INX
	INX
	INX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	BEQ @UNKNOWN1
	TXY
	LDA #$0003
	STA $0E
	BRA @UNKNOWN4
@UNKNOWN1:
	INY
	LDA #$0001
	STA $0E
	BRA @UNKNOWN3
@UNKNOWN2:
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	BNE @UNKNOWN4
	LDA $0E
	INC
	STA $0E
	INY
@UNKNOWN3:
	CMP #$0007
	BCC @UNKNOWN2
	LDA #$0004
	BRA @UNKNOWN5
@UNKNOWN4:
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	DEC
	ASL
	STA $02
	LDA $0E
	OPTIMIZED_MULT $04, 14
	CLC
	ADC $02
	TAX
	LDA f:STATUS_EQUIP_WINDOW_TEXT_3,X
@UNKNOWN5:
	PLD
	RTL

.INCLUDE "inventory/get_item_subtype.asm"

.INCLUDE "inventory/get_item_subtype2.asm"

UNKNOWN_C22562: ;$C22562
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TAX
	CPX #$FFFF
	BNE @UNKNOWN0
	LDX #$0000
@UNKNOWN0:
	TXA
	SEP #PROC_FLAGS::ACCUM8
	STA .LOWORD(UNKNOWN_7E9CD0)
	REP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(UNKNOWN_7E9CD6)
	AND #$00FF
	STA $0E
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::BODY,X
	STA .LOWORD(UNKNOWN_7E9CD1)
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::ARMS,X
	STA .LOWORD(UNKNOWN_7E9CD2)
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::OTHER,X
	STA .LOWORD(UNKNOWN_7E9CD3)
	REP #PROC_FLAGS::ACCUM8
	LDA $0E
	JSL UNKNOWN_C1A1D8
	PLD
	RTL

UNKNOWN_C225AC: ;$C225AC
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TAX
	STX $0E
	LDA .LOWORD(UNKNOWN_7E9CD6)
	AND #$00FF
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::WEAPON,X
	STA .LOWORD(UNKNOWN_7E9CD0)
	LDX $0E
	CPX #$FFFF
	BNE @UNKNOWN0
	LDX #$0000
@UNKNOWN0:
	REP #PROC_FLAGS::ACCUM8
	TXA
	SEP #PROC_FLAGS::ACCUM8
	STA .LOWORD(UNKNOWN_7E9CD1)
	REP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(UNKNOWN_7E9CD6)
	AND #$00FF
	STA $0E
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::ARMS,X
	STA .LOWORD(UNKNOWN_7E9CD2)
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::OTHER,X
	STA .LOWORD(UNKNOWN_7E9CD3)
	REP #PROC_FLAGS::ACCUM8
	LDA $0E
	JSL UNKNOWN_C1A1D8
	PLD
	RTL

UNKNOWN_C2260D: ;$C2260D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	STA $10
	LDA .LOWORD(UNKNOWN_7E9CD6)
	AND #$00FF
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::WEAPON,X
	STA .LOWORD(UNKNOWN_7E9CD0)
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::BODY,X
	STA .LOWORD(UNKNOWN_7E9CD1)
	REP #PROC_FLAGS::ACCUM8
	LDA $10
	CMP #$FFFF
	BNE @UNKNOWN0
	LDX #$0000
	BRA @UNKNOWN1
@UNKNOWN0:
	TAX
@UNKNOWN1:
	TXA
	SEP #PROC_FLAGS::ACCUM8
	STA .LOWORD(UNKNOWN_7E9CD2)
	REP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(UNKNOWN_7E9CD6)
	AND #$00FF
	TAX
	STX $0E
	TXA
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::OTHER,X
	STA .LOWORD(UNKNOWN_7E9CD3)
	LDX $0E
	REP #PROC_FLAGS::ACCUM8
	TXA
	JSL UNKNOWN_C1A1D8
	PLD
	RTL

UNKNOWN_C22673: ;$C22673
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STA $0E
	LDA .LOWORD(UNKNOWN_7E9CD6)
	AND #$00FF
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::WEAPON,X
	STA .LOWORD(UNKNOWN_7E9CD0)
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::BODY,X
	STA .LOWORD(UNKNOWN_7E9CD1)
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::ARMS,X
	STA .LOWORD(UNKNOWN_7E9CD2)
	REP #PROC_FLAGS::ACCUM8
	LDA $0E
	CMP #$FFFF
	BNE @UNKNOWN0
	LDX #$0000
	BRA @UNKNOWN1
@UNKNOWN0:
	TAX
@UNKNOWN1:
	TXA
	SEP #PROC_FLAGS::ACCUM8
	STA .LOWORD(UNKNOWN_7E9CD3)
	REP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(UNKNOWN_7E9CD6)
	AND #$00FF
	JSL UNKNOWN_C1A1D8
	PLD
	RTL

UNKNOWN_C226C5: ;$C226C5
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TAX
	LDA .LOWORD(CURRENT_INTERACTING_EVENT_FLAG)
	JSL SET_EVENT_FLAG
	TAX
	STX $0E
	LDA .LOWORD(UNKNOWN_7E5D64)
	JSL UNKNOWN_C0C30C
	LDX $0E
	TXA
	PLD
	RTL

UNKNOWN_C226E6: ;$C226E6
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA .LOWORD(CURRENT_INTERACTING_EVENT_FLAG)
	JSL GET_EVENT_FLAG
	RTL

UNKNOWN_C226F0: ;$C226F0
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDA #$0000
	STA $0E
	BRA @UNKNOWN1
@UNKNOWN0:
	INC
	STA $0E
@UNKNOWN1:
	TAX
	LDA .LOWORD(GAME_STATE)+150,X
	AND #$00FF
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::afflictions,X
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN2
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	STA $02
	LDA $0E
	CMP $02
	BCC @UNKNOWN0
@UNKNOWN2:
	LDA $0E
	PLD
	RTL

UNKNOWN_C2272F: ;$C2272F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA #$0000
	STA $10
	TAY
	STY $0E
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA .LOWORD(GAME_STATE)+150,Y
	AND #$00FF
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::afflictions,X
	AND #$00FF
	TAX
	CPX #$0001
	BEQ @UNKNOWN1
	CPX #$0002
	BEQ @UNKNOWN1
	LDA $10
	INC
	STA $10
@UNKNOWN1:
	LDY $0E
	INY
	STY $0E
@UNKNOWN2:
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	STA $02
	TYA
	CMP $02
	BCC @UNKNOWN0
	LDA $10
	PLD
	RTL

UNKNOWN_C2277C: ;$C2277C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDY #$0000
	STY $10
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA .LOWORD(GAME_STATE)+150,Y
	AND #$00FF
	STA $0E
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::afflictions,X
	AND #$00FF
	TAX
	CPX #$0001
	BEQ @UNKNOWN1
	CPX #$0002
	BEQ @UNKNOWN1
	LDA $0E
	BRA @UNKNOWN3
@UNKNOWN1:
	LDY $10
	INY
	STY $10
@UNKNOWN2:
	LDA .LOWORD(GAME_STATE)+game_state::player_controlled_party_count
	AND #$00FF
	STA $02
	TYA
	CMP $02
	BCC @UNKNOWN0
	LDA #$0000
@UNKNOWN3:
	PLD
	RTL

LEARN_SPECIAL_PSI: ;$C227C8
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	CMP #$0001
	BEQ @LEARN_TELEPORT_ALPHA
	CMP #$0002
	BEQ @LEARN_TELEPORT_BETA
	CMP #$0003
	BEQ @LEARN_STARSTORM_ALPHA
	CMP #$0004
	BEQ @LEARN_STARSTORM_BETA
	BRA @RETURN
@LEARN_TELEPORT_ALPHA:
	LDX #.LOWORD(GAME_STATE) + game_state::party_psi
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	ORA #PARTY_PSI_FLAGS::TELEPORT_ALPHA
	STA a:.LOWORD(RAM),X
	BRA @RETURN
@LEARN_TELEPORT_BETA:
	LDX #.LOWORD(GAME_STATE) + game_state::party_psi
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	ORA #PARTY_PSI_FLAGS::TELEPORT_BETA
	STA a:.LOWORD(RAM),X
	BRA @RETURN
@LEARN_STARSTORM_ALPHA:
	LDX #.LOWORD(GAME_STATE) + game_state::party_psi
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	ORA #PARTY_PSI_FLAGS::STARSTORM_ALPHA
	STA a:.LOWORD(RAM),X
	BRA @RETURN
@LEARN_STARSTORM_BETA:
	LDX #.LOWORD(GAME_STATE) + game_state::party_psi
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	ORA #PARTY_PSI_FLAGS::STARSTORM_BETA
	STA a:.LOWORD(RAM),X
@RETURN:
	REP #PROC_FLAGS::ACCUM8
	RTL

DEPOSIT_INTO_ATM: ;$C2281D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA $20
	STA $06
	LDA $22
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $0E
	STA $06
	LDA $10
	STA $08
	LDA .LOWORD(GAME_STATE)+game_state::bank_balance
	STA $0A
	LDA .LOWORD(GAME_STATE)+game_state::bank_balance+2
	STA $0C
	CLC
	LDA $0A
	ADC $06
	STA $0A
	LDA $0C
	ADC $08
	STA $0C
	LDA #.LOWORD(ATM_ACCOUNT_LIMIT)
	STA $06
	LDA #.HIWORD(ATM_ACCOUNT_LIMIT)
	STA $08
	CLC
	LDA $0A
	SBC $06
	LDA $0C
	SBC $08
	BVS @UNKNOWN0
	BPL @UNKNOWN2
	BRA @UNKNOWN1
@UNKNOWN0:
	BMI @UNKNOWN2
@UNKNOWN1:
	LDA $0A
	STA $06
	LDA $0C
	STA $08
@UNKNOWN2:
	LDA $06
	STA .LOWORD(GAME_STATE)+game_state::bank_balance
	LDA $08
	STA .LOWORD(GAME_STATE)+game_state::bank_balance+2
	LDA .LOWORD(GAME_STATE)+game_state::bank_balance
	STA $06
	LDA .LOWORD(GAME_STATE)+game_state::bank_balance+2
	STA $08
	SEC
	LDA $0A
	SBC $06
	STA $0A
	LDA $0C
	SBC $08
	STA $0C
	LDA $0E
	STA $06
	LDA $10
	STA $08
	SEC
	LDA $06
	SBC $0A
	STA $06
	LDA $08
	SBC $0C
	STA $08
	LDA $06
	STA $18
	LDA $08
	STA $1A
	PLD
	RTL

WITHDRAW_FROM_ATM: ;$C228B7
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF2
	TCD
	LDA $1C
	STA $0A
	LDA $1E
	STA $0C
	LDY #.LOWORD(GAME_STATE) + game_state::bank_balance
	LDA a:.LOWORD(RAM),Y
	STA $06
	LDA a:.LOWORD(RAM)+2,Y
	STA $08
	CLC
	LDA $0A
	SBC $06
	LDA $0C
	SBC $08
	BCS WITHDRAW_FROM_ATM_INSUFFICIENT_FUNDS
	SEC
	LDA $06
	SBC $0A
	STA $06
	LDA $08
	SBC $0C
	STA $08
	LDA $06
	STA a:.LOWORD(RAM),Y
	LDA $08
	STA a:.LOWORD(RAM)+2,Y
WITHDRAW_FROM_ATM_INSUFFICIENT_FUNDS:
	PLD
	RTL

ADD_CHAR_TO_PARTY: ;$C228F8
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STA $04
	LDA #$0000
	STA $02
	STA $0E
	JMP a:.LOWORD(@UNKNOWN14)
@UNKNOWN0:
	LDX $02
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(GAME_STATE)+122,X
	STA $00
	REP #PROC_FLAGS::ACCUM8
	LDA $00
	AND #$00FF
	CMP $04
	BNE @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN16)
@UNKNOWN1:
	CMP $04
	BEQ @UNKNOWN2
	BCS @UNKNOWN3
@UNKNOWN2:
	LDA $00
	AND #$00FF
	BNE @UNKNOWN13
@UNKNOWN3:
	LDY $02
	BRA @UNKNOWN7
@UNKNOWN4:
	STY $02
	LDA #$0006
	CLC
	SBC $02
	BVC @UNKNOWN5
	BPL @UNKNOWN16
	BRA @UNKNOWN6
@UNKNOWN5:
	BMI @UNKNOWN16
@UNKNOWN6:
	INY
@UNKNOWN7:
	LDA .LOWORD(GAME_STATE)+122,Y
	AND #$00FF
	BNE @UNKNOWN4
	BRA @UNKNOWN9
@UNKNOWN8:
	TYX
	DEX
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(GAME_STATE)+122,X
	STA .LOWORD(GAME_STATE)+122,Y
	TXY
@UNKNOWN9:
	REP #PROC_FLAGS::ACCUM8
	LDA $0E
	STA $02
	TYA
	CLC
	SBC $02
	BVS @UNKNOWN10
	BPL @UNKNOWN8
	BRA @UNKNOWN11
@UNKNOWN10:
	BMI @UNKNOWN8
@UNKNOWN11:
	LDA $04
	SEP #PROC_FLAGS::ACCUM8
	LDX $02
	STA .LOWORD(GAME_STATE)+122,X
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	JSL UNKNOWN_C0369B
	ASL
	CLC
	ADC #$10B6
	TAX
	LDA a:.LOWORD(RAM),X
	ORA #$C000
	STA a:.LOWORD(RAM),X
	LDA $04
	CMP #$0004
	BEQ @UNKNOWN12
	BCS @UNKNOWN16
@UNKNOWN12:
	JSL UNKNOWN_C216DB
	JSL UNKNOWN_C3EBCA
	BRA @UNKNOWN16
@UNKNOWN13:
	INC $02
	LDA $02
	STA $0E
@UNKNOWN14:
	LDA #$0006
	CLC
	SBC $02
	BVS @UNKNOWN15
	BMI @UNKNOWN16
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN15:
	BPL @UNKNOWN16
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN16:
	PLD
	RTL

REMOVE_CHAR_FROM_PARTY: ;$C229BB
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TAY
	STY $0E
	LDX #$0000
	BRA @UNKNOWN7
@UNKNOWN0:
	STY $02
	LDA .LOWORD(GAME_STATE)+122,X
	AND #$00FF
	CMP $02
	BNE @UNKNOWN6
	BRA @UNKNOWN2
@UNKNOWN1:
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(GAME_STATE)+123,X
	STA .LOWORD(GAME_STATE)+122,X
	INX
@UNKNOWN2:
	STX $02
	REP #PROC_FLAGS::ACCUM8
	LDA #$0006
	CLC
	SBC $02
	BVS @UNKNOWN3
	BPL @UNKNOWN1
	BRA @UNKNOWN4
@UNKNOWN3:
	BMI @UNKNOWN1
@UNKNOWN4:
	DEX
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(GAME_STATE)+122,X
	REP #PROC_FLAGS::ACCUM8
	TYA
	JSL UNKNOWN_C03903
	LDY $0E
	CPY #$0004
	BEQ @UNKNOWN5
	BCS @UNKNOWN9
@UNKNOWN5:
	JSL UNKNOWN_C216DB
	JSL UNKNOWN_C3EBCA
	BRA @UNKNOWN9
@UNKNOWN6:
	INX
@UNKNOWN7:
	STX $02
	LDA .LOWORD(GAME_STATE)+game_state::party_count
	AND #$00FF
	CLC
	SBC $02
	BVS @UNKNOWN8
	BPL @UNKNOWN0
	BRA @UNKNOWN9
@UNKNOWN8:
	BMI @UNKNOWN0
@UNKNOWN9:
	PLD
	RTL

SAVE_CURRENT_GAME: ;$C22A2C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA .LOWORD(CURRENT_SAVE_SLOT)
	AND #$00FF
	DEC
	JSL SAVE_GAME_SLOT
	RTL

UNKNOWN_C22A3A: ;$C22A3A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE3
	TCD
	PLA
	STY $1B
	STA $02
	STA $19
	TXA
	DEC
	STA $04
	TYA
	DEC
	STA $02
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	CLC
	ADC $02
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	TAX
	STX $17
	LDY $1B
	TYA
	STA $15
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA $15
	TAY
	DEY
	SEP #PROC_FLAGS::ACCUM8
	LDA $00
	STA ($13),Y
	REP #PROC_FLAGS::ACCUM8
	LDA $15
	INC
	STA $15
@UNKNOWN1:
	CMP #$000E
	BCS @UNKNOWN2
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	STA $13
	LDA $15
	TAY
	SEP #PROC_FLAGS::ACCUM8
	LDA ($13),Y
	STA $00
	REP #PROC_FLAGS::ACCUM8
	LDA $00
	AND #$00FF
	BNE @UNKNOWN0
@UNKNOWN2:
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	STA $11
	LDA $15
	DEC
	STA $02
	LDA $11
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	CLC
	ADC $02
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
	LDX $17
	REP #PROC_FLAGS::ACCUM8
	LDA $19
	STA $02
	JSL GIVE_ITEM_TO_CHARACTER
	LDA $04
	INC
	STA $13
	PHA
	LDA $02
	PLY
	STY $02
	CMP $02
	BEQ @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN28)
@UNKNOWN3:
	LDA $11
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::WEAPON
	STA $0F
	SEP #PROC_FLAGS::ACCUM8
	LDA ($0F)
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $17
	LDY $1B
	CPY $17
	BEQ @UNKNOWN4
	JMP a:.LOWORD(@UNKNOWN8)
@UNKNOWN4:
	LDA $19
	STA $02
	JSL UNKNOWN_C22351
	SEP #PROC_FLAGS::ACCUM8
	STA ($0F)
	REP #PROC_FLAGS::ACCUM8
	LDA $11
	CLC
	ADC #.LOWORD(CHAR_STRUCT) + char_struct::equipment + EQUIPMENT_SLOT::BODY
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCS @UNKNOWN5
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA a:.LOWORD(RAM),X
@UNKNOWN5:
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::ARMS
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCS @UNKNOWN6
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA a:.LOWORD(RAM),X
@UNKNOWN6:
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::OTHER
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCC @UNKNOWN7
	JMP a:.LOWORD(@UNKNOWN36)
@UNKNOWN7:
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA a:.LOWORD(RAM),X
	JMP a:.LOWORD(@UNKNOWN36)
@UNKNOWN8:
	.A16
	LDA $11
	CLC
	ADC #.LOWORD(CHAR_STRUCT) + char_struct::equipment + EQUIPMENT_SLOT::BODY
	TAX
	STX $13
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	STA $02
	TYA
	CMP $02
	BEQ @UNKNOWN9
	JMP a:.LOWORD(@UNKNOWN13)
@UNKNOWN9:
	LDA $19
	STA $02
	JSL UNKNOWN_C22351
	SEP #PROC_FLAGS::ACCUM8
	LDX $13
	STA a:.LOWORD(RAM),X
	LDA ($0F)
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCS @UNKNOWN10
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA ($0F)
@UNKNOWN10:
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::ARMS
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCS @UNKNOWN11
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA a:.LOWORD(RAM),X
@UNKNOWN11:
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::OTHER
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCC @UNKNOWN12
	JMP a:.LOWORD(@UNKNOWN36)
@UNKNOWN12:
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA a:.LOWORD(RAM),X
	JMP a:.LOWORD(@UNKNOWN36)
@UNKNOWN13:
	.A16
	LDA $11
	CLC
	ADC #.LOWORD(CHAR_STRUCT) + char_struct::equipment + EQUIPMENT_SLOT::ARMS
	TAX
	STX $13
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	STA $02
	TYA
	CMP $02
	BEQ @UNKNOWN14
	JMP a:.LOWORD(@UNKNOWN18)
@UNKNOWN14:
	LDA $19
	STA $02
	JSL UNKNOWN_C22351
	SEP #PROC_FLAGS::ACCUM8
	LDX $13
	STA a:.LOWORD(RAM),X
	LDA ($0F)
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCS @UNKNOWN15
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA ($0F)
@UNKNOWN15:
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::BODY
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCS @UNKNOWN16
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA a:.LOWORD(RAM),X
@UNKNOWN16:
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::OTHER
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCC @UNKNOWN17
	JMP a:.LOWORD(@UNKNOWN36)
@UNKNOWN17:
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA a:.LOWORD(RAM),X
	JMP a:.LOWORD(@UNKNOWN36)
@UNKNOWN18:
	.A16
	LDA $11
	CLC
	ADC #.LOWORD(CHAR_STRUCT) + char_struct::equipment + EQUIPMENT_SLOT::OTHER
	TAX
	STX $13
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	STA $02
	TYA
	CMP $02
	BEQ @UNKNOWN19
	JMP a:.LOWORD(@UNKNOWN23)
@UNKNOWN19:
	LDA $19
	STA $02
	JSL UNKNOWN_C22351
	SEP #PROC_FLAGS::ACCUM8
	LDX $13
	STA a:.LOWORD(RAM),X
	LDA ($0F)
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCS @UNKNOWN20
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA ($0F)
@UNKNOWN20:
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::BODY
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCS @UNKNOWN21
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA a:.LOWORD(RAM),X
@UNKNOWN21:
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::ARMS
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCC @UNKNOWN22
	JMP a:.LOWORD(@UNKNOWN36)
@UNKNOWN22:
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA a:.LOWORD(RAM),X
	JMP a:.LOWORD(@UNKNOWN36)
@UNKNOWN23:
	CPY $17
	BCS @UNKNOWN24
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA ($0F)
@UNKNOWN24:
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::BODY
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCS @UNKNOWN25
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA a:.LOWORD(RAM),X
@UNKNOWN25:
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::ARMS
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCS @UNKNOWN26
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA a:.LOWORD(RAM),X
@UNKNOWN26:
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::OTHER
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCC @UNKNOWN27
	JMP a:.LOWORD(@UNKNOWN36)
@UNKNOWN27:
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA a:.LOWORD(RAM),X
	JMP a:.LOWORD(@UNKNOWN36)
@UNKNOWN28:
	.A16
	LDY #.LOWORD(CHAR_STRUCT) + char_struct::equipment + EQUIPMENT_SLOT::WEAPON
	LDA ($11),Y
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BNE @UNKNOWN29
	LDX #$0000
	LDA $13
	JSL CHANGE_EQUIPPED_WEAPON
	BRA @UNKNOWN32
@UNKNOWN29:
	.A16
	LDY #.LOWORD(CHAR_STRUCT) + char_struct::equipment + EQUIPMENT_SLOT::BODY
	LDA ($11),Y
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BNE @UNKNOWN30
	LDX #$0000
	LDA $13
	JSL CHANGE_EQUIPPED_BODY
	BRA @UNKNOWN32
@UNKNOWN30:
	LDY #.LOWORD(CHAR_STRUCT) + char_struct::equipment + EQUIPMENT_SLOT::ARMS
	LDA ($11),Y
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BNE @UNKNOWN31
	LDX #$0000
	LDA $13
	JSL CHANGE_EQUIPPED_ARMS
	BRA @UNKNOWN32
@UNKNOWN31:
	LDY #.LOWORD(CHAR_STRUCT) + char_struct::equipment + EQUIPMENT_SLOT::OTHER
	LDA ($11),Y
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BNE @UNKNOWN32
	LDX #$0000
	LDA $13
	JSL CHANGE_EQUIPPED_OTHER
@UNKNOWN32:
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	.A16
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::WEAPON
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCS @UNKNOWN33
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA a:.LOWORD(RAM),X
@UNKNOWN33:
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::BODY
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCS @UNKNOWN34
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA a:.LOWORD(RAM),X
@UNKNOWN34:
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::ARMS
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCS @UNKNOWN35
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA a:.LOWORD(RAM),X
@UNKNOWN35:
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::OTHER
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	LDY $1B
	TYA
	CMP $02
	BCS @UNKNOWN36
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	DEC
	STA a:.LOWORD(RAM),X
@UNKNOWN36:
	REP #PROC_FLAGS::ACCUM8
	PLD
	RTL

.INCLUDE "battle/init_scripted.asm"

UNKNOWN_C23008: ;$C23008
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDX #.LOWORD(GAME_STATE) + game_state::party_npc_1
	STX $0E
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA .LOWORD(GAME_STATE)+game_state::party_status
	REP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(GAME_STATE)+game_state::party_npc_1_hp
	STA .LOWORD(GAME_STATE)+78
	LDY #.LOWORD(GAME_STATE) + game_state::party_npc_2
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),Y
	STA .LOWORD(GAME_STATE)+77
	REP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(GAME_STATE)+game_state::party_npc_2_hp
	STA .LOWORD(GAME_STATE)+80
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	JSL REMOVE_CHAR_FROM_PARTY
	LDX $0E
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	JSL REMOVE_CHAR_FROM_PARTY
	LDY #.LOWORD(GAME_STATE) + game_state::money_carried
	LDA a:.LOWORD(RAM),Y
	STA $06
	LDA a:.LOWORD(RAM)+2,Y
	STA $08
	LDA $06
	STA .LOWORD(GAME_STATE)+game_state::wallet_backup
	LDA $08
	STA .LOWORD(GAME_STATE)+game_state::wallet_backup+2
	LDA #$0000
	STA $06
	LDA #$0000
	STA $08
	LDA $06
	STA a:.LOWORD(RAM),Y
	LDA $08
	STA a:.LOWORD(RAM)+2,Y
	PLD
	RTL

UNKNOWN_C2307B: ;$C2307B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDX #.LOWORD(GAME_STATE) + game_state::party_npc_1
	STX $10
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	JSL REMOVE_CHAR_FROM_PARTY
	LDY #.LOWORD(GAME_STATE) + game_state::party_npc_2
	STY $0E
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	JSL REMOVE_CHAR_FROM_PARTY
	LDA .LOWORD(GAME_STATE)+game_state::party_status
	AND #$00FF
	BEQ @UNKNOWN0
	LDX $10
	SEP #PROC_FLAGS::ACCUM8
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	JSL ADD_CHAR_TO_PARTY
	LDA .LOWORD(GAME_STATE)+78
	STA .LOWORD(GAME_STATE)+game_state::party_npc_1_hp
	LDA .LOWORD(GAME_STATE)+77
	AND #$00FF
	BEQ @UNKNOWN0
	LDY $0E
	SEP #PROC_FLAGS::ACCUM8
	STA a:.LOWORD(RAM),Y
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	JSL ADD_CHAR_TO_PARTY
	LDA .LOWORD(GAME_STATE)+80
	STA .LOWORD(GAME_STATE)+game_state::party_npc_2_hp
@UNKNOWN0:
	LDA .LOWORD(GAME_STATE)+game_state::wallet_backup
	STA $06
	LDA .LOWORD(GAME_STATE)+game_state::wallet_backup+2
	STA $08
	LDA $06
	STA .LOWORD(GAME_STATE)+game_state::money_carried
	LDA $08
	STA .LOWORD(GAME_STATE)+game_state::money_carried+2
	PLD
	RTL

SET_TELEPORT_BOX_DESTINATION: ;$C230F3
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	SEP #PROC_FLAGS::ACCUM8
	STA .LOWORD(GAME_STATE)+195
	REP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(GAME_STATE)+game_state::leader_x_coord
	STA .LOWORD(RESPAWN_X)
	LDA .LOWORD(GAME_STATE)+game_state::leader_y_coord
	STA .LOWORD(RESPAWN_Y)
	RTL

.INCLUDE "data/battle/consolation_item_table.asm"

.INCLUDE "battle/menu_handler.asm"

COPY_ENEMY_NAME: ;$C23B66
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF1
	TCD
	PLA
	STX $02
	TAY
	LDA $1D
	STA $06
	LDA $1F
	STA $08
	BRA @UNKNOWN5
@UNKNOWN0:
	LDA [$06]
	AND #$00FF
	TAX
	BEQ @UNKNOWN6
	CPX #$00AC
	BNE @UNKNOWN3
	LDX #$0000
	BRA @UNKNOWN2
@UNKNOWN1:
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CHAR_STRUCT)+char_struct::name,X
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	BEQ @UNKNOWN4
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	STA a:.LOWORD(RAM),Y
	INY
	INX
@UNKNOWN2:
	CPX #$0005
	BCC @UNKNOWN1
	BRA @UNKNOWN4
@UNKNOWN3:
	SEP #PROC_FLAGS::ACCUM8
	STA a:.LOWORD(RAM),Y
	INY
@UNKNOWN4:
	REP #PROC_FLAGS::ACCUM8
	INC $06
@UNKNOWN5:
	LDX $02
	LDA $02
	DEC
	STA $02
	CPX #$0000
	BNE @UNKNOWN0
@UNKNOWN6:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),Y
	REP #PROC_FLAGS::ACCUM8
	TYA
	PLD
	RTS

FIX_ATTACKER_NAME: ;$C23BCF
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE8
	TCD
	PLA
	TAY
	STY $16
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(UNKNOWN_7E5E77)
	STZ $0E
	LDX #$001C
	REP #PROC_FLAGS::ACCUM8
	LDA #$A983
	JSL MEMSET16
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:battler::ally_or_enemy,X
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN0
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:battler::npc_id,X
	AND #$00FF
	BNE @UNKNOWN0
	JMP a:.LOWORD(@UNKNOWN4)
@UNKNOWN0:
	LOADPTR ENEMY_CONFIGURATION_TABLE, $06
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM),X
	LDY #.SIZEOF(enemy_data)
	JSL MULT168
	INC
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0019
	LDA #$A983
	JSR a:.LOWORD(COPY_ENEMY_NAME)
	TAX
	STX $14
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:battler::ally_or_enemy,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN2
	LDY $16
	BNE @UNKNOWN2
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:battler::the_flag,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN1
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM)+76,X
	JSL UNKNOWN_C2B66A
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	CMP #$0002
	BEQ @UNKNOWN2
@UNKNOWN1:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0050
	LDX $14
	STA a:.LOWORD(RAM),X
	INX
	STX $16
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E5E77)
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:battler::the_flag,X
	CLC
	ADC #$0070
	LDX $16
	STA a:.LOWORD(RAM),X
@UNKNOWN2:
	LDX .LOWORD(CURRENT_ATTACKER)
	REP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	CMP #$00A0
	BNE @UNKNOWN3
	LDA #.LOWORD(GAME_STATE) + game_state::pet_name
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0006
	LDA #$A983
	JSL MEMCPY16
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(ATTACKER_NAME_ADJUST_SCRATCH)+6
@UNKNOWN3:
	LDX #$001B
	REP #PROC_FLAGS::ACCUM8
	LDA #$A983
	JSL REDIRECT_C1AC4A
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM),X
	STA .LOWORD(UNKNOWN_7E9658)
	BRA @UNKNOWN6
@UNKNOWN4:
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM),X
	CMP #$0004
	BEQ @UNKNOWN5
	BCS @UNKNOWN6
@UNKNOWN5:
	LDX #$0005
	STX $12
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM)+battler::row,X
	AND #$00FF
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)
	LDX $12
	JSL REDIRECT_C1AC4A
@UNKNOWN6:
	PLD
	RTL

FIX_TARGET_NAME: ;$C23D05
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEA
	TCD
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(UNKNOWN_7E5E78)
	STZ $0E
	LDX #$001B
	REP #PROC_FLAGS::ACCUM8
	LDA #$A99E
	JSL MEMSET16
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::ally_or_enemy,X
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN0
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::npc_id,X
	AND #$00FF
	BNE @UNKNOWN0
	JMP a:.LOWORD(@UNKNOWN4)
@UNKNOWN0:
	LOADPTR ENEMY_CONFIGURATION_TABLE, $06
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM),X
	LDY #.SIZEOF(enemy_data)
	JSL MULT168
	INC
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0019
	LDA #$A99E
	JSR a:.LOWORD(COPY_ENEMY_NAME)
	TAX
	STX $14
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::ally_or_enemy,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN2
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::the_flag,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN1
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+76,X
	JSL UNKNOWN_C2B66A
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	CMP #$0002
	BEQ @UNKNOWN2
@UNKNOWN1:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0050
	LDX $14
	STA a:.LOWORD(RAM),X
	INX
	STX $12
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E5E78)
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::the_flag,X
	CLC
	ADC #$0070
	LDX $12
	STA a:.LOWORD(RAM),X
@UNKNOWN2:
	LDX .LOWORD(CURRENT_TARGET)
	REP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	CMP #$00A0
	BNE @UNKNOWN3
	LDA #.LOWORD(GAME_STATE) + game_state::pet_name
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0006
	LDA #$A99E
	JSL MEMCPY16
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(TARGET_NAME_ADJUST_SCRATCH)+6
@UNKNOWN3:
	LDX #$001B
	REP #PROC_FLAGS::ACCUM8
	LDA #$A99E
	JSL REDIRECT_C1ACA1
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM),X
	STA .LOWORD(UNKNOWN_7E965A)
	BRA @UNKNOWN6
@UNKNOWN4:
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM),X
	CMP #$0004
	BEQ @UNKNOWN5
	BCS @UNKNOWN6
@UNKNOWN5:
	LDX #$0005
	STX $14
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+battler::row,X
	AND #$00FF
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)
	LDX $14
	JSL REDIRECT_C1ACA1
@UNKNOWN6:
	PLD
	RTL

UNKNOWN_C23E32: ;$C23E32
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDA #$0000
	STA $0A
	LDA #$0000
	STA $0C
	LDA .LOWORD(BATTLER_TARGET_FLAGS)
	STA $06
	LDA .LOWORD(BATTLER_TARGET_FLAGS)+2
	STA $08
	CMP $0C
	BNE @UNKNOWN0
	LDA $06
	CMP $0A
@UNKNOWN0:
	BEQ @UNKNOWN4
	LDX #$0000
	STX $0E
	BRA @UNKNOWN2
@UNKNOWN1:
	TXA
	JSL IS_CHAR_TARGETTED
	CMP #$0000
	BNE @UNKNOWN3
	LDX $0E
	INX
	STX $0E
@UNKNOWN2:
	CPX #$0020
	BCC @UNKNOWN1
@UNKNOWN3:
	LDX $0E
	TXA
	LDY #$004E
	JSL MULT168
	CLC
	ADC #.LOWORD(BATTLERS_TABLE)
	STA .LOWORD(CURRENT_TARGET)
	JSL FIX_TARGET_NAME
@UNKNOWN4:
	PLD
	RTL

UNKNOWN_C23E8A: ;$C23E8A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEA
	TCD
	PLA
	TAY
	STY $14
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(UNKNOWN_7E5E77)
	STZ $0E
	LDX #$001B
	REP #PROC_FLAGS::ACCUM8
	LDA #$A9B9
	JSL MEMSET16
	LDY $14
	CPY .LOWORD(UNKNOWN_7EAD56)
	BCC @UNKNOWN0
	BEQ @UNKNOWN0
	TYA
	SEC
	SBC .LOWORD(UNKNOWN_7EAD56)
	TAX
	DEX
	LDA .LOWORD(UNKNOWN_7EAD82),X
	AND #$00FF
	STA $02
	BRA @UNKNOWN1
@UNKNOWN0:
	TYX
	DEX
	LDA .LOWORD(UNKNOWN_7EAD7A),X
	AND #$00FF
	STA $02
@UNKNOWN1:
	LDA $02
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAY
	STY $14
	LOADPTR ENEMY_CONFIGURATION_TABLE, $06
	LDA .LOWORD(BATTLERS_TABLE) + battler::id,Y
	LDY #.SIZEOF(enemy_data)
	JSL MULT168
	INC
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0019
	LDA #$A9B9
	JSR a:.LOWORD(COPY_ENEMY_NAME)
	TAX
	STX $12
	LDY $14
	LDA .LOWORD(BATTLERS_TABLE)+battler::the_flag,Y
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN2
	LDA .LOWORD(BATTLERS_TABLE)+76,Y
	JSL UNKNOWN_C2B66A
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	CMP #$0002
	BEQ @UNKNOWN3
@UNKNOWN2:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0050
	LDX $12
	STA a:.LOWORD(RAM),X
	INX
	STX $14
	REP #PROC_FLAGS::ACCUM8
	LDA $02
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(BATTLERS_TABLE)+battler::the_flag,X
	CLC
	ADC #$0070
	LDX $14
	STA a:.LOWORD(RAM),X
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E5E77)
@UNKNOWN3:
	LDX #$001A
	REP #PROC_FLAGS::ACCUM8
	LDA #$A9B9
	JSL REDIRECT_C1AC4A
	LDA $02
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	LDA .LOWORD(BATTLERS_TABLE) + battler::id,X
	STA .LOWORD(UNKNOWN_7E9658)
	PLD
	RTL

FIND_TARGETTABLE_NPC: ;$C23F6C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	JSL RAND
	AND #$0003
	BNE @UNKNOWN0
	LDA #$0000
	BRA @UNKNOWN7
@UNKNOWN0:
	LDA #$0000
	STA $10
	BRA @UNKNOWN6
@UNKNOWN1:
	TAX
	LDA .LOWORD(GAME_STATE)+122,X
	AND #$00FF
	TAY
	STY $0E
	CPY #$0005
	BCC @UNKNOWN5
	TYA
	ASL
	TAX
	LDA f:NPC_AI_TABLE,X
	AND #$00FF
	AND #$0002
	BEQ @UNKNOWN5
	LDA #$0000
	STA $10
	BRA @UNKNOWN4
@UNKNOWN2:
	LDY #$004E
	JSL MULT168
	TAX
	LDA .LOWORD(BATTLERS_TABLE)+battler::consciousness,X
	AND #$00FF
	BEQ @UNKNOWN3
	LDY $0E
	STY $02
	LDA .LOWORD(BATTLERS_TABLE)+battler::npc_id,X
	AND #$00FF
	CMP $02
	BNE @UNKNOWN3
	LDA $10
	INC
	BRA @UNKNOWN7
@UNKNOWN3:
	LDA $10
	INC
	STA $10
@UNKNOWN4:
	CMP #$0006
	BCC @UNKNOWN2
@UNKNOWN5:
	LDA $10
	INC
	STA $10
@UNKNOWN6:
	CMP #$0006
	BCC @UNKNOWN1
	LDA #$0000
@UNKNOWN7:
	PLD
	RTL

GET_SHIELD_TARGETTING: ;$C23FEA
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	CMP #$002A
	BEQ GET_SHIELD_TARGETTING_SINGLETARGET
	CMP #$002B
	BEQ GET_SHIELD_TARGETTING_SINGLETARGET
	CMP #$002E
	BEQ GET_SHIELD_TARGETTING_SINGLETARGET
	CMP #$002F
	BNE GET_SHIELD_TARGETTING_MULTITARGET
GET_SHIELD_TARGETTING_SINGLETARGET:
	LDA #$0001
	BRA GET_SHIELD_TARGETTING_RETURN
GET_SHIELD_TARGETTING_MULTITARGET:
	LDA #$0000
GET_SHIELD_TARGETTING_RETURN:
	RTL

FEELING_STRANGE_RETARGETTING: ;$C24009
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA #$0000
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA #$0000
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM)+9,X
	AND #$00FF
	AND #$0007
	CMP #$0001
	BEQ @UNKNOWN0
	CMP #$0002
	BEQ @UNKNOWN1
	CMP #$0004
	BEQ @UNKNOWN2
	BRA @UNKNOWN5
@UNKNOWN0:
	JSL TARGET_ALL
	LDA .LOWORD(BATTLER_TARGET_FLAGS)
	STA $06
	LDA .LOWORD(BATTLER_TARGET_FLAGS)+2
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSL RANDOM_TARGETTING
	LDA $06
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA $08
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
	BRA @UNKNOWN5
@UNKNOWN1:
	JSL RAND
	LDY #$0003
	JSL MODULUS16
	JSL TARGET_ROW
	BRA @UNKNOWN5
@UNKNOWN2:
	JSL RAND
	AND #$0001
	BEQ @UNKNOWN3
	JSL TARGET_ALLIES
	BRA @UNKNOWN4
@UNKNOWN3:
	JSL TARGET_ALL_ENEMIES
@UNKNOWN4:
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM)+4,X
	JSL GET_SHIELD_TARGETTING
	CMP #$0000
	BNE @UNKNOWN5
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	BNE @UNKNOWN5
	JSL REMOVE_NPC_TARGETTING
@UNKNOWN5:
	PLD
	RTS

UNKNOWN_C240A4: ;$C240A4
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDA $1E
	STA $06
	LDA $20
	STA $08
	BRA @UNKNOWN1
@UNKNOWN0:
	JSL UNKNOWN_C12DD5
@UNKNOWN1:
	JSL UNKNOWN_C2EACF
	CMP #$0000
	BNE @UNKNOWN0
	LDA #$A21C
	STA .LOWORD(CURRENT_TARGET)
	LDX #$0008
	STX $0E
	BRA @UNKNOWN5
@UNKNOWN2:
	TXA
	JSL IS_CHAR_TARGETTED
	CMP #$0000
	BEQ @UNKNOWN4
	JSL FIX_TARGET_NAME
	LDA #$0000
	STA $0A
	LDA #$0000
	STA $0C
	LDA $08
	CMP $0C
	BNE @UNKNOWN3
	LDA $06
	CMP $0A
@UNKNOWN3:
	BEQ @UNKNOWN4
	PHA
	LDA $06
	STA a:.LOWORD(UNKNOWN_7E00BC)
	LDA $08
	STA a:.LOWORD(UNKNOWN_7E00BE)
	PLA
	JSL UNKNOWN_C09279
@UNKNOWN4:
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$004E
	STA .LOWORD(CURRENT_TARGET)
	LDX $0E
	INX
	STX $0E
@UNKNOWN5:
	CPX #$0020
	BCC @UNKNOWN2
	LDA #.LOWORD(BATTLERS_TABLE)
	STA .LOWORD(CURRENT_TARGET)
	LDX #$0000
	STX $0E
	BRA @UNKNOWN9
@UNKNOWN6:
	TXA
	JSL IS_CHAR_TARGETTED
	CMP #$0000
	BEQ @UNKNOWN8
	JSL FIX_TARGET_NAME
	LDA #$0000
	STA $0A
	LDA #$0000
	STA $0C
	LDA $08
	CMP $0C
	BNE @UNKNOWN7
	LDA $06
	CMP $0A
@UNKNOWN7:
	BEQ @UNKNOWN8
	PHA
	LDA $06
	STA a:.LOWORD(UNKNOWN_7E00BC)
	LDA $08
	STA a:.LOWORD(UNKNOWN_7E00BE)
	PLA
	JSL UNKNOWN_C09279
@UNKNOWN8:
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$004E
	STA .LOWORD(CURRENT_TARGET)
	LDX $0E
	INX
	STX $0E
@UNKNOWN9:
	CPX #$0008
	BCC @UNKNOWN6
	PLD
	RTL

UNKNOWN_C2416F: ;$C2416F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDX #$0000
	STX $0E
	BRA @UNKNOWN1
@UNKNOWN0:
	LDX .LOWORD(CURRENT_ATTACKER)
	CMP a:.LOWORD(RAM)+4,X
	BEQ @UNKNOWN6
	LDX $0E
	INX
	STX $0E
@UNKNOWN1:
	TXA
	ASL
	TAX
	LDA f:DEAD_TARGETTABLE_ACTIONS,X
	BNE @UNKNOWN0
	LDY #$0000
	STY $0E
	BRA @UNKNOWN5
@UNKNOWN2:
	TYA
	JSL IS_CHAR_TARGETTED
	CMP #$0000
	BEQ @UNKNOWN4
	LDY $0E
	TYA
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	LDA .LOWORD(BATTLERS_TABLE)+battler::consciousness,X
	AND #$00FF
	BEQ @UNKNOWN3
	LDA .LOWORD(BATTLERS_TABLE)+battler::afflictions,X
	AND #$00FF
	TAX
	CPX #STATUS_0::UNCONSCIOUS
	BEQ @UNKNOWN3
	CPX #STATUS_0::DIAMONDIZED
	BNE @UNKNOWN4
@UNKNOWN3:
	LDY $0E
	TYA
	JSL REMOVE_TARGET
@UNKNOWN4:
	LDY $0E
	INY
	STY $0E
@UNKNOWN5:
	CPY #$0020
	BCC @UNKNOWN2
@UNKNOWN6:
	PLD
	RTL

FIND_STEALABLE_ITEMS: ;$C241DC
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE6
	TCD
	STZ $18
	STZ $16
	JMP a:.LOWORD(@UNKNOWN12)
@UNKNOWN0:
	LDY #.LOWORD(GAME_STATE) + 122
	LDA ($16),Y
	AND #$00FF
	STA $14
	CMP #$0001
	BCS @UNKNOWN1
	BEQ @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN11)
@UNKNOWN1:
	LDA $14
	CMP #$0004
	BEQ @UNKNOWN2
	BCC @UNKNOWN2
	JMP a:.LOWORD(@UNKNOWN11)
@UNKNOWN2:
	LDA #$0000
	STA $12
	BRA @UNKNOWN5
@UNKNOWN3:
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	LDA .LOWORD(BATTLERS_TABLE)+battler::consciousness,X
	AND #$00FF
	BEQ @UNKNOWN4
	LDA .LOWORD(BATTLERS_TABLE),X
	CMP $14
	BNE @UNKNOWN4
	LDA .LOWORD(BATTLERS_TABLE)+battler::npc_id,X
	AND #$00FF
	BNE @UNKNOWN4
	LDA .LOWORD(BATTLERS_TABLE)+7,X
	AND #$00FF
	STA $10
@UNKNOWN4:
	LDA $12
	INC
	STA $12
@UNKNOWN5:
	CMP #$0006
	BCC @UNKNOWN3
	STZ $0E
	JMP a:.LOWORD(@UNKNOWN10)
@UNKNOWN6:
	LDA $0E
	STA $02
	INC $02
	LDA $02
	CMP $10
	BNE @UNKNOWN7
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN7:
	LDA $14
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAY
	STY $12
	TYA
	CLC
	ADC #.LOWORD(CHAR_STRUCT) + char_struct::items
	CLC
	ADC $0E
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	STA $04
	BNE @UNKNOWN8
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN8:
	LOADPTR ITEM_CONFIGURATION_TABLE, $06
	LDA $04
	LDY #.SIZEOF(item)
	JSL MULT168
	TAX
	CLC
	ADC #item::cost
	LDY $06
	STY $0A
	LDY $08
	STY $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	BEQ @UNKNOWN9
	CMP #$0122
	BCS @UNKNOWN9
	TXA
	CLC
	ADC #item::type
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	AND #$0030
	CMP #$0020
	BNE @UNKNOWN9
	LDY $12
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::WEAPON,Y
	AND #$00FF
	CMP $02
	BEQ @UNKNOWN9
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::BODY,Y
	AND #$00FF
	CMP $02
	BEQ @UNKNOWN9
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::ARMS,Y
	AND #$00FF
	CMP $02
	BEQ @UNKNOWN9
	LDA .LOWORD(CHAR_STRUCT)+char_struct::equipment+EQUIPMENT_SLOT::OTHER,Y
	AND #$00FF
	CMP $02
	BEQ @UNKNOWN9
	LDA $04
	SEP #PROC_FLAGS::ACCUM8
	LDY #.LOWORD(UNKNOWN_7EA9D4)
	STA ($18),Y
	REP #PROC_FLAGS::ACCUM8
	INC $18
@UNKNOWN9:
	INC $0E
@UNKNOWN10:
	LDA $0E
	CMP #$000E
	BCS @UNKNOWN11
	BEQ @UNKNOWN11
	JMP a:.LOWORD(@UNKNOWN6)
@UNKNOWN11:
	INC $16
@UNKNOWN12:
	LDA $16
	CMP #$0006
	BCS @UNKNOWN13
	BEQ @UNKNOWN13
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN13:
	LDA $18
	PLD
	RTS

SELECT_STEALABLE_ITEM: ;$C24316
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	JSR a:.LOWORD(FIND_STEALABLE_ITEMS)
	TAX
	STX $0E
	BNE @UNKNOWN0
	LDA #$0000
	BRA @UNKNOWN2
@UNKNOWN0:
	JSL RAND
	AND #$0080
	BEQ @UNKNOWN1
	LDA #$0000
	BRA @UNKNOWN2
@UNKNOWN1:
	LDX $0E
	TXA
	JSR a:.LOWORD(RAND_LIMIT)
	TAX
	LDA .LOWORD(UNKNOWN_7EA9D4),X
	AND #$00FF
@UNKNOWN2:
	PLD
	RTL

UNKNOWN_C24348: ;$C24348
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STA $04
	JSR a:.LOWORD(FIND_STEALABLE_ITEMS)
	STA $02
	LDA #$0000
	STA $0E
	BRA @UNKNOWN2
@UNKNOWN0:
	TAX
	LDA .LOWORD(UNKNOWN_7EA9D4),X
	AND #$00FF
	CMP $04
	BNE @UNKNOWN1
	LDA #$0001
	BRA @UNKNOWN3
@UNKNOWN1:
	LDA $0E
	INC
	STA $0E
@UNKNOWN2:
	CMP $02
	BCC @UNKNOWN0
	LDA #$0000
@UNKNOWN3:
	PLD
	RTL

UNKNOWN_C2437E: ;$C2437E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	BEQ @UNKNOWN0
	JMP a:.LOWORD(@UNKNOWN3)
@UNKNOWN0:
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM)+15,X
	AND #$00FF
	BEQ @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN3)
@UNKNOWN1:
	LDX .LOWORD(CURRENT_ATTACKER)
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+7,X
	STA $00
	REP #PROC_FLAGS::ACCUM8
	LDA $00
	AND #$00FF
	BNE @UNKNOWN2
	JMP a:.LOWORD(@UNKNOWN3)
@UNKNOWN2:
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM),X
	TAY
	STY $10
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM)+8,X
	AND #$00FF
	STA $0E
	STA $02
	LDA $00
	AND #$00FF
	DEC
	STA $04
	TYA
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::items
	CLC
	ADC $04
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	CMP $02
	BNE @UNKNOWN3
	LDA $0E
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC #item::flags
	TAX
	LDA f:ITEM_CONFIGURATION_TABLE,X
	AND #$00FF
	AND #ITEM_FLAGS::CONSUMED_ON_USE
	BEQ @UNKNOWN3
	LDA $0E
	TAX
	LDY $10
	TYA
	JSL UNKNOWN_C3EE14
	CMP #$0000
	BEQ @UNKNOWN3
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM)+7,X
	AND #$00FF
	TAX
	STX $0E
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM),X
	LDX $0E
	JSL REDIRECT_REMOVE_ITEM_FROM_INVENTORY
@UNKNOWN3:
	PLD
	RTL

UNKNOWN_C24434: ;$C24434
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TAX
	STX $0E
	LDA .LOWORD(UNKNOWN_7EAD56)
	CLC
	ADC .LOWORD(UNKNOWN_7EAD58)
	JSR a:.LOWORD(RAND_LIMIT)
	SEP #PROC_FLAGS::ACCUM8
	INC
	LDX $0E
	STA a:.LOWORD(RAM)+10,X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	CMP .LOWORD(UNKNOWN_7EAD56)
	BCC @UNKNOWN0
	BEQ @UNKNOWN0
	SEC
	SBC .LOWORD(UNKNOWN_7EAD56)
	TAX
	DEX
	LDA .LOWORD(UNKNOWN_7EAD82),X
	AND #$00FF
	BRA @UNKNOWN1
@UNKNOWN0:
	TAX
	DEX
	LDA .LOWORD(UNKNOWN_7EAD7A),X
	AND #$00FF
@UNKNOWN1:
	PLD
	RTL

CHOOSE_TARGET: ;$C24477
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STA $02
	LDX #$0000
	STX $0E
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA .LOWORD(UNKNOWN_7EAD7A),X
	AND #$00FF
	JSL CHECK_IF_VALID_TARGET
	CMP #$0000
	BNE @UNKNOWN4
	LDX $0E
	INX
	STX $0E
@UNKNOWN1:
	CPX .LOWORD(UNKNOWN_7EAD56)
	BCC @UNKNOWN0
	LDX #$0000
	STX $0E
	BRA @UNKNOWN3
@UNKNOWN2:
	LDA .LOWORD(UNKNOWN_7EAD82),X
	AND #$00FF
	JSL CHECK_IF_VALID_TARGET
	CMP #$0000
	BNE @UNKNOWN4
	LDX $0E
	INX
	STX $0E
@UNKNOWN3:
	CPX .LOWORD(UNKNOWN_7EAD58)
	BCC @UNKNOWN2
	JSL UNKNOWN_C2F917
@UNKNOWN4:
	LDX $02
	LDA a:.LOWORD(RAM)+4,X
	OPTIMIZED_MULT $04, 12
	TAX
	LDA f:BATTLE_ACTION_TABLE,X
	AND #$00FF
	BNE @UNKNOWN6
	LDX $02
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN5
	LDX $02
	SEP #PROC_FLAGS::ACCUM8
	STZ a:.LOWORD(RAM)+9,X
	BRA @UNKNOWN8
@UNKNOWN5:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0010
	LDX $02
	STA a:.LOWORD(RAM)+9,X
	BRA @UNKNOWN8
@UNKNOWN6:
	.A16
	LDX $02
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN7
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0010
	LDX $02
	STA a:.LOWORD(RAM)+9,X
	BRA @UNKNOWN8
@UNKNOWN7:
	LDX $02
	SEP #PROC_FLAGS::ACCUM8
	STZ a:.LOWORD(RAM)+9,X
@UNKNOWN8:
	REP #PROC_FLAGS::ACCUM8
	LOADPTR BATTLE_ACTION_TABLE, $06
	LDX $02
	INX
	INX
	INX
	INX
	STX $0E
	LDA a:.LOWORD(RAM),X
	OPTIMIZED_MULT $04, 12
	INC
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	BEQ @UNKNOWN11
	CMP #$0001
	BEQ @UNKNOWN13
	CMP #$0002
	BEQ @UNKNOWN13
	CMP #$0003
	BNE @UNKNOWN9
	JMP a:.LOWORD(@UNKNOWN22)
@UNKNOWN9:
	CMP #$0004
	BNE @UNKNOWN10
	JMP a:.LOWORD(@UNKNOWN26)
@UNKNOWN10:
	JMP a:.LOWORD(@UNKNOWN27)
@UNKNOWN11:
	LDA $02
	CLC
	ADC #$0009
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	ORA #$0001
	STA a:.LOWORD(RAM),X
	LDX $02
	REP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN12
	LDY #$004E
	LDA $02
	SEC
	SBC #.LOWORD(BATTLERS_TABLE)
	JSL DIVISION16S_DIVISOR_POSITIVE
	TAX
	LDA $02
	JSL UNKNOWN_C4A228
	JMP a:.LOWORD(@UNKNOWN27)
@UNKNOWN12:
	LDY #$004E
	LDA $02
	SEC
	SBC #.LOWORD(BATTLERS_TABLE)
	JSL DIVISION16S_DIVISOR_POSITIVE
	SEP #PROC_FLAGS::ACCUM8
	INC
	LDX $02
	STA a:.LOWORD(RAM)+10,X
	JMP a:.LOWORD(@UNKNOWN27)
@UNKNOWN13:
	.A16
	LDA $02
	CLC
	ADC #$0009
	TAY
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),Y
	ORA #$0001
	STA a:.LOWORD(RAM),Y
	LDX $02
	REP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN18
	LDX $0E
	LDA a:.LOWORD(RAM),X
	OPTIMIZED_MULT $04, 12
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	BNE @UNKNOWN16
	JSL FIND_TARGETTABLE_NPC
	SEP #PROC_FLAGS::ACCUM8
	LDX $02
	STA a:.LOWORD(RAM)+10,X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	BEQ @UNKNOWN14
	JMP a:.LOWORD(@UNKNOWN27)
@UNKNOWN14:
	JSL RAND
	SEP #PROC_FLAGS::ACCUM8
	AND #$0007
	INC
	LDX $02
	STA a:.LOWORD(RAM)+10,X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	DEC
	JSL CHECK_IF_VALID_TARGET
	CMP #$0000
	BEQ @UNKNOWN15
	JMP a:.LOWORD(@UNKNOWN27)
@UNKNOWN15:
	BRA @UNKNOWN14
@UNKNOWN16:
	LDA $02
	JSL UNKNOWN_C24434
	TAX
	JSL CHECK_IF_VALID_TARGET
	CMP #$0000
	BEQ @UNKNOWN17
	JMP a:.LOWORD(@UNKNOWN27)
@UNKNOWN17:
	BRA @UNKNOWN16
@UNKNOWN18:
	LDX $0E
	LDA a:.LOWORD(RAM),X
	OPTIMIZED_MULT $04, 12
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	BNE @UNKNOWN21
@UNKNOWN19:
	LDA $02
	JSL UNKNOWN_C24434
	TAX
	JSL CHECK_IF_VALID_TARGET
	CMP #$0000
	BEQ @UNKNOWN20
	JMP a:.LOWORD(@UNKNOWN27)
@UNKNOWN20:
	BRA @UNKNOWN19
@UNKNOWN21:
	JSL RAND
	SEP #PROC_FLAGS::ACCUM8
	AND #$0007
	INC
	LDX $02
	STA a:.LOWORD(RAM)+10,X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	DEC
	JSL CHECK_IF_VALID_TARGET
	CMP #$0000
	BEQ @UNKNOWN21
	BRA @UNKNOWN27
@UNKNOWN22:
	LDA $02
	CLC
	ADC #$0009
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	ORA #$0002
	STA a:.LOWORD(RAM),X
	LDX $02
	REP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN23
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	LDX $02
	STA a:.LOWORD(RAM)+10,X
	BRA @UNKNOWN27
@UNKNOWN23:
	LDA .LOWORD(UNKNOWN_7EAD56)
	BNE @UNKNOWN24
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0002
	LDX $02
	STA a:.LOWORD(RAM)+10,X
	BRA @UNKNOWN27
@UNKNOWN24:
	LDA .LOWORD(UNKNOWN_7EAD58)
	BNE @UNKNOWN25
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	LDX $02
	STA a:.LOWORD(RAM)+10,X
	BRA @UNKNOWN27
@UNKNOWN25:
	JSL RAND
	SEP #PROC_FLAGS::ACCUM8
	AND #$0001
	INC
	LDX $02
	STA a:.LOWORD(RAM)+10,X
	BRA @UNKNOWN27
@UNKNOWN26:
	.A16
	LDA $02
	CLC
	ADC #$0009
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	ORA #$0004
	STA a:.LOWORD(RAM),X
	LDA #$0001
	LDX $02
	STA a:.LOWORD(RAM)+10,X
@UNKNOWN27:
	REP #PROC_FLAGS::ACCUM8
	PLD
	RTL

.INCLUDE "unknown/C2/C24703.asm"

.INCLUDE "battle/main_battle_routine.asm"

.INCLUDE "unknown/C2/C26189.asm"

.INCLUDE "battle/instant_win_handler.asm"

.INCLUDE "unknown/C2/C2654C.asm"

.INCLUDE "battle/instant_win_check.asm"

GET_BATTLE_ACTION_TYPE: ;$C2698B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF2
	TCD
	PLA
	OPTIMIZED_MULT $04, 12
	TAX
	INX
	INX
	LDA f:BATTLE_ACTION_TABLE,X
	AND #$00FF
	PLD
	RTS

GET_ENEMY_TYPE: ;$C269A8
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDY #.SIZEOF(enemy_data)
	JSL MULT168
	CLC
	ADC #enemy_data::type
	TAX
	LDA f:ENEMY_CONFIGURATION_TABLE,X
	AND #$00FF
	RTS


; Do nothing for some number of frames
WAIT: ;$C269BE
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TAX
	STX $0E
	BRA @UNKNOWN1
@UNKNOWN0:
	JSL UNKNOWN_C12DD5
@UNKNOWN1:
	LDX $0E
	TXA
	DEX
	STX $0E
	CMP #$0000
	BNE @UNKNOWN0
	PLD
	RTS

UNKNOWN_C269DE: ;$C269DE
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	BRA @UNKNOWN1
@UNKNOWN0:
	JSL UNKNOWN_C12DD5
@UNKNOWN1:
	LDA a:.LOWORD(UNKNOWN_7E0028)
	AND #$00FF
	BNE @UNKNOWN0
	RTS

RAND_LONG: ;$C269EF
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL RAND
	SEP #PROC_FLAGS::ACCUM8
	RTS

TRUNCATE_16_TO_8: ;$C269F8
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF1
	TCD
	PLA
	SEP #PROC_FLAGS::ACCUM8
	STA $0E
	REP #PROC_FLAGS::ACCUM8
	TXA
	STA $0A
	STZ $0C
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	STA $06
	STZ $07
	STZ $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	JSL MULT32
	SEP #PROC_FLAGS::INDEX8
	LDY #$0008
	JSL ASR32_UNKNOWN1
	LDA $06
	REP #PROC_FLAGS::INDEX8
	PLD
	RTS

RAND_LIMIT: ;$C26A2D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TAX
	STX $0E
	JSR a:.LOWORD(RAND_LONG)
	LDX $0E
	JSR a:.LOWORD(TRUNCATE_16_TO_8)
	PLD
	RTS

.INCLUDE "battle/50_percent_variance.asm"

.INCLUDE "battle/25_percent_variance.asm"

SUCCESS_255: ;$C26BB8
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF2
	TCD
	PLA
	SEP #PROC_FLAGS::ACCUM8
	STA $00
	JSR a:.LOWORD(RAND_LONG)
	CMP $00
	BCS @UNKNOWN0
	REP #PROC_FLAGS::ACCUM8
	LDA #$0001
	BRA @UNKNOWN1
@UNKNOWN0:
	REP #PROC_FLAGS::ACCUM8
	LDA #$0000
@UNKNOWN1:
	PLD
	RTS

SUCCESS_500: ;$C26BDB
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF2
	TCD
	PLA
	STA $02
	LDA #$01F4
	JSR a:.LOWORD(RAND_LIMIT)
	CMP $02
	BCS @UNKNOWN0
	LDA #$0001
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA #$0000
@UNKNOWN1:
	PLD
	RTS

TARGET_ALLIES: ;$C26BFB
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDA #$0000
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA #$0000
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
	LDX #.LOWORD(BATTLERS_TABLE)
	LDA #$0000
	STA $0E
	BRA @UNKNOWN3
@UNKNOWN0:
	LDA a:.LOWORD(RAM)+12,X
	AND #$00FF
	BEQ @UNKNOWN2
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	BEQ @UNKNOWN1
	LDA a:.LOWORD(RAM)+15,X
	AND #$00FF
	BEQ @UNKNOWN2
@UNKNOWN1:
	LOADPTR POWERS_OF_TWO_32BIT, $06
	LDA $0E
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $0A
	STY $0C
	LDA .LOWORD(BATTLER_TARGET_FLAGS)
	STA $06
	LDA .LOWORD(BATTLER_TARGET_FLAGS)+2
	STA $08
	LDA $06
	ORA $0A
	STA $06
	LDA $08
	ORA $0C
	STA $08
	LDA $06
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA $08
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
@UNKNOWN2:
	TXA
	CLC
	ADC #$004E
	TAX
	LDA $0E
	INC
	STA $0E
@UNKNOWN3:
	CMP #$0020
	BCC @UNKNOWN0
	PLD
	RTL

TARGET_ALL_ENEMIES: ;$C26C82
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDA #$0000
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA #$0000
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
	LDX #.LOWORD(BATTLERS_TABLE)
	LDA #$0000
	STA $0E
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA a:.LOWORD(RAM)+12,X
	AND #$00FF
	BEQ @UNKNOWN1
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN1
	LOADPTR POWERS_OF_TWO_32BIT, $06
	LDA $0E
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $0A
	STY $0C
	LDA .LOWORD(BATTLER_TARGET_FLAGS)
	STA $06
	LDA .LOWORD(BATTLER_TARGET_FLAGS)+2
	STA $08
	LDA $06
	ORA $0A
	STA $06
	LDA $08
	ORA $0C
	STA $08
	LDA $06
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA $08
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
@UNKNOWN1:
	TXA
	CLC
	ADC #$004E
	TAX
	LDA $0E
	INC
	STA $0E
@UNKNOWN2:
	CMP #$0020
	BCC @UNKNOWN0
	PLD
	RTL

TARGET_ROW: ;$C26D04
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	TAY
	STY $10
	LDA #$0000
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA #$0000
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
	LDX #.LOWORD(BATTLERS_TABLE)
	LDA #$0000
	STA $0E
	JMP a:.LOWORD(@UNKNOWN6)
@UNKNOWN0:
	LDA a:.LOWORD(RAM)+12,X
	AND #$00FF
	BNE @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN5)
@UNKNOWN1:
	LDY $10
	TYA
	BEQ @UNKNOWN2
	CMP #$0001
	BEQ @UNKNOWN4
	CMP #$0002
	BEQ @UNKNOWN4
	JMP a:.LOWORD(@UNKNOWN5)
@UNKNOWN2:
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	BEQ @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN5)
@UNKNOWN3:
	LOADPTR POWERS_OF_TWO_32BIT, $06
	LDA $0E
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $0A
	STY $0C
	LDA .LOWORD(BATTLER_TARGET_FLAGS)
	STA $06
	LDA .LOWORD(BATTLER_TARGET_FLAGS)+2
	STA $08
	LDA $06
	ORA $0A
	STA $06
	LDA $08
	ORA $0C
	STA $08
	LDA $06
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA $08
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
	BRA @UNKNOWN5
@UNKNOWN4:
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN5
	TYA
	DEC
	STA $02
	LDA a:.LOWORD(RAM)+battler::row,X
	AND #$00FF
	CMP $02
	BNE @UNKNOWN5
	LOADPTR POWERS_OF_TWO_32BIT, $06
	LDA $0E
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $0A
	STY $0C
	LDA .LOWORD(BATTLER_TARGET_FLAGS)
	STA $06
	LDA .LOWORD(BATTLER_TARGET_FLAGS)+2
	STA $08
	LDA $06
	ORA $0A
	STA $06
	LDA $08
	ORA $0C
	STA $08
	LDA $06
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA $08
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
@UNKNOWN5:
	TXA
	CLC
	ADC #$004E
	TAX
	LDA $0E
	INC
	STA $0E
@UNKNOWN6:
	CMP #$0020
	BCS @UNKNOWN7
	BEQ @UNKNOWN7
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN7:
	PLD
	RTL

TARGET_ALL: ;$C26E00
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDA #$0000
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA #$0000
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
	LDX #.LOWORD(BATTLERS_TABLE)
	LDA #$0000
	STA $0E
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA a:.LOWORD(RAM)+12,X
	AND #$00FF
	BEQ @UNKNOWN1
	LOADPTR POWERS_OF_TWO_32BIT, $06
	LDA $0E
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $0A
	STY $0C
	LDA .LOWORD(BATTLER_TARGET_FLAGS)
	STA $06
	LDA .LOWORD(BATTLER_TARGET_FLAGS)+2
	STA $08
	LDA $06
	ORA $0A
	STA $06
	LDA $08
	ORA $0C
	STA $08
	LDA $06
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA $08
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
@UNKNOWN1:
	TXA
	CLC
	ADC #$004E
	TAX
	LDA $0E
	INC
	STA $0E
@UNKNOWN2:
	CMP #$0020
	BCC @UNKNOWN0
	PLD
	RTL

REMOVE_NPC_TARGETTING: ;$C26E77
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDX #.LOWORD(BATTLERS_TABLE)
	LDA #$0000
	STA $0E
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA a:.LOWORD(RAM)+12,X
	AND #$00FF
	BEQ @UNKNOWN1
	LDA a:.LOWORD(RAM)+15,X
	AND #$00FF
	BEQ @UNKNOWN1
	LOADPTR POWERS_OF_TWO_32BIT, $06
	LDA $0E
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $0A
	STY $0C
	LDA $0A
	EOR #$FFFF
	STA $0A
	LDA $0C
	EOR #$FFFF
	STA $0C
	LDA .LOWORD(BATTLER_TARGET_FLAGS)
	STA $06
	LDA .LOWORD(BATTLER_TARGET_FLAGS)+2
	STA $08
	LDA $06
	AND $0A
	STA $06
	LDA $08
	AND $0C
	STA $08
	LDA $06
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA $08
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
@UNKNOWN1:
	TXA
	CLC
	ADC #$004E
	TAX
	LDA $0E
	INC
	STA $0E
@UNKNOWN2:
	CMP #$0020
	BCC @UNKNOWN0
	PLD
	RTL

RANDOM_TARGETTING: ;$C26EF8
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEA
	TCD
	LDA $24
	STA $0A
	LDA $26
	STA $0C
	LDA $0A
	STA $12
	LDA $0C
	STA $14
	LDA #$0000
	STA $06
	LDA #$0000
	STA $08
	LDA $0C
	CMP $08
	BNE @UNKNOWN0
	LDA $0A
	CMP $06
@UNKNOWN0:
	BNE @UNKNOWN1
	LDA $06
	STA $1C
	LDA $08
	STA $1E
	JMP a:.LOWORD(@UNKNOWN6)
@UNKNOWN1:
	LDY #$0000
	STY $10
	JSR a:.LOWORD(RAND_LONG)
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	AND #$001F
	INC
	STA $0E
	BRA @UNKNOWN5
@UNKNOWN2:
	LDY $10
	INY
	STY $10
	CPY #$0020
	BNE @UNKNOWN3
	LDY #$0000
	STY $10
@UNKNOWN3:
	LDA $12
	STA $0A
	LDA $14
	STA $0C
	PHA
	LDA $0A
	PHA
	LOADPTR POWERS_OF_TWO_32BIT, $06
	TYA
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $0A
	STY $0C
	PLA
	STA $06
	PLA
	STA $08
	LDA $06
	AND $0A
	STA $06
	LDA $08
	AND $0C
	STA $08
	LDA #$0000
	STA $0A
	LDA #$0000
	STA $0C
	LDA $08
	CMP $0C
	BNE @UNKNOWN4
	LDA $06
	CMP $0A
@UNKNOWN4:
	BEQ @UNKNOWN2
@UNKNOWN5:
	LDA $0E
	TAX
	DEC
	STA $0E
	CPX #$0000
	BNE @UNKNOWN2
	LOADPTR POWERS_OF_TWO_32BIT, $0A
	LDY $10
	TYA
	ASL
	ASL
	CLC
	ADC $0A
	STA $0A
	LDY #$0002
	LDA [$0A],Y
	TAY
	LDA [$0A]
	STA $06
	STY $08
	LDA $06
	STA $1C
	LDA $08
	STA $1E
@UNKNOWN6:
	PLD
	RTL

UNKNOWN_C26FDC: ;$C26FDC
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STA $0E
	LOADPTR POWERS_OF_TWO_32BIT, $06
	LDA $0E
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $0A
	STY $0C
	LDA .LOWORD(BATTLER_TARGET_FLAGS)
	STA $06
	LDA .LOWORD(BATTLER_TARGET_FLAGS)+2
	STA $08
	LDA $06
	ORA $0A
	STA $06
	LDA $08
	ORA $0C
	STA $08
	LDA $06
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA $08
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
	PLD
	RTL

IS_CHAR_TARGETTED: ;$C27029
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STA $0E
	LDX #$0000
	LOADPTR POWERS_OF_TWO_32BIT, $06
	LDA $0E
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $0A
	STY $0C
	LDA .LOWORD(BATTLER_TARGET_FLAGS)
	STA $06
	LDA .LOWORD(BATTLER_TARGET_FLAGS)+2
	STA $08
	LDA $06
	AND $0A
	STA $06
	LDA $08
	AND $0C
	STA $08
	LDA #$0000
	STA $0A
	LDA #$0000
	STA $0C
	LDA $08
	CMP $0C
	BNE @UNKNOWN0
	LDA $06
	CMP $0A
@UNKNOWN0:
	BEQ @UNKNOWN1
	LDX #$0001
@UNKNOWN1:
	TXA
	PLD
	RTL

REMOVE_TARGET: ;$C27089
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STA $0E
	LOADPTR POWERS_OF_TWO_32BIT, $06
	LDA $0E
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $0A
	STY $0C
	LDA $0A
	EOR #$FFFF
	STA $0A
	LDA $0C
	EOR #$FFFF
	STA $0C
	LDA .LOWORD(BATTLER_TARGET_FLAGS)
	STA $06
	LDA .LOWORD(BATTLER_TARGET_FLAGS)+2
	STA $08
	LDA $06
	AND $0A
	STA $06
	LDA $08
	AND $0C
	STA $08
	LDA $06
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA $08
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
	PLD
	RTL

REMOVE_DEAD_TARGETTING: ;$C270E4
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDX #$0000
	STX $0E
	BRA @UNKNOWN2
@UNKNOWN0:
	TXA
	JSL IS_CHAR_TARGETTED
	CMP #$0000
	BEQ @UNKNOWN1
	LDX $0E
	TXA
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	LDA .LOWORD(BATTLERS_TABLE)+battler::afflictions,X
	AND #$00FF
	CMP #STATUS_0::UNCONSCIOUS
	BNE @UNKNOWN1
	LDX $0E
	TXA
	JSL REMOVE_TARGET
@UNKNOWN1:
	LDX $0E
	INX
	STX $0E
@UNKNOWN2:
	CPX #$0020
	BCC @UNKNOWN0
	PLD
	RTS

SET_HP: ;$C27126
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	TXY
	STY $10
	TAX
	LDA a:.LOWORD(RAM)+21,X
	STA $0E
	STA $02
	TYA
	CMP $02
	BCC @UNKNOWN0
	BEQ @UNKNOWN0
	LDA $0E
	TAY
	STY $10
@UNKNOWN0:
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	BNE @UNKNOWN2
	LDA a:.LOWORD(RAM)+15,X
	AND #$00FF
	BNE @UNKNOWN1
	TYA
	STA a:.LOWORD(RAM)+19,X
	LDA a:.LOWORD(RAM)+16,X
	AND #$00FF
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDY $10
	TYA
	STA .LOWORD(CHAR_STRUCT)+char_struct::current_hp_target,X
	BRA @UNKNOWN3
@UNKNOWN1:
	TYA
	STA a:.LOWORD(RAM)+17,X
	TYA
	STA a:.LOWORD(RAM)+19,X
	LDA a:.LOWORD(RAM)+16,X
	AND #$00FF
	ASL
	TAX
	TYA
	STA .LOWORD(GAME_STATE)+game_state::party_npc_1_hp,X
	BRA @UNKNOWN3
@UNKNOWN2:
	TYA
	STA a:.LOWORD(RAM)+17,X
	TYA
	STA a:.LOWORD(RAM)+19,X
@UNKNOWN3:
	PLD
	RTS

SET_PP: ;$C27191
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	TXY
	STY $10
	TAX
	LDA a:.LOWORD(RAM)+27,X
	STA $0E
	STA $02
	TYA
	CMP $02
	BCC @UNKNOWN0
	BEQ @UNKNOWN0
	LDA $0E
	TAY
	STY $10
@UNKNOWN0:
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	BNE @UNKNOWN2
	LDA a:.LOWORD(RAM)+15,X
	AND #$00FF
	BNE @UNKNOWN1
	TYA
	STA a:.LOWORD(RAM)+25,X
	LDA a:.LOWORD(RAM)+16,X
	AND #$00FF
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDY $10
	TYA
	STA .LOWORD(CHAR_STRUCT)+char_struct::current_pp_target,X
	BRA @UNKNOWN3
@UNKNOWN1:
	TYA
	STA a:.LOWORD(RAM)+23,X
	TYA
	STA a:.LOWORD(RAM)+25,X
	BRA @UNKNOWN3
@UNKNOWN2:
	TYA
	STA a:.LOWORD(RAM)+23,X
	TYA
	STA a:.LOWORD(RAM)+25,X
@UNKNOWN3:
	PLD
	RTS

REDUCE_HP: ;$C271F0
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STX $02
	TAY
	LDA a:.LOWORD(RAM)+19,Y
	STA $0E
	STA $04
	LDA $02
	CMP $04
	BCC @UNKNOWN0
	BEQ @UNKNOWN0
	LDA #$0000
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA $0E
	SEC
	SBC $02
@UNKNOWN1:
	TAX
	TYA
	JSR a:.LOWORD(SET_HP)
	PLD
	RTS

REDUCE_PP: ;$C2721D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STX $02
	TAY
	LDA a:.LOWORD(RAM)+25,Y
	STA $0E
	STA $04
	LDA $02
	CMP $04
	BCC @UNKNOWN0
	BEQ @UNKNOWN0
	LDA #$0000
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA $0E
	SEC
	SBC $02
@UNKNOWN1:
	TAX
	TYA
	JSR a:.LOWORD(SET_PP)
	PLD
	RTS

.INCLUDE "battle/inflict_status.asm"

RECOVER_HP: ;$C27294
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE8
	TCD
	PLA
	STX $16
	STA $02
	LDX $02
	LDA a:.LOWORD(RAM)+12,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN2
	LDX $02
	LDA a:.LOWORD(RAM)+29,X
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN1
	LDX $16
	STX $04
	TXA
	LDX $02
	CLC
	ADC a:.LOWORD(RAM)+19,X
	TAY
	STY $16
	TYX
	LDA $02
	JSR a:.LOWORD(SET_HP)
	LDX $02
	LDY $16
	TYA
	CMP a:.LOWORD(RAM)+21,X
	BCC @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF69A1
	BRA @UNKNOWN2
@UNKNOWN0:
	LOADPTR TEXT_BLOCK_EF69BA, $0E
	LDA $04
	STA $06
	STZ $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
	BRA @UNKNOWN2
@UNKNOWN1:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF7696
@UNKNOWN2:
	PLD
	RTS

RECOVER_PP: ;$C27318
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE4
	TCD
	PLA
	STX $04
	STA $02
	STA $1A
	LDX $02
	LDA a:.LOWORD(RAM)+12,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN2
	LDX $02
	LDA a:.LOWORD(RAM)+29,X
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN2
	LDX $02
	LDY a:.LOWORD(RAM)+25,X
	LDX $02
	LDA a:.LOWORD(RAM)+27,X
	STA $18
	STA $02
	TYA
	CLC
	ADC $04
	CMP $02
	BCC @UNKNOWN0
	STY $02
	LDA $18
	SEC
	SBC $02
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA $04
@UNKNOWN1:
	TAY
	STY $16
	LDA $1A
	STA $02
	LDX $02
	LDA $04
	CLC
	ADC a:.LOWORD(RAM)+25,X
	TAX
	LDA $02
	JSR a:.LOWORD(SET_PP)
	LOADPTR TEXT_BLOCK_EF69D2, $0E
	LDY $16
	TYA
	STA $06
	STZ $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
@UNKNOWN2:
	PLD
	RTS

REVIVE_TARGET: ;$C27397
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE6
	TCD
	PLA
	TXY
	STY $18
	STA $04
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6F7C
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	LDX $04
	STA a:.LOWORD(RAM)+35,X
	LDX $04
	STA a:.LOWORD(RAM)+34,X
	LDX $04
	STA a:.LOWORD(RAM)+33,X
	LDX $04
	STA a:.LOWORD(RAM)+32,X
	LDX $04
	STA a:.LOWORD(RAM)+31,X
	LDX $04
	STA a:.LOWORD(RAM)+30,X
	LDX $04
	STA a:.LOWORD(RAM)+29,X
	LDX $04
	REP #PROC_FLAGS::ACCUM8
	STZ a:.LOWORD(RAM)+4,X
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	LDX $04
	STA a:.LOWORD(RAM)+13,X
	LDY $18
	TYX
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	JSR a:.LOWORD(SET_HP)
	LDX $04
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	BNE @UNKNOWN0
	LDX $04
	LDA a:.LOWORD(RAM)+15,X
	AND #$00FF
	BNE @UNKNOWN0
	LDA $04
	CLC
	ADC #$0010
	TAX
	STX $16
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDY $18
	TYA
	STA .LOWORD(CHAR_STRUCT)+char_struct::current_hp_target,X
	LDX $16
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA #$0001
	STA .LOWORD(CHAR_STRUCT)+char_struct::current_hp,X
@UNKNOWN0:
	LDX $04
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN11)
@UNKNOWN1:
	LDX $04
	LDA a:.LOWORD(RAM)+15,X
	AND #$00FF
	BEQ @UNKNOWN2
	JMP a:.LOWORD(@UNKNOWN11)
@UNKNOWN2:
	LDA #.LOWORD(BATTLERS_TABLE)
	LDX #$0000
	STX $18
	BRA @UNKNOWN4
@UNKNOWN3:
	TAX
	SEP #PROC_FLAGS::ACCUM8
	STZ a:.LOWORD(RAM)+75,X
	CLC
	REP #PROC_FLAGS::ACCUM8
	ADC #$004E
	LDX $18
	INX
	STX $18
@UNKNOWN4:
	CPX #$0020
	BCC @UNKNOWN3
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	LDX $04
	STA a:.LOWORD(RAM)+75,X
	LDX #$0001
	STX $18
	BRA @UNKNOWN6
@UNKNOWN5:
	STX $02
	LDX $04
	REP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+67,X
	AND #$00FF
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC $02
	ASL
	TAX
	STZ $0380,X
	LDX $18
	INX
	STX $18
@UNKNOWN6:
	CPX #$0010
	BCC @UNKNOWN5
	REP #PROC_FLAGS::ACCUM8
	LDA #$000A
	JSL UNKNOWN_C2FAD8
	LDA #$0001
	STA $02
	BRA @UNKNOWN8
@UNKNOWN7:
	LDA #$001F
	STA $0E
	TAY
	TAX
	STX $14
	LDX $04
	LDA a:.LOWORD(RAM)+67,X
	AND #$00FF
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC $02
	LDX $14
	JSL UNKNOWN_C2FB35
	INC $02
@UNKNOWN8:
	LDA $02
	CMP #$0010
	BCC @UNKNOWN7
	LDA #1*SIXTH_OF_A_SECOND
	JSR a:.LOWORD(WAIT)
	LDA #$0014
	JSL UNKNOWN_C2FAD8
	LDA #$0001
	STA $02
	BRA @UNKNOWN10
@UNKNOWN9:
	LDX $04
	LDA a:.LOWORD(RAM)+67,X
	AND #$00FF
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC $02
	STA $14
	ASL
	TAX
	LDA $0300,X
	TAX
	STX $12
	SEP #PROC_FLAGS::ACCUM8
	LDA #$000A
	PHA
	REP #PROC_FLAGS::ACCUM8
	TXA
	SEP #PROC_FLAGS::INDEX8
	PLY
	JSL ASR8_UNKNOWN1
	AND #$001F
	STA $0E
	REP #PROC_FLAGS::INDEX8
	LDX $12
	TXA
	LSR
	LSR
	LSR
	LSR
	LSR
	AND #$001F
	TAY
	TXA
	AND #$001F
	TAX
	LDA $14
	JSL UNKNOWN_C2FB35
	INC $02
@UNKNOWN10:
	LDA $02
	CMP #$0010
	BCC @UNKNOWN9
	LDA #2*SIXTHS_OF_A_SECOND
	JSR a:.LOWORD(WAIT)
@UNKNOWN11:
	LDA #$0001
	PLD
	RTS

.INCLUDE "battle/ko_target.asm"

SUCCESS_LUCK80: ;$C27C96
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$0050
	JSR a:.LOWORD(RAND_LIMIT)
	LDX .LOWORD(CURRENT_TARGET)
	CMP a:.LOWORD(RAM)+46,X
	BCS SUCCESS_LUCK80_SUCCESS
	LDA #$0000
	BRA SUCCESS_LUCK80_RETURN
SUCCESS_LUCK80_SUCCESS:
	LDA #$0001
SUCCESS_LUCK80_RETURN:
	RTS

SUCCESS_SPEED: ;$C27CAF
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	TAY
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+42,X
	ASL
	TAX
	STX $10
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM)+42,X
	STA $0E
	STA $02
	LDX $10
	TXA
	CMP $02
	BCC @UNKNOWN0
	LDA $0E
	STA $02
	TXA
	SEC
	SBC $02
	TAX
	STX $10
	BRA @UNKNOWN1
@UNKNOWN0:
	LDX #$0000
	STX $10
@UNKNOWN1:
	TYA
	JSR a:.LOWORD(RAND_LIMIT)
	LDX $10
	STX $02
	CMP $02
	BCC @UNKNOWN2
	LDA #$0001
	BRA @UNKNOWN3
@UNKNOWN2:
	LDA #$0000
@UNKNOWN3:
	PLD
	RTS

ATK_FAIL_CHK: ;$C27CFD
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+15,X
	AND #$00FF
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
	LDA #$0001
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA #$0000
@UNKNOWN1:
	PLD
	RTS

INCREASE_OFFENSE_16TH: ;$C27D28
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	STA $02
	CLC
	ADC #$0026
	TAY
	LDA a:.LOWORD(RAM),Y
	LSR
	LSR
	LSR
	LSR
	BEQ @UNKNOWN0
	TAX
	BRA @UNKNOWN1
@UNKNOWN0:
	LDX #$0001
@UNKNOWN1:
	STX $04
	LDA a:.LOWORD(RAM),Y
	CLC
	ADC $04
	STA a:.LOWORD(RAM),Y
	LDA $02
	CLC
	ADC #$0026
	TAX
	STX $10
	LDX $02
	LDA a:.LOWORD(RAM)+50,X
	AND #$00FF
	OPTIMIZED_MULT $04, 5
	LSR
	LSR
	STA $0E
	STA $02
	LDX $10
	LDA a:.LOWORD(RAM),X
	CMP $02
	BCC @UNKNOWN2
	BEQ @UNKNOWN2
	LDA $0E
	STA a:.LOWORD(RAM),X
@UNKNOWN2:
	PLD
	RTS

INCREASE_DEFENSE_16TH: ;$C27D82
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	STA $02
	CLC
	ADC #$0028
	TAY
	LDA a:.LOWORD(RAM),Y
	LSR
	LSR
	LSR
	LSR
	BEQ @UNKNOWN0
	TAX
	BRA @UNKNOWN1
@UNKNOWN0:
	LDX #$0001
@UNKNOWN1:
	STX $04
	LDA a:.LOWORD(RAM),Y
	CLC
	ADC $04
	STA a:.LOWORD(RAM),Y
	LDA $02
	CLC
	ADC #$0028
	TAX
	STX $10
	LDX $02
	LDA a:.LOWORD(RAM)+51,X
	AND #$00FF
	OPTIMIZED_MULT $04, 5
	LSR
	LSR
	STA $0E
	STA $02
	LDX $10
	LDA a:.LOWORD(RAM),X
	CMP $02
	BCC @UNKNOWN2
	BEQ @UNKNOWN2
	LDA $0E
	STA a:.LOWORD(RAM),X
@UNKNOWN2:
	PLD
	RTS

HEXADECIMATE_OFFENSE: ;$C27DDC
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	STA $02
	CLC
	ADC #$0026
	TAY
	LDA a:.LOWORD(RAM),Y
	LSR
	LSR
	LSR
	LSR
	BEQ @UNKNOWN0
	TAX
	BRA @UNKNOWN1
@UNKNOWN0:
	LDX #$0001
@UNKNOWN1:
	STX $04
	LDA a:.LOWORD(RAM),Y
	SEC
	SBC $04
	STA a:.LOWORD(RAM),Y
	LDA $02
	CLC
	ADC #$0026
	TAX
	STX $10
	LDX $02
	LDA a:.LOWORD(RAM)+50,X
	AND #$00FF
	OPTIMIZED_MULT $04, 3
	LSR
	LSR
	STA $0E
	STA $02
	LDX $10
	LDA a:.LOWORD(RAM),X
	CMP $02
	BCS @UNKNOWN2
	LDA $0E
	STA a:.LOWORD(RAM),X
@UNKNOWN2:
	PLD
	RTS

HEXADECIMATE_DEFENSE: ;$C27E33
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	STA $02
	CLC
	ADC #$0028
	TAY
	LDA a:.LOWORD(RAM),Y
	LSR
	LSR
	LSR
	LSR
	BEQ @UNKNOWN0
	TAX
	BRA @UNKNOWN1
@UNKNOWN0:
	LDX #$0001
@UNKNOWN1:
	STX $04
	LDA a:.LOWORD(RAM),Y
	SEC
	SBC $04
	STA a:.LOWORD(RAM),Y
	LDA $02
	CLC
	ADC #$0028
	TAX
	STX $10
	LDX $02
	LDA a:.LOWORD(RAM)+51,X
	AND #$00FF
	OPTIMIZED_MULT $04, 3
	LSR
	LSR
	STA $0E
	STA $02
	LDX $10
	LDA a:.LOWORD(RAM),X
	CMP $02
	BCS @UNKNOWN2
	LDA $0E
	STA a:.LOWORD(RAM),X
@UNKNOWN2:
	PLD
	RTS

SWAP_ATTACKER_WITH_TARGET: ;$C27E8A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDA .LOWORD(CURRENT_ATTACKER)
	STA $0E
	LDA .LOWORD(CURRENT_TARGET)
	STA .LOWORD(CURRENT_ATTACKER)
	LDA $0E
	STA .LOWORD(CURRENT_TARGET)
	LDA #$0000
	JSL FIX_ATTACKER_NAME
	JSL FIX_TARGET_NAME
	PLD
	RTS

.INCLUDE "battle/calc_damage.asm"

.INCLUDE "battle/calc_damage_reduction.asm"

.INCLUDE "battle/miss_calc.asm"

.INCLUDE "battle/smaaaash.asm"

.INCLUDE "battle/determine_dodge.asm"

.INCLUDE "battle/actions/level_2_attack.asm"

.INCLUDE "battle/heal_strangeness.asm"

.INCLUDE "battle/actions/bash.asm"

.INCLUDE "battle/actions/level_4_attack.asm"

.INCLUDE "battle/actions/level_3_attack.asm"

.INCLUDE "battle/actions/level_1_attack.asm"

.INCLUDE "battle/actions/shoot.asm"

.INCLUDE "battle/actions/spy.asm"

.INCLUDE "battle/actions/null.asm"

.INCLUDE "battle/actions/steal.asm"

.INCLUDE "battle/actions/freeze_time.asm"

.INCLUDE "battle/actions/diamondize.asm"

.INCLUDE "battle/actions/paralyze.asm"

.INCLUDE "battle/actions/nauseate.asm"

.INCLUDE "battle/actions/poison.asm"

.INCLUDE "battle/actions/cold.asm"

.INCLUDE "battle/actions/mushroomize.asm"

.INCLUDE "battle/actions/possess.asm"

.INCLUDE "battle/actions/crying.asm"

BTLACT_IMMOBILIZE: ;$C28CB8
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDY #$0003
	LDX #$0002
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6BD3
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTL

BTLACT_SOLIDIFY: ;$C28CF1
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN1
	JSR a:.LOWORD(SUCCESS_LUCK80)
	CMP #$0000
	BEQ @UNKNOWN0
	LDY #$0004
	LDX #$0002
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6BEF
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTL

REDIRECT_BTLACT_BRAINSHOCK_A: ;$C28D3A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL BTLACT_BRAINSHOCK_A
	RTL

SUCCESS_LUCK40: ;$C28D41
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$0028
	JSR a:.LOWORD(RAND_LIMIT)
	LDX .LOWORD(CURRENT_TARGET)
	CMP a:.LOWORD(RAM)+46,X
	BCS @UNKNOWN0
	LDA #$0000
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA #$0001
@UNKNOWN1:
	RTS

BTLACT_DISTRACT: ;$C28D5A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN1
	JSR a:.LOWORD(SUCCESS_LUCK40)
	CMP #$0000
	BEQ @UNKNOWN0
	LDX .LOWORD(CURRENT_TARGET)
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+55,X
	JSR a:.LOWORD(SUCCESS_255)
	.A16
	CMP #$0000
	BEQ @UNKNOWN0
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$0021
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	BNE @UNKNOWN0
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0004
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6C0B
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTL

BTLACT_FEELSTRANGE: ;$C28DBB
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN1
	LDY #$0001
	LDX #$0003
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6C3A
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTL

BTLACT_CRYING2: ;$C28DFC
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN1
	LDY #$0002
	TYX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6BBB
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTL

REDIRECT_BTLACT_HYPNOSIS_A: ;$C28E3B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL BTLACT_HYPNOSIS_A
	RTL

BTLACT_REDUCEPP: ;$C28E42
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+25,X
	BNE @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_C8FB05
	BRA @UNKNOWN3
@UNKNOWN0:
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+27,X
	LSR
	LSR
	LSR
	LSR
	BEQ @UNKNOWN2
	JSR a:.LOWORD(FIFTY_PERCENT_VARIANCE)
	TAY
	STY $16
	TYX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(REDUCE_PP)
	LOADPTR TEXT_BLOCK_EF7755, $0E
	LDY $16
	TYA
	STA $06
	STZ $08
	BPL @UNKNOWN1
	DEC $08
@UNKNOWN1:
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
	BRA @UNKNOWN3
@UNKNOWN2:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN3:
	PLD
	RTL

BTLACT_CUTGUTS: ;$C28EAE
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE6
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN1
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$002C
	TAX
	LDA a:.LOWORD(RAM),X
	TAY
	OPTIMIZED_MULT $04, 3
	LSR
	LSR
	STA a:.LOWORD(RAM),X
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$002C
	TAX
	STX $18
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+53,X
	AND #$00FF
	PHA
	ASL
	PLA
	ROR
	STA $16
	STA $02
	LDX $18
	LDA a:.LOWORD(RAM),X
	CMP $02
	BCS @UNKNOWN0
	LDA $16
	STA a:.LOWORD(RAM),X
@UNKNOWN0:
	LOADPTR TEXT_BLOCK_C8F7EE, $0E
	LDX .LOWORD(CURRENT_TARGET)
	TYA
	SEC
	SBC a:.LOWORD(RAM)+44,X
	STA $06
	STZ $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
@UNKNOWN1:
	PLD
	RTL

BTLACT_REDUCEOFFDEF: ;$C28F21
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN0
	LDX .LOWORD(CURRENT_TARGET)
	LDY a:.LOWORD(RAM)+38,X
	STY $16
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(HEXADECIMATE_OFFENSE)
	LOADPTR TEXT_BLOCK_C8F885, $0E
	LDX .LOWORD(CURRENT_TARGET)
	LDY $16
	TYA
	SEC
	SBC a:.LOWORD(RAM)+38,X
	STA $06
	STZ $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
	LDX .LOWORD(CURRENT_TARGET)
	LDY a:.LOWORD(RAM)+40,X
	STY $16
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(HEXADECIMATE_DEFENSE)
	LOADPTR TEXT_BLOCK_C8F8A2, $0E
	LDX .LOWORD(CURRENT_TARGET)
	LDY $16
	TYA
	SEC
	SBC a:.LOWORD(RAM)+40,X
	STA $06
	STZ $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
@UNKNOWN0:
	PLD
	RTL

BTLACT_LEVEL_2_ATK_POISON: ;$C28F97
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN1
	LDA #$0000
	JSR a:.LOWORD(MISS_CALC)
	CMP #$0000
	BNE @UNKNOWN1
	JSR a:.LOWORD(SMAAAASH)
	CMP #$0000
	BNE @UNKNOWN1
	JSR a:.LOWORD(DETERMINE_DODGE)
	CMP #$0000
	BNE @UNKNOWN0
	JSR a:.LOWORD(BTLACT_LEVEL_2_ATK)
	JSR a:.LOWORD(HEAL_STRANGENESS)
	LDY #$0005
	LDX #$0000
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	CMP #$0000
	BEQ @UNKNOWN1
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6B18
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF7655
@UNKNOWN1:
	PLD
	RTL

BTLACT_DOUBLE_BASH: ;$C28FF9
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL BTLACT_BASH
	JSL BTLACT_BASH
	RTL

REDIRECT_BTLACT_NULL: ;$C29004
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL BTLACT_NULL
	RTL

BTLACT_350_FIRE_DAMAGE: ;$C2900B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDA #$015E
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	STA $0E
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+58,X
	AND #$00FF
	TAX
	LDA $0E
	JSR a:.LOWORD(CALC_RESIST_DAMAGE)
	PLD
	RTL

REDIRECT_BTLACT_LEVEL_3_ATK: ;$C2902C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL BTLACT_LEVEL_3_ATK
	RTL

BTLACT_NULL2: ;$C29033
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RTL

BTLACT_NULL3: ;$C29036
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RTL

BTLACT_NULL4: ;$C29039
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RTL

BTLACT_NULL5: ;$C2903C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RTL

BTLACT_NULL6: ;$C2903F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RTL

BTLACT_NULL7: ;$C29042
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RTL

BTLACT_NULL8: ;$C29045
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RTL

BTLACT_NULL9: ;$C29048
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RTL

BTLACT_NULL10: ;$C2904B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RTL

BTLACT_NULL11: ;$C2904E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RTL

BTLACT_NEUTRALIZE: ;$C29051
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM) + battler::base_offense,X
	AND #$00FF
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM) + battler::offense,X
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM) + battler::base_defense,X
	AND #$00FF
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM) + battler::defense,X
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM) + battler::base_speed,X
	AND #$00FF
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM) + battler::speed,X
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM) + battler::base_guts,X
	AND #$00FF
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM) + battler::guts,X
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM) + battler::base_luck,X
	AND #$00FF
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM) + battler::luck,X
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM) + battler::shield_hp,X
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM) + battler::afflictions + STATUS_GROUP::SHIELD,X
	REP #PROC_FLAGS::ACCUM8
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF7123
	PLD
	RTL

UNKNOWN_C290C6: ;$C290C6
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDA .LOWORD(MIRROR_ENEMY)
	BEQ @UNKNOWN3
	LDX #.LOWORD(BATTLERS_TABLE)
	STX $16
	LDY #$0000
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA a:.LOWORD(RAM)+12,X
	AND #$00FF
	BEQ @UNKNOWN1
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	BNE @UNKNOWN1
	LDA a:.LOWORD(RAM),X
	CMP #$0004
	BNE @UNKNOWN1
	STZ .LOWORD(MIRROR_ENEMY)
	TXA
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA #$AA14
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL COPY_MIRROR_DATA
	LDX $16
	STZ a:.LOWORD(RAM)+4,X
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF7142
	BRA @UNKNOWN3
@UNKNOWN1:
	TXA
	CLC
	ADC #$004E
	TAX
	STX $16
	INY
@UNKNOWN2:
	CPY #$0020
	BCC @UNKNOWN0
@UNKNOWN3:
	JSL TARGET_ALL
	JSR a:.LOWORD(REMOVE_DEAD_TARGETTING)
	LOADPTR BTLACT_NEUTRALIZE, $0E
	JSL UNKNOWN_C240A4
	LDA #$0000
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA #$0000
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
	PLD
	RTL

BTLACT_LVL_2_ATK_DIAMONDIZE: ;$C2916E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BEQ @UNKNOWN0
	JMP a:.LOWORD(@UNKNOWN7)
@UNKNOWN0:
	LDA #$0000
	JSR a:.LOWORD(MISS_CALC)
	CMP #$0000
	BEQ @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN7)
@UNKNOWN1:
	JSR a:.LOWORD(SMAAAASH)
	CMP #$0000
	BEQ @UNKNOWN2
	JMP a:.LOWORD(@UNKNOWN7)
@UNKNOWN2:
	JSR a:.LOWORD(DETERMINE_DODGE)
	CMP #$0000
	BEQ @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN6)
@UNKNOWN3:
	JSR a:.LOWORD(BTLACT_LEVEL_2_ATK)
	JSR a:.LOWORD(HEAL_STRANGENESS)
	JSR a:.LOWORD(SUCCESS_LUCK80)
	CMP #$0000
	BNE @UNKNOWN4
	JMP a:.LOWORD(@UNKNOWN7)
@UNKNOWN4:
	LDY #$0002
	LDX #$0000
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	CMP #$0000
	BNE @UNKNOWN5
	JMP a:.LOWORD(@UNKNOWN7)
@UNKNOWN5:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM)+35,X
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM)+34,X
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM)+33,X
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM)+32,X
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM)+31,X
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM)+30,X
	REP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$003F
	TAY
	LDA a:.LOWORD(RAM),Y
	STA $0A
	LDA a:.LOWORD(RAM)+2,Y
	STA $0C
	LDA .LOWORD(BATTLE_EXP_SCRATCH)
	STA $06
	LDA .LOWORD(BATTLE_EXP_SCRATCH)+2
	STA $08
	CLC
	LDA $06
	ADC $0A
	STA $06
	LDA $08
	ADC $0C
	STA $08
	LDA $06
	STA .LOWORD(BATTLE_EXP_SCRATCH)
	LDA $08
	STA .LOWORD(BATTLE_EXP_SCRATCH)+2
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+61,X
	CLC
	ADC .LOWORD(BATTLE_MONEY_SCRATCH)
	STA .LOWORD(BATTLE_MONEY_SCRATCH)
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6AC7
	BRA @UNKNOWN7
@UNKNOWN6:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF7655
@UNKNOWN7:
	PLD
	RTL

BTLACT_REDUCEOFF: ;$C29254
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN0
	LDX .LOWORD(CURRENT_TARGET)
	LDY a:.LOWORD(RAM)+38,X
	STY $16
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(HEXADECIMATE_OFFENSE)
	LOADPTR TEXT_BLOCK_C8F885, $0E
	LDX .LOWORD(CURRENT_TARGET)
	LDY $16
	TYA
	SEC
	SBC a:.LOWORD(RAM)+38,X
	STA $06
	STZ $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
@UNKNOWN0:
	PLD
	RTL

BTLACT_CLUMSYDEATH: ;$C29298
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA f:PSI_TELEPORT_DEST_TABLE+.SIZEOF(psi_teleport_destination) * 13 + psi_teleport_destination::event_flag
	JSL GET_EVENT_FLAG
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF733D
	SEP #PROC_FLAGS::ACCUM8
	LDA #TELEPORT_STYLE::INSTANT
	STA $0E
	LDA #$000F
	JSL SET_TELEPORT_STATE
	.A16
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF72F7
	SEP #PROC_FLAGS::ACCUM8
	LDA #TELEPORT_STYLE::INSTANT
	STA $0E
	LDA #$000D
	JSL SET_TELEPORT_STATE
	.A16
	LDA #$0001
	STA .LOWORD(UNKNOWN_7EAA0E)
@UNKNOWN1:
	PLD
	RTL

BTLACT_ENEMYEXTEND: ;$C292EB
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RTL

BTLACT_MASTERBARFDEATH: ;$C292EE
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDA .LOWORD(CURRENT_ATTACKER)
	STA $04
	LDA .LOWORD(CURRENT_TARGET)
	STA $02
	STA $16
	JSL REDIRECT_HIDE_HPPP_WINDOWS
	LDA #PARTY_MEMBER::POO
	JSL ADD_CHAR_TO_PARTY
	LDA #$0000
	STA $14
	BRA @UNKNOWN7
@UNKNOWN0:
	LDA $14
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	LDA .LOWORD(BATTLERS_TABLE)+battler::consciousness,X
	AND #$00FF
	BNE @UNKNOWN6
	TXA
	CLC
	ADC #.LOWORD(BATTLERS_TABLE)
	TAY
	STY $14
	TYX
	LDA #PARTY_MEMBER::POO
	JSL BATTLE_INIT_PLAYER_STATS
	LDY $14
	STY .LOWORD(CURRENT_ATTACKER)
	JSL REDIRECT_SHOW_HPPP_WINDOWS
	LDX #$0000
	BRA @UNKNOWN3
@UNKNOWN1:
	LDA .LOWORD(GAME_STATE)+122,X
	AND #$00FF
	CMP #$0004
	BNE @UNKNOWN2
	TXA
	JSL REDIRECT_C43573
	BRA @UNKNOWN9
@UNKNOWN2:
	INX
@UNKNOWN3:
	STX $02
	LDA #$0006
	CLC
	SBC $02
	BVS @UNKNOWN4
	BPL @UNKNOWN1
	BRA @UNKNOWN5
@UNKNOWN4:
	BMI @UNKNOWN1
@UNKNOWN5:
	BRA @UNKNOWN9
@UNKNOWN6:
	LDA $14
	INC
	STA $14
@UNKNOWN7:
	STA $02
	LDA #BATTLER_COUNT
	CLC
	SBC $02
	BVS @UNKNOWN8
	BPL @UNKNOWN0
	BRA @UNKNOWN9
@UNKNOWN8:
	BMI @UNKNOWN0
@UNKNOWN9:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF743B
	LDA #$0000
	JSL FIX_ATTACKER_NAME
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0015
	JSL REDIRECT_C1ACF8
	LDA f:BATTLE_ACTION_TABLE+364
	STA $06
	LDA f:BATTLE_ACTION_TABLE+366
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSL DISPLAY_IN_BATTLE_TEXT
	LDY #$0000
	STY $12
	BRA @UNKNOWN12
@UNKNOWN10:
	TYA
	LDY #.SIZEOF(battler)
	JSL MULT168
	.A16
	TAX
	LDA .LOWORD(BATTLERS_TABLE)+battler::consciousness,X
	AND #$00FF
	BEQ @UNKNOWN11
	LDA .LOWORD(BATTLERS_TABLE)+battler::ally_or_enemy,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN11
	TXA
	CLC
	ADC #.LOWORD(BATTLERS_TABLE)
	STA .LOWORD(CURRENT_TARGET)
	JSL FIX_TARGET_NAME
	LDA #$0168
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	TAX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(CALC_DAMAGE)
@UNKNOWN11:
	LDY $12
	INY
	STY $12
@UNKNOWN12:
	STY $02
	LDA #$0020
	CLC
	SBC $02
	BVS @UNKNOWN13
	BPL @UNKNOWN10
	BRA @UNKNOWN14
@UNKNOWN13:
	BMI @UNKNOWN10
@UNKNOWN14:
	LDA $04
	STA .LOWORD(CURRENT_ATTACKER)
	LDA $16
	STA $02
	STA .LOWORD(CURRENT_TARGET)
	LDA #$0000
	JSL FIX_ATTACKER_NAME
	JSL FIX_TARGET_NAME
	PLD
	RTL

PSI_SHIELD_NULLIFY: ;$C2941D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA #$0001
	STA .LOWORD(UNKNOWN_7EAA94)
	LDX .LOWORD(CURRENT_ATTACKER)
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+8,X
	JSL REDIRECT_C1ACF8
	.A16
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM)+4,X
	OPTIMIZED_MULT $04, 12
	TAX
	INX
	INX
	LDA f:BATTLE_ACTION_TABLE,X
	AND #$00FF
	CMP #$0003
	BEQ @UNKNOWN2
	LDA #$0000
	BRA @RETURN
@UNKNOWN2:
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+35,X
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN3
	CMP #$0002
	BEQ @UNKNOWN4
	BRA @UNKNOWN6
@UNKNOWN3:
	.A16
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF70D2
	LDA #$0001
	STA .LOWORD(UNKNOWN_7EAA96)
	JSR a:.LOWORD(SWAP_ATTACKER_WITH_TARGET)
	BRA @UNKNOWN6
@UNKNOWN4:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF70FA
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$0025
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	DEC
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	BNE @UNKNOWN5
	LDX .LOWORD(CURRENT_TARGET)
	SEP #PROC_FLAGS::ACCUM8
	STZ a:.LOWORD(RAM)+35,X
	REP #PROC_FLAGS::ACCUM8
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF7099
@UNKNOWN5:
	LDA #$0001
	BRA @RETURN
@UNKNOWN6:
	LDA #$0000
@RETURN:
	PLD
	RTS

WEAKEN_SHIELD: ;$C294CE
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	STZ .LOWORD(UNKNOWN_7EAA94)
	LDA .LOWORD(UNKNOWN_7EAA96)
	BEQ @UNKNOWN1
	JSR a:.LOWORD(SWAP_ATTACKER_WITH_TARGET)
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$0025
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	DEC
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	BNE @UNKNOWN0
	LDX .LOWORD(CURRENT_TARGET)
	SEP #PROC_FLAGS::ACCUM8
	STZ a:.LOWORD(RAM)+35,X
	REP #PROC_FLAGS::ACCUM8
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF7099
@UNKNOWN0:
	STZ .LOWORD(UNKNOWN_7EAA96)
@UNKNOWN1:
	PLD
	RTS

PSI_ROCKIN_COMMON: ;$C29516
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEA
	TCD
	PLA
	TAX
	STX $14
	JSR a:.LOWORD(PSI_SHIELD_NULLIFY)
	CMP #$0000
	BNE @UNKNOWN2
	LDX $14
	TXA
	JSR a:.LOWORD(FIFTY_PERCENT_VARIANCE)
	STA $12
	JSR a:.LOWORD(DETERMINE_DODGE)
	TAX
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
	BRA @UNKNOWN1
@UNKNOWN0:
	LDX #$00FF
	LDA $12
	JSR a:.LOWORD(CALC_RESIST_DAMAGE)
@UNKNOWN1:
	JSR a:.LOWORD(WEAKEN_SHIELD)
@UNKNOWN2:
	PLD
	RTS

BTLACT_PSI_ROCKIN_A: ;$C29556
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #ROCKIN_ALPHA_DAMAGE
	JSR a:.LOWORD(PSI_ROCKIN_COMMON)
	RTL

BTLACT_PSI_ROCKIN_B: ;$C2955F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #ROCKIN_BETA_DAMAGE
	JSR a:.LOWORD(PSI_ROCKIN_COMMON)
	RTL

BTLACT_PSI_ROCKIN_G: ;$C29568
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #ROCKIN_GAMMA_DAMAGE
	JSR a:.LOWORD(PSI_ROCKIN_COMMON)
	RTL

BTLACT_PSI_ROCKIN_O: ;$C29571
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #ROCKIN_OMEGA_DAMAGE
	JSR a:.LOWORD(PSI_ROCKIN_COMMON)
	RTL

PSI_FIRE_COMMON: ;$C2957A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TAX
	STX $0E
	JSR a:.LOWORD(PSI_SHIELD_NULLIFY)
	CMP #$0000
	BNE @UNKNOWN0
	LDX $0E
	TXA
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	STA $0E
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+58,X
	AND #$00FF
	TAX
	LDA $0E
	JSR a:.LOWORD(CALC_RESIST_DAMAGE)
	JSR a:.LOWORD(WEAKEN_SHIELD)
@UNKNOWN0:
	PLD
	RTS

BTLACT_PSI_FIRE_A: ;$C295AB
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #FIRE_ALPHA_DAMAGE
	JSR a:.LOWORD(PSI_FIRE_COMMON)
	RTL

BTLACT_PSI_FIRE_B: ;$C295B4
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #FIRE_BETA_DAMAGE
	JSR a:.LOWORD(PSI_FIRE_COMMON)
	RTL

BTLACT_PSI_FIRE_G: ;$C295BD
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #FIRE_GAMMA_DAMAGE
	JSR a:.LOWORD(PSI_FIRE_COMMON)
	RTL

BTLACT_PSI_FIRE_O: ;$C295C6
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #FIRE_OMEGA_DAMAGE
	JSR a:.LOWORD(PSI_FIRE_COMMON)
	RTL

PSI_FREEZE_COMMON: ;$C295CF
    .DEFINE TMPDAMAGE $12
    .DEFINE DAMAGEDONE $14
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEA
	TCD
	PLA
	TAX
	STX DAMAGEDONE
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE PSI_FREEZE_COMMON_RETURN
	JSR a:.LOWORD(PSI_SHIELD_NULLIFY)
	CMP #$0000
	BNE PSI_FREEZE_COMMON_RETURN
	LDX DAMAGEDONE
	TXA
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	STA TMPDAMAGE
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+56,X
	AND #$00FF
	TAX
	LDA TMPDAMAGE
	JSR a:.LOWORD(CALC_RESIST_DAMAGE)
	TAX
	STX DAMAGEDONE
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+29,X
	AND #$00FF
	CMP #$0001
	BEQ PSI_FREEZE_COMMON_WEAKEN_SHIELD
	LDX DAMAGEDONE
	BEQ PSI_FREEZE_COMMON_WEAKEN_SHIELD
	LDA #$0064
	JSR a:.LOWORD(RAND_LIMIT)
	CMP #$0019
	BCS PSI_FREEZE_COMMON_WEAKEN_SHIELD
	LDY #$0004
	LDX #$0002
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	CMP #$0000
	BEQ PSI_FREEZE_COMMON_WEAKEN_SHIELD
	LOADPTR TEXT_BLOCK_EF6BEF, $0E
	JSL DISPLAY_IN_BATTLE_TEXT
PSI_FREEZE_COMMON_WEAKEN_SHIELD:
	JSR a:.LOWORD(WEAKEN_SHIELD)
PSI_FREEZE_COMMON_RETURN:
	PLD
	RTS

BTLACT_PSI_FREEZE_A: ;$C29647
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #FREEZE_ALPHA_DAMAGE
	JSR a:.LOWORD(PSI_FREEZE_COMMON)
	RTL

BTLACT_PSI_FREEZE_B: ;$C29650
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #FREEZE_BETA_DAMAGE
	JSR a:.LOWORD(PSI_FREEZE_COMMON)
	RTL

BTLACT_PSI_FREEZE_G: ;$C29659
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #FREEZE_GAMMA_DAMAGE
	JSR a:.LOWORD(PSI_FREEZE_COMMON)
	RTL

BTLACT_PSI_FREEZE_O: ;$C29662
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #FREEZE_OMEGA_DAMAGE
	JSR a:.LOWORD(PSI_FREEZE_COMMON)
	RTL

PSI_THUNDER_COMMON: ;$C2966B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE4
	TCD
	PLA
	STX $1A
	STA $04
	LDY #$0000
	STY $18
	TYX
	STX $16
	BRA @UNKNOWN2
@UNKNOWN0:
	TXA
	JSL IS_CHAR_TARGETTED
	CMP #$0000
	BEQ @UNKNOWN1
	LDY $18
	INY
	STY $18
@UNKNOWN1:
	LDX $16
	INX
	STX $16
@UNKNOWN2:
	CPX #$0020
	BCC @UNKNOWN0
	LDY $18
	TYA
	ASL
	ASL
	ASL
	ASL
	ASL
	ASL
	STA $02
	CMP #$0100
	BCC @UNKNOWN3
	LDA #$00FF
	STA $02
@UNKNOWN3:
	LDA .LOWORD(BATTLER_TARGET_FLAGS)
	STA $06
	LDA .LOWORD(BATTLER_TARGET_FLAGS)+2
	STA $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	LDY #$0000
	STY $18
	JMP a:.LOWORD(@UNKNOWN20)
@UNKNOWN4:
	LDA $12
	STA $06
	LDA $14
	STA $08
	LDA $06
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA $08
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
	JSL UNKNOWN_C2416F
	LDA #$0000
	STA $06
	LDA #$0000
	STA $08
	LDA .LOWORD(BATTLER_TARGET_FLAGS)
	STA $0A
	LDA .LOWORD(BATTLER_TARGET_FLAGS)+2
	STA $0C
	CMP $08
	BNE @UNKNOWN5
	LDA $0A
	CMP $06
@UNKNOWN5:
	BNE @UNKNOWN6
	JMP a:.LOWORD(@UNKNOWN21)
@UNKNOWN6:
	LDA .LOWORD(BATTLER_TARGET_FLAGS)
	STA $06
	LDA .LOWORD(BATTLER_TARGET_FLAGS)+2
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSL RANDOM_TARGETTING
	LDA $06
	STA $0A
	LDA $08
	STA $0C
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	LDA $06
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA $08
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
	LDX #$0000
	STX $16
	BRA @UNKNOWN8
@UNKNOWN7:
	TXA
	JSL IS_CHAR_TARGETTED
	CMP #$0000
	BNE @UNKNOWN9
	LDX $16
	INX
	STX $16
@UNKNOWN8:
	CPX #$0020
	BCC @UNKNOWN7
@UNKNOWN9:
	LDX $16
	TXA
	LDY #$004E
	JSL MULT168
	CLC
	ADC #.LOWORD(BATTLERS_TABLE)
	STA .LOWORD(CURRENT_TARGET)
	JSL FIX_TARGET_NAME
	LDA $02
	SEP #PROC_FLAGS::ACCUM8
	JSR a:.LOWORD(SUCCESS_255)
	.A16
	CMP #$0000
	BNE @UNKNOWN10
	JMP a:.LOWORD(@UNKNOWN18)
@UNKNOWN10:
	.A16
	LDA $04
	CMP #$0078
	BNE @UNKNOWN11
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF8814
	BRA @UNKNOWN13
@UNKNOWN11:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF8823
	BRA @UNKNOWN13
@UNKNOWN12:
	JSL UNKNOWN_C12DD5
@UNKNOWN13:
	JSL UNKNOWN_C2EACF
	CMP #$0000
	BNE @UNKNOWN12
	LDX .LOWORD(CURRENT_TARGET)
	SEP #PROC_FLAGS::ACCUM8
	STZ a:.LOWORD(RAM)+battler::id2,X
	LDX .LOWORD(CURRENT_TARGET)
	REP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+battler::ally_or_enemy,X
	AND #$00FF
	BNE @UNKNOWN14
	LDX #$0001
	STX $16
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+battler::row,X
	AND #$00FF
	INC
	LDX $16
	JSL FIND_ITEM_IN_INVENTORY2
	CMP #$0000
	BEQ @UNKNOWN14
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF7160
	LDA #$0001
	STA .LOWORD(UNKNOWN_7EAA96)
	JSR a:.LOWORD(SWAP_ATTACKER_WITH_TARGET)
@UNKNOWN14:
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM) + battler::afflictions + STATUS_GROUP::SHIELD,X
	AND #$00FF
	TAX
	CPX #$0001
	BEQ @UNKNOWN15
	CPX #$0002
	BNE @UNKNOWN16
@UNKNOWN15:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM)+battler::shield_hp,X
@UNKNOWN16:
	JSR a:.LOWORD(PSI_SHIELD_NULLIFY)
	.A16
	CMP #$0000
	BNE @UNKNOWN17
	LDA $04
	JSR a:.LOWORD(FIFTY_PERCENT_VARIANCE)
	LDX #$00FF
	JSR a:.LOWORD(CALC_RESIST_DAMAGE)
@UNKNOWN17:
	JSR a:.LOWORD(WEAKEN_SHIELD)
	BRA @UNKNOWN19
@UNKNOWN18:
	.A16
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF8837
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_C8FAF6
@UNKNOWN19:
	LDA #$0000
	JSL COUNT_CHARS
	CMP #$0000
	BEQ @UNKNOWN21
	LDA #$0001
	JSL COUNT_CHARS
	CMP #$0000
	BEQ @UNKNOWN21
	LDY $18
	INY
	STY $18
@UNKNOWN20:
	CPY $1A
	BCS @UNKNOWN21
	BEQ @UNKNOWN21
	JMP a:.LOWORD(@UNKNOWN4)
@UNKNOWN21:
	LDA #$0000
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA #$0000
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
	PLD
	RTS

BTLACT_PSI_THUNDER_A: ;$C29871
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDX #THUNDER_ALPHA_HITS
	LDA #THUNDER_ALPHA_DAMAGE
	JSR a:.LOWORD(PSI_THUNDER_COMMON)
	RTL

BTLACT_PSI_THUNDER_B: ;$C2987D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDX #THUNDER_BETA_HITS
	LDA #THUNDER_BETA_DAMAGE
	JSR a:.LOWORD(PSI_THUNDER_COMMON)
	RTL

BTLACT_PSI_THUNDER_G: ;$C29889
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDX #THUNDER_GAMMA_HITS
	LDA #THUNDER_GAMMA_DAMAGE
	JSR a:.LOWORD(PSI_THUNDER_COMMON)
	RTL

BTLACT_PSI_THUNDER_O: ;$C29895
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDX #THUNDER_OMEGA_HITS
	LDA #THUNDER_OMEGA_DAMAGE
	JSR a:.LOWORD(PSI_THUNDER_COMMON)
	RTL

FLASH_IMMUNITY_TEST: ;$C298A1
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	JSR a:.LOWORD(PSI_SHIELD_NULLIFY)
	CMP #$0000
	BEQ @UNKNOWN0
	LDA #$0000
	BRA @UNKNOWN2
@UNKNOWN0:
	LDX .LOWORD(CURRENT_TARGET)
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+57,X
	JSR a:.LOWORD(SUCCESS_255)
	.A16
	CMP #$0000
	BEQ @UNKNOWN1
	LDA #$0001
	BRA @UNKNOWN2
@UNKNOWN1:
	.A16
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
	LDA #$0000
@UNKNOWN2:
	PLD
	RTS

FLASH_INFLICT_FEELING_STRANGE: ;$C298DE
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDY #$0001
	LDX #$0003
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6C3A
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTS

FLASH_INFLICT_PARALYSIS: ;$C29917
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDY #$0003
	LDX #$0000
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6AE0
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTS

FLASH_INFLICT_CRYING: ;$C29950
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDY #$0002
	TYX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6BBB
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTS

BTLACT_PSI_FLASH_A: ;$C29987
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN2
	JSR a:.LOWORD(FLASH_IMMUNITY_TEST)
	CMP #$0000
	BEQ @UNKNOWN1
	JSL RAND
	AND #$0007
	BNE @UNKNOWN0
	JSR a:.LOWORD(FLASH_INFLICT_FEELING_STRANGE)
	BRA @UNKNOWN1
@UNKNOWN0:
	JSR a:.LOWORD(FLASH_INFLICT_CRYING)
@UNKNOWN1:
	JSR a:.LOWORD(WEAKEN_SHIELD)
@UNKNOWN2:
	RTL

BTLACT_PSI_FLASH_B: ;$C299AE
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN5
	JSR a:.LOWORD(FLASH_IMMUNITY_TEST)
	CMP #$0000
	BEQ @UNKNOWN4
	JSL RAND
	AND #$0007
	BEQ @UNKNOWN0
	CMP #$0001
	BEQ @UNKNOWN1
	CMP #$0002
	BEQ @UNKNOWN2
	BRA @UNKNOWN3
@UNKNOWN0:
	LDA .LOWORD(CURRENT_TARGET)
	JSL KO_TARGET
	BRA @UNKNOWN4
@UNKNOWN1:
	JSR a:.LOWORD(FLASH_INFLICT_PARALYSIS)
	BRA @UNKNOWN4
@UNKNOWN2:
	JSR a:.LOWORD(FLASH_INFLICT_FEELING_STRANGE)
	BRA @UNKNOWN4
@UNKNOWN3:
	JSR a:.LOWORD(FLASH_INFLICT_CRYING)
@UNKNOWN4:
	JSR a:.LOWORD(WEAKEN_SHIELD)
@UNKNOWN5:
	RTL

BTLACT_PSI_FLASH_G: ;$C299EF
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN5
	JSR a:.LOWORD(FLASH_IMMUNITY_TEST)
	CMP #$0000
	BEQ @UNKNOWN4
	JSL RAND
	AND #$0007
	BEQ @UNKNOWN0
	CMP #$0001
	BEQ @UNKNOWN0
	CMP #$0002
	BEQ @UNKNOWN1
	CMP #$0003
	BEQ @UNKNOWN2
	BRA @UNKNOWN3
@UNKNOWN0:
	LDA .LOWORD(CURRENT_TARGET)
	JSL KO_TARGET
	BRA @UNKNOWN4
@UNKNOWN1:
	JSR a:.LOWORD(FLASH_INFLICT_PARALYSIS)
	BRA @UNKNOWN4
@UNKNOWN2:
	JSR a:.LOWORD(FLASH_INFLICT_FEELING_STRANGE)
	BRA @UNKNOWN4
@UNKNOWN3:
	JSR a:.LOWORD(FLASH_INFLICT_CRYING)
@UNKNOWN4:
	JSR a:.LOWORD(WEAKEN_SHIELD)
@UNKNOWN5:
	RTL

BTLACT_PSI_FLASH_O: ;$C29A35
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN5
	JSR a:.LOWORD(FLASH_IMMUNITY_TEST)
	CMP #$0000
	BEQ @UNKNOWN4
	JSL RAND
	AND #$0007
	BEQ @UNKNOWN0
	CMP #$0001
	BEQ @UNKNOWN0
	CMP #$0002
	BEQ @UNKNOWN0
	CMP #$0003
	BEQ @UNKNOWN1
	CMP #$0004
	BEQ @UNKNOWN2
	BRA @UNKNOWN3
@UNKNOWN0:
	LDA .LOWORD(CURRENT_TARGET)
	JSL KO_TARGET
	BRA @UNKNOWN4
@UNKNOWN1:
	JSR a:.LOWORD(FLASH_INFLICT_PARALYSIS)
	BRA @UNKNOWN4
@UNKNOWN2:
	JSR a:.LOWORD(FLASH_INFLICT_FEELING_STRANGE)
	BRA @UNKNOWN4
@UNKNOWN3:
	JSR a:.LOWORD(FLASH_INFLICT_CRYING)
@UNKNOWN4:
	JSR a:.LOWORD(WEAKEN_SHIELD)
@UNKNOWN5:
	RTL

PSI_STARSTORM_COMMON: ;$C29A80
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TAX
	STX $0E
	JSR a:.LOWORD(PSI_SHIELD_NULLIFY)
	CMP #$0000
	BNE @UNKNOWN0
	LDX $0E
	TXA
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	LDX #$00FF
	JSR a:.LOWORD(CALC_RESIST_DAMAGE)
	JSR a:.LOWORD(WEAKEN_SHIELD)
@UNKNOWN0:
	PLD
	RTS

BTLACT_PSI_STARSTORM_A: ;$C29AA6
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #STARSTORM_ALPHA_DAMAGE
	JSR a:.LOWORD(PSI_STARSTORM_COMMON)
	RTL

BTLACT_PSI_STARSTORM_O: ;$C29AAF
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #STARSTORM_OMEGA_DAMAGE
	JSR a:.LOWORD(PSI_STARSTORM_COMMON)
	RTL

LIFEUP_COMMON: ;$C29AB8
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	TAX
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	TAX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(RECOVER_HP)
	RTS

BTLACT_LIFEUP_A: ;$C29AC6
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #LIFEUP_ALPHA_HEALING
	JSR a:.LOWORD(LIFEUP_COMMON)
	RTL

BTLACT_LIFEUP_B: ;$C29ACF
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #LIFEUP_BETA_HEALING
	JSR a:.LOWORD(LIFEUP_COMMON)
	RTL

BTLACT_LIFEUP_G: ;$C29AD8
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #LIFEUP_GAMMA_HEALING
	JSR a:.LOWORD(LIFEUP_COMMON)
	RTL

BTLACT_LIFEUP_O: ;$C29AE1
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #LIFEUP_OMEGA_HEALING
	JSR a:.LOWORD(LIFEUP_COMMON)
	RTL

BTLACT_HEALING_A: ;$C29AEA
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$001D
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	CMP #$0007
	BEQ @UNKNOWN0
	CMP #$0006
	BEQ @UNKNOWN1
	BRA @UNKNOWN2
@UNKNOWN0:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6EBC
	BRA @UNKNOWN4
@UNKNOWN1:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6F38
	BRA @UNKNOWN4
@UNKNOWN2:
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$001F
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN3
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6F54
	BRA @UNKNOWN4
@UNKNOWN3:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF7696
@UNKNOWN4:
	PLD
	RTL

BTLACT_HEALING_B: ;$C29B7A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$001D
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	CMP #$0005
	BEQ @UNKNOWN0
	CMP #$0004
	BEQ @UNKNOWN1
	BRA @UNKNOWN2
@UNKNOWN0:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6E97
	BRA @UNKNOWN5
@UNKNOWN1:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6E81
	BRA @UNKNOWN5
@UNKNOWN2:
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$001F
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	CMP #$0002
	BNE @UNKNOWN3
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6ED1
	BRA @UNKNOWN5
@UNKNOWN3:
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$0020
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN4
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6F1E
	BRA @UNKNOWN5
@UNKNOWN4:
	JSL BTLACT_HEALING_A
@UNKNOWN5:
	PLD
	RTL

BTLACT_HEALING_G: ;$C29C2C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$001D
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	CMP #$0003
	BEQ @UNKNOWN0
	CMP #$0002
	BEQ @UNKNOWN1
	CMP #$0001
	BEQ @UNKNOWN2
	BRA @UNKNOWN4
@UNKNOWN0:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6E67
	BRA @UNKNOWN5
@UNKNOWN1:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6E4A
	BRA @UNKNOWN5
@UNKNOWN2:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$00C0
	JSR a:.LOWORD(SUCCESS_255)
	.A16
	CMP #$0000
	BEQ @UNKNOWN3
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+21,X
	LSR
	LSR
	TAX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(REVIVE_TARGET)
	BRA @UNKNOWN5
@UNKNOWN3:
	.A16
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6F8E
	BRA @UNKNOWN5
@UNKNOWN4:
	JSL BTLACT_HEALING_B
@UNKNOWN5:
	PLD
	RTL

BTLACT_HEALING_O: ;$C29CB8
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+29,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN0
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+21,X
	TAX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(REVIVE_TARGET)
	BRA @UNKNOWN1
@UNKNOWN0:
	JSL BTLACT_HEALING_G
@UNKNOWN1:
	RTL

SHIELDS_COMMON: ;$C29CDC
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TXY
	STA $0E
	CLC
	ADC #$0023
	TAX
	STY $02
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	CMP $02
	BNE @UNKNOWN3
	LDA $0E
	CLC
	ADC #$0025
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	INC
	INC
	INC
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	CLC
	SBC #$0008
	BVC @UNKNOWN0
	BPL @UNKNOWN2
	BRA @UNKNOWN1
@UNKNOWN0:
	BMI @UNKNOWN2
@UNKNOWN1:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0008
	STA a:.LOWORD(RAM),X
@UNKNOWN2:
	REP #PROC_FLAGS::ACCUM8
	LDA #$0001
	BRA @UNKNOWN4
@UNKNOWN3:
	TYA
	SEP #PROC_FLAGS::ACCUM8
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	LDA $0E
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0003
	STA a:.LOWORD(RAM) + battler::shield_hp,X
	REP #PROC_FLAGS::ACCUM8
	LDA #$0000
@UNKNOWN4:
	PLD
	RTS

BTLACT_SHIELD_A: ;$C29D44
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDX #STATUS_6::SHIELD
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(SHIELDS_COMMON)
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6FBD
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6F9A
@UNKNOWN1:
	PLD
	RTL

REDIRECT_BTLACT_SHIELD_A: ;$C29D7A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL BTLACT_SHIELD_A
	RTL

BTLACT_SHIELD_B: ;$C29D81
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDX #STATUS_6::SHIELD_POWER
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(SHIELDS_COMMON)
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6FF4
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6FD3
@UNKNOWN1:
	PLD
	RTL

REDIRECT_BTLACT_SHIELD_B: ;$C29DB7
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL BTLACT_SHIELD_B
	RTL

BTLACT_PSI_SHIELD_A: ;$C29DBE
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDX #STATUS_6::PSI_SHIELD
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(SHIELDS_COMMON)
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF7032
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF700C
@UNKNOWN1:
	PLD
	RTL

REDIRECT_BTLACT_PSI_SHIELD_A: ;$C29DF4
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL BTLACT_PSI_SHIELD_A
	RTL

BTLACT_PSI_SHIELD_B: ;$C29DFB
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDX #STATUS_6::PSI_SHIELD_POWER
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(SHIELDS_COMMON)
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF707A
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF7050
@UNKNOWN1:
	PLD
	RTL

REDIRECT_BTLACT_PSI_SHIELD_B: ;$C29E31
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL BTLACT_PSI_SHIELD_B
	RTL

BTLACT_OFFENSE_UP_A: ;$C29E38
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN0
	LDX .LOWORD(CURRENT_TARGET)
	LDY a:.LOWORD(RAM)+38,X
	STY $16
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INCREASE_OFFENSE_16TH)
	LOADPTR TEXT_BLOCK_C8F77D, $0E
	LDY $16
	STY $02
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+38,X
	SEC
	SBC $02
	STA $06
	STZ $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
@UNKNOWN0:
	PLD
	RTL

REDIRECT_BTLACT_OFFENSE_UP_A: ;$C29E7F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL BTLACT_OFFENSE_UP_A
	RTL

BTLACT_DEFENSE_DOWN_A: ;$C29E86
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN5
	JSR a:.LOWORD(SUCCESS_LUCK80)
	CMP #$0000
	BEQ @UNKNOWN4
	LDX .LOWORD(CURRENT_TARGET)
	LDY a:.LOWORD(RAM)+40,X
	STY $16
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(HEXADECIMATE_DEFENSE)
	LDX .LOWORD(CURRENT_TARGET)
	LDY $16
	TYA
	SEC
	SBC a:.LOWORD(RAM)+40,X
	STA $16
	STA $02
	LDA #$0000
	CLC
	SBC $02
	BVC @UNKNOWN0
	BPL @UNKNOWN2
	BRA @UNKNOWN1
@UNKNOWN0:
	BMI @UNKNOWN2
@UNKNOWN1:
	LDA #$0000
	STA $16
@UNKNOWN2:
	LOADPTR TEXT_BLOCK_C8F8A2, $0E
	LDA $16
	STA $06
	STZ $08
	BPL @UNKNOWN3
	DEC $08
@UNKNOWN3:
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
	BRA @UNKNOWN5
@UNKNOWN4:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN5:
	PLD
	RTL

REDIRECT_BTLACT_DEFENSE_DOWN_A: ;$C29EFF
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL BTLACT_DEFENSE_DOWN_A
	RTL

BTLACT_HYPNOSIS_A: ;$C29F06
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN1
	LDX .LOWORD(CURRENT_TARGET)
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+60,X
	JSR a:.LOWORD(SUCCESS_255)
	.A16
	CMP #$0000
	BEQ @UNKNOWN0
	LDY #$0001
	LDX #$0002
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	.A16
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6C55
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTL

REDIRECT_BTLACT_HYPNOSIS_A_COPY: ;$C29F57
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL BTLACT_HYPNOSIS_A
	RTL

BTLACT_MAGNET_A: ;$C29F5E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+25,X
	BNE @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_C8FB05
	BRA @UNKNOWN3
@UNKNOWN0:
	LDA #$0004
	JSR a:.LOWORD(RAND_LIMIT)
	TAX
	STX $16
	LDA #$0004
	JSR a:.LOWORD(RAND_LIMIT)
	STA $02
	LDX $16
	TXA
	CLC
	ADC $02
	STA $02
	INC $02
	INC $02
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+25,X
	CMP $02
	BCS @UNKNOWN1
	STA $02
@UNKNOWN1:
	LOADPTR TEXT_BLOCK_EF773F, $0E
	LDA $02
	STA $06
	STZ $08
	BPL @UNKNOWN2
	DEC $08
@UNKNOWN2:
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
	LDX $02
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(REDUCE_PP)
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA $02
	CLC
	ADC a:.LOWORD(RAM)+25,X
	TAX
	LDA .LOWORD(CURRENT_ATTACKER)
	JSR a:.LOWORD(SET_PP)
@UNKNOWN3:
	PLD
	RTL

BTLACT_MAGNET_O: ;$C29FE1
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	BNE @UNKNOWN0
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM),X
	CMP #$0003
	BEQ @UNKNOWN1
@UNKNOWN0:
	JSL BTLACT_MAGNET_A
@UNKNOWN1:
	RTL

BTLACT_PARALYSIS_A: ;$C29FFE
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN1
	LDX .LOWORD(CURRENT_TARGET)
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+55,X
	JSR a:.LOWORD(SUCCESS_255)
	.A16
	CMP #$0000
	BEQ @UNKNOWN0
	LDY #$0003
	LDX #$0000
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	.A16
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6AE0
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTL

REDIRECT_BTLACT_PARALYSIS_A: ;$C2A04F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL BTLACT_PARALYSIS_A
	RTL

BTLACT_BRAINSHOCK_A: ;$C2A056
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN1
	LDX .LOWORD(CURRENT_TARGET)
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+59,X
	JSR a:.LOWORD(SUCCESS_255)
	.A16
	CMP #$0000
	BEQ @UNKNOWN0
	LDY #$0001
	LDX #$0003
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	.A16
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6C3A
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTL

REDIRECT_BTLACT_BRAINSHOCK_A_COPY: ;$C2A0A7
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL BTLACT_BRAINSHOCK_A
	RTL

BTLACT_HP_RECOVERY_1D4: ;$C2A0AE
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$0004
	JSR a:.LOWORD(RAND_LIMIT)
	TAX
	INX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(RECOVER_HP)
	RTL

BTLACT_HP_RECOVERY_50: ;$C2A0BF
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$0032
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	TAX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(RECOVER_HP)
	RTL

BTLACT_HP_RECOVERY_200: ;$C2A0CF
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$00C8
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	TAX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(RECOVER_HP)
	RTL

BTLACT_PP_RECOVERY_20: ;$C2A0DF
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$0014
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	TAX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(RECOVER_PP)
	RTL

BTLACT_PP_RECOVERY_80: ;$C2A0EF
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$0050
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	TAX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(RECOVER_PP)
	RTL

BTLACT_IQ_UP_1D4: ;$C2A0FF
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDA #$0004
	JSR a:.LOWORD(RAND_LIMIT)
	INC
	STA $16
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$0031
	TAX
	LDA $16
	SEP #PROC_FLAGS::ACCUM8
	STA $00
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $00
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	LOADPTR TEXT_BLOCK_C8F7B8, $0E
	LDA $16
	STA $06
	STZ $08
	BPL @UNKNOWN0
	DEC $08
@UNKNOWN0:
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
	PLD
	RTL

BTLACT_GUTS_UP_1D4: ;$C2A14B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDA #$0004
	JSR a:.LOWORD(RAND_LIMIT)
	INC
	STA $16
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$002C
	TAX
	LDA $16
	STA $02
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $02
	STA a:.LOWORD(RAM),X
	LOADPTR TEXT_BLOCK_C8F7D2, $0E
	LDA $16
	STA $06
	STZ $08
	BPL @UNKNOWN0
	DEC $08
@UNKNOWN0:
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
	PLD
	RTL

BTLACT_SPEED_UP_1D4: ;$C2A193
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDA #$0004
	JSR a:.LOWORD(RAND_LIMIT)
	INC
	STA $16
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$002A
	TAX
	LDA $16
	STA $02
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $02
	STA a:.LOWORD(RAM),X
	LOADPTR TEXT_BLOCK_C8F82F, $0E
	LDA $16
	STA $06
	STZ $08
	BPL @UNKNOWN0
	DEC $08
@UNKNOWN0:
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
	PLD
	RTL

BTLACT_VITALITY_UP_1D4: ;$C2A1DB
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDA #$0004
	JSR a:.LOWORD(RAND_LIMIT)
	INC
	STA $16
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$0030
	TAX
	LDA $16
	SEP #PROC_FLAGS::ACCUM8
	STA $00
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $00
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	LOADPTR TEXT_BLOCK_C8F84C, $0E
	LDA $16
	STA $06
	STZ $08
	BPL @UNKNOWN0
	DEC $08
@UNKNOWN0:
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
	PLD
	RTL

BTLACT_LUCK_UP_1D4: ;$C2A227
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDA #$0004
	JSR a:.LOWORD(RAND_LIMIT)
	INC
	STA $16
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$002E
	TAX
	LDA $16
	STA $02
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $02
	STA a:.LOWORD(RAM),X
	LOADPTR TEXT_BLOCK_C8F86B, $0E
	LDA $16
	STA $06
	STZ $08
	BPL @UNKNOWN0
	DEC $08
@UNKNOWN0:
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
	PLD
	RTL

BTLACT_HP_RECOVERY_300: ;$C2A26F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$012C
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	TAX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(RECOVER_HP)
	RTL

BTLACT_RANDOM_STAT_UP_1D4: ;$C2A27F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDA #$0007
	JSR a:.LOWORD(RAND_LIMIT)
	CMP #$0000
	BEQ @UNKNOWN5
	CMP #$0001
	BEQ @UNKNOWN7
	CMP #$0002
	BNE @UNKNOWN0
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN0:
	CMP #$0003
	BNE @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN10)
@UNKNOWN1:
	CMP #$0004
	BNE @UNKNOWN2
	JMP a:.LOWORD(@UNKNOWN11)
@UNKNOWN2:
	CMP #$0005
	BNE @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN12)
@UNKNOWN3:
	CMP #$0006
	BNE @UNKNOWN4
	JMP a:.LOWORD(@UNKNOWN13)
@UNKNOWN4:
	JMP a:.LOWORD(@UNKNOWN14)
@UNKNOWN5:
	LDA #$0004
	JSR a:.LOWORD(RAND_LIMIT)
	INC
	STA $16
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$0028
	TAX
	LDA $16
	STA $02
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $02
	STA a:.LOWORD(RAM),X
	LOADPTR TEXT_BLOCK_C8F79A, $0E
	LDA $16
	STA $06
	STZ $08
	BPL @UNKNOWN6
	DEC $08
@UNKNOWN6:
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
	BRA @UNKNOWN14
@UNKNOWN7:
	LDA #$0004
	JSR a:.LOWORD(RAND_LIMIT)
	INC
	STA $16
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$0026
	TAX
	LDA $16
	STA $02
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $02
	STA a:.LOWORD(RAM),X
	LOADPTR TEXT_BLOCK_C8F77D, $0E
	LDA $16
	STA $06
	STZ $08
	BPL @UNKNOWN8
	DEC $08
@UNKNOWN8:
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
	BRA @UNKNOWN14
@UNKNOWN9:
	JSL BTLACT_SPEED_UP_1D4
	BRA @UNKNOWN14
@UNKNOWN10:
	JSL BTLACT_GUTS_UP_1D4
	BRA @UNKNOWN14
@UNKNOWN11:
	JSL BTLACT_VITALITY_UP_1D4
	BRA @UNKNOWN14
@UNKNOWN12:
	JSL BTLACT_IQ_UP_1D4
	BRA @UNKNOWN14
@UNKNOWN13:
	JSL BTLACT_LUCK_UP_1D4
@UNKNOWN14:
	PLD
	RTL

BTLACT_HP_RECOVERY_10: ;$C2A360
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$000A
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	TAX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(RECOVER_HP)
	RTL

BTLACT_HP_RECOVERY_100: ;$C2A370
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$0064
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	TAX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(RECOVER_HP)
	RTL

BTLACT_HP_RECOVERY_10000: ;$C2A380
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM),X
	CMP #$0004
	BNE @UNKNOWN0
	LDX #$2710
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(RECOVER_HP)
	BRA @UNKNOWN1
@UNKNOWN0:
	JSL BTLACT_HP_RECOVERY_1D4
@UNKNOWN1:
	RTL

HEAL_POISON: ;$C2A39D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$001D
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	CMP #$0005
	BNE @UNKNOWN0
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6E97
@UNKNOWN0:
	PLD
	RTL

BTLACT_COUNTER_PSI: ;$C2A3D1
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN1
	JSR a:.LOWORD(SUCCESS_LUCK40)
	CMP #$0000
	BEQ @UNKNOWN0
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$0021
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	BNE @UNKNOWN0
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0004
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6C0B
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTL

BTLACT_SHIELD_KILLER: ;$C2A422
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	JSR a:.LOWORD(SUCCESS_LUCK80)
	CMP #$0000
	BEQ @UNKNOWN0
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$0023
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	BEQ @UNKNOWN0
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF7099
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTL

BTLACT_HP_SUCKER: ;$C2A46B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	JSR a:.LOWORD(SUCCESS_LUCK80)
	CMP #$0000
	BNE @UNKNOWN0
	JMP a:.LOWORD(@UNKNOWN3)
@UNKNOWN0:
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM)+19,X
	BEQ @UNKNOWN3
	LDA .LOWORD(CURRENT_TARGET)
	CMP .LOWORD(CURRENT_ATTACKER)
	BNE @UNKNOWN1
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF7710
	BRA @UNKNOWN4
@UNKNOWN1:
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+21,X
	JSR a:.LOWORD(FIFTY_PERCENT_VARIANCE)
	LSR
	LSR
	LSR
	TAY
	STY $16
	TYX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(REDUCE_HP)
	LOADPTR TEXT_BLOCK_EF7729, $0E
	LDY $16
	TYA
	STA $06
	STZ $08
	BPL @UNKNOWN2
	DEC $08
@UNKNOWN2:
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
	LDX .LOWORD(CURRENT_ATTACKER)
	LDY $16
	TYA
	CLC
	ADC a:.LOWORD(RAM)+17,X
	TAX
	LDA .LOWORD(CURRENT_ATTACKER)
	JSR a:.LOWORD(SET_HP)
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+17,X
	BNE @UNKNOWN4
	LDA .LOWORD(CURRENT_TARGET)
	JSL KO_TARGET
	BRA @UNKNOWN4
@UNKNOWN3:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN4:
	PLD
	RTL

BTLACT_HUNGRY_HP_SUCKER: ;$C2A507
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL BTLACT_HP_SUCKER
	RTL

BTLACT_MUMMY_WRAP: ;$C2A50E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEC
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN3
	LDA #$00FA
	JSR a:.LOWORD(SUCCESS_SPEED)
	CMP #$0000
	BEQ @UNKNOWN2
	LDX .LOWORD(CURRENT_TARGET)
	LDA #$0190
	SEC
	SBC a:.LOWORD(RAM)+40,X
	STA $12
	CLC
	SBC #$0000
	BVC @UNKNOWN0
	BPL @UNKNOWN2
	BRA @UNKNOWN1
@UNKNOWN0:
	BMI @UNKNOWN2
@UNKNOWN1:
	LDX #$00FF
	LDA $12
	JSR a:.LOWORD(CALC_RESIST_DAMAGE)
	LDY #$0004
	LDX #$0002
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	CMP #$0000
	BEQ @UNKNOWN3
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6BEF
	BRA @UNKNOWN3
@UNKNOWN2:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN3:
	PLD
	RTL

BOTTLE_ROCKET_COMMON: ;$C2A57A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEA
	TCD
	PLA
	STA $02
	LDY #$0000
	STY $14
	TYX
	STX $12
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA #$0064
	JSR a:.LOWORD(SUCCESS_SPEED)
	CMP #$0000
	BEQ @UNKNOWN1
	LDY $14
	INY
	STY $14
@UNKNOWN1:
	LDX $12
	INX
	STX $12
@UNKNOWN2:
	TXA
	CMP $02
	BCC @UNKNOWN0
	LDY $14
	BEQ @UNKNOWN3
	TYA
	LDY #$0078
	JSL MULT168
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	LDX #$00FF
	JSR a:.LOWORD(CALC_RESIST_DAMAGE)
	BRA @UNKNOWN4
@UNKNOWN3:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN4:
	PLD
	RTS

BTLACT_BOTTLE_ROCKET: ;$C2A5D1
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #BOTTLE_ROCKET_COUNT
	JSR a:.LOWORD(BOTTLE_ROCKET_COMMON)
	RTL

BTLACT_BIG_BOTTLE_ROCKET: ;$C2A5DA
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #BIG_BOTTLE_ROCKET_COUNT
	JSR a:.LOWORD(BOTTLE_ROCKET_COMMON)
	RTL

BTLACT_MULTI_BOTTLE_ROCKET: ;$C2A5E3
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #MULTI_BOTTLE_ROCKET_COUNT
	JSR a:.LOWORD(BOTTLE_ROCKET_COMMON)
	RTL

BTLACT_HANDBAG_STRAP: ;$C2A5EC
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEC
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN3
	LDA #$00FA
	JSR a:.LOWORD(SUCCESS_SPEED)
	CMP #$0000
	BEQ @UNKNOWN2
	LDX .LOWORD(CURRENT_TARGET)
	LDA #$0064
	SEC
	SBC a:.LOWORD(RAM)+40,X
	STA $12
	CLC
	SBC #$0000
	BVC @UNKNOWN0
	BPL @UNKNOWN2
	BRA @UNKNOWN1
@UNKNOWN0:
	BMI @UNKNOWN2
@UNKNOWN1:
	LDX #$00FF
	LDA $12
	JSR a:.LOWORD(CALC_RESIST_DAMAGE)
	LDY #$0004
	LDX #$0002
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	CMP #$0000
	BEQ @UNKNOWN3
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6BEF
	BRA @UNKNOWN3
@UNKNOWN2:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN3:
	PLD
	RTL

BOMB_COMMON: ;$C2A658
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE4
	TCD
	PLA
	STA $1A
	STZ $18
	LDA #$0000
	STA $04
	LDA $1A
	JSR a:.LOWORD(FIFTY_PERCENT_VARIANCE)
	LDX #$00FF
	JSR a:.LOWORD(CALC_RESIST_DAMAGE)
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	BNE @UNKNOWN8
	LDX #$0000
	STX $16
	BRA @UNKNOWN1
@UNKNOWN0:
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM),X
	STA $02
	LDX $16
	LDA .LOWORD(GAME_STATE)+122,X
	AND #$00FF
	CMP $02
	BEQ @UNKNOWN2
	INX
	STX $16
@UNKNOWN1:
	CPX #$0006
	BCC @UNKNOWN0
@UNKNOWN2:
	CPX #$0000
	BEQ @UNKNOWN3
	TXA
	DEC
	LDY #$004E
	JSL MULT168
	CLC
	ADC #.LOWORD(BATTLERS_TABLE)
	STA $04
@UNKNOWN3:
	LDA .LOWORD(GAME_STATE)+123,X
	AND #$00FF
	STA $14
	STA $02
	LDA #$0001
	CLC
	SBC $02
	BVS @UNKNOWN4
	BMI @UNKNOWN5
	JMP a:.LOWORD(@UNKNOWN18)
@UNKNOWN4:
	BPL @UNKNOWN5
	JMP a:.LOWORD(@UNKNOWN18)
@UNKNOWN5:
	LDA $14
	CLC
	SBC #$0004
	BVS @UNKNOWN6
	BMI @UNKNOWN7
	JMP a:.LOWORD(@UNKNOWN18)
@UNKNOWN6:
	BPL @UNKNOWN7
	JMP a:.LOWORD(@UNKNOWN18)
@UNKNOWN7:
	TXA
	LDY #$004E
	JSL MULT168
	CLC
	ADC #$9FFA
	STA $18
	JMP a:.LOWORD(@UNKNOWN18)
@UNKNOWN8:
	LDA #$0008
	STA $02
	STA $14
	JMP a:.LOWORD(@UNKNOWN17)
@UNKNOWN9:
	LDA $02
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	STX $12
	TXA
	CLC
	ADC #.LOWORD(BATTLERS_TABLE)
	TAY
	STY $10
	CPY .LOWORD(CURRENT_TARGET)
	BNE @UNKNOWN10
	JMP a:.LOWORD(@UNKNOWN16)
@UNKNOWN10:
	LDA .LOWORD(BATTLERS_TABLE)+battler::ally_or_enemy,X
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN11
	JMP a:.LOWORD(@UNKNOWN16)
@UNKNOWN11:
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(BATTLERS_TABLE)+16,X
	LDX .LOWORD(CURRENT_TARGET)
	CMP a:.LOWORD(RAM)+16,X
	BEQ @UNKNOWN12
	JMP a:.LOWORD(@UNKNOWN16)
@UNKNOWN12:
	LDX $12
	LDA .LOWORD(BATTLERS_TABLE)+battler::initiative,X
	STA $01
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::initiative,X
	STA $00
	LDA $01
	CMP $00
	BCS @UNKNOWN14
	LDX .LOWORD(CURRENT_TARGET)
	REP #PROC_FLAGS::ACCUM8
	LDA a:battler::sprite,X
	JSR a:.LOWORD(GET_BATTLE_SPRITE_WIDTH)
	STA $0E
	LDX $12
	LDA .LOWORD(BATTLERS_TABLE)+battler::sprite,X
	JSR a:.LOWORD(GET_BATTLE_SPRITE_WIDTH)
	CLC
	ADC $0E
	ASL
	ASL
	CLC
	ADC #$0008
	STA $02
	SEP #PROC_FLAGS::ACCUM8
	LDA $00
	SEC
	SBC $01
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	CMP $02
	BEQ @UNKNOWN13
	BCS @UNKNOWN16
@UNKNOWN13:
	LDY $10
	STY $04
	BRA @UNKNOWN16
@UNKNOWN14:
	LDX .LOWORD(CURRENT_TARGET)
	REP #PROC_FLAGS::ACCUM8
	LDA a:battler::sprite,X
	JSR a:.LOWORD(GET_BATTLE_SPRITE_WIDTH)
	STA $0E
	LDX $12
	LDA .LOWORD(BATTLERS_TABLE)+battler::sprite,X
	JSR a:.LOWORD(GET_BATTLE_SPRITE_WIDTH)
	CLC
	ADC $0E
	ASL
	ASL
	CLC
	ADC #$0008
	STA $02
	SEP #PROC_FLAGS::ACCUM8
	LDA $01
	SEC
	SBC $00
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	CMP $02
	BEQ @UNKNOWN15
	BCS @UNKNOWN16
@UNKNOWN15:
	LDY $10
	STY $18
@UNKNOWN16:
	REP #PROC_FLAGS::ACCUM8
	LDA $14
	STA $02
	INC $02
	LDA $02
	STA $14
@UNKNOWN17:
	LDA $02
	CMP #$0020
	BCS @UNKNOWN18
	BEQ @UNKNOWN18
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN18:
	LDY .LOWORD(CURRENT_TARGET)
	STY $14
	LDA $04
	BEQ @UNKNOWN19
	LDA $04
	STA .LOWORD(CURRENT_TARGET)
	JSL FIX_TARGET_NAME
	LDA $1A
	LSR
	JSR a:.LOWORD(FIFTY_PERCENT_VARIANCE)
	LDX #$00FF
	JSR a:.LOWORD(CALC_RESIST_DAMAGE)
@UNKNOWN19:
	LDA $18
	BEQ @UNKNOWN20
	LDA $18
	STA .LOWORD(CURRENT_TARGET)
	JSL FIX_TARGET_NAME
	LDA $1A
	LSR
	JSR a:.LOWORD(FIFTY_PERCENT_VARIANCE)
	LDX #$00FF
	JSR a:.LOWORD(CALC_RESIST_DAMAGE)
@UNKNOWN20:
	LDY $14
	STY .LOWORD(CURRENT_TARGET)
	JSL FIX_TARGET_NAME
	PLD
	RTS

BTLACT_BOMB: ;$C2A818
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$005A
	JSR a:.LOWORD(BOMB_COMMON)
	RTL

BTLACT_SUPER_BOMB: ;$C2A821
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$010E
	JSR a:.LOWORD(BOMB_COMMON)
	RTL

BTLACT_SOLIDIFY_2: ;$C2A82A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	JSR a:.LOWORD(SUCCESS_LUCK80)
	CMP #$0000
	BEQ @UNKNOWN0
	LDY #$0004
	LDX #$0002
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6BEF
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTL

BTLACT_YOGURT_DISPENSER: ;$C2A86B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA #$00FA
	JSR a:.LOWORD(SUCCESS_SPEED)
	CMP #$0000
	BEQ @UNKNOWN0
	LDA #$0004
	JSR a:.LOWORD(RAND_LIMIT)
	LDX #$00FF
	INC
	JSR a:.LOWORD(CALC_RESIST_DAMAGE)
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTL

BTLACT_SNAKE: ;$C2A89D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN1
	LDA #$00FA
	JSR a:.LOWORD(SUCCESS_SPEED)
	CMP #$0000
	BEQ @UNKNOWN0
	LDA #$0004
	JSR a:.LOWORD(RAND_LIMIT)
	LDX #$00FF
	INC
	JSR a:.LOWORD(CALC_RESIST_DAMAGE)
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0080
	JSR a:.LOWORD(SUCCESS_255)
	.A16
	CMP #$0000
	BEQ @UNKNOWN1
	LDY #$0005
	LDX #$0000
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	.A16
	CMP #$0000
	BEQ @UNKNOWN1
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6B18
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTL

BTLACT_INFLICT_SOLIDIFICATION: ;$C2A902
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	JSR a:.LOWORD(SUCCESS_LUCK80)
	CMP #$0000
	BEQ @UNKNOWN0
	LDX .LOWORD(CURRENT_TARGET)
	SEP #PROC_FLAGS::ACCUM8
	LDA a:battler::paralysis_resist,X
	JSR a:.LOWORD(SUCCESS_255)
	.A16
	CMP #$0000
	BEQ @UNKNOWN0
	LDY #$0004
	LDX #$0002
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	.A16
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6BEF
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTL

BTLACT_INFLICT_POISON: ;$C2A953
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDX .LOWORD(CURRENT_TARGET)
	SEP #PROC_FLAGS::ACCUM8
	LDA a:battler::paralysis_resist,X
	JSR a:.LOWORD(SUCCESS_255)
	.A16
	CMP #$0000
	BEQ @UNKNOWN0
	LDY #$0005
	LDX #$0000
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	.A16
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6B18
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTL

BTLACT_BAG_OF_DRAGONITE: ;$C2A99C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDA #$0320
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	STA $0E
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::fire_resist,X
	AND #$00FF
	TAX
	LDA $0E
	JSR a:.LOWORD(CALC_RESIST_DAMAGE)
	PLD
	RTL

INSECT_SPRAY_COMMON: ;$C2A9BD
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	TAX
	STX $12
	JSR a:.LOWORD(SUCCESS_LUCK80)
	CMP #$0000
	BEQ INSECT_SPRAY_COMMON_FAILURE
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::ally_or_enemy,X
	AND #$00FF
	CMP #$0001
	BNE INSECT_SPRAY_COMMON_FAILURE
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::id,X
	JSR a:.LOWORD(GET_ENEMY_TYPE)
	CMP #$0001
	BNE INSECT_SPRAY_COMMON_FAILURE
	LDX $12
	TXA
	JSR a:.LOWORD(FIFTY_PERCENT_VARIANCE)
	LDX #$00FF
	JSR a:.LOWORD(CALC_RESIST_DAMAGE)
	BRA INSECT_SPRAY_COMMON_RETURN
INSECT_SPRAY_COMMON_FAILURE:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
INSECT_SPRAY_COMMON_RETURN:
	PLD
	RTS

BTLACT_INSECTICIDE_SPRAY: ;$C2AA0C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$0064
	JSR a:.LOWORD(INSECT_SPRAY_COMMON)
	RTL

BTLACT_XTERMINATOR_SPRAY: ;$C2AA15
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$00C8
	JSR a:.LOWORD(INSECT_SPRAY_COMMON)
	RTL

RUST_SPRAY_COMMON: ;$C2AA1E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	TAX
	STX $12
	JSR a:.LOWORD(SUCCESS_LUCK80)
	CMP #$0000
	BEQ RUST_SPRAY_COMMON_FAILURE
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::ally_or_enemy,X
	AND #$00FF
	CMP #$0001
	BNE RUST_SPRAY_COMMON_FAILURE
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::id,X
	JSR a:.LOWORD(GET_ENEMY_TYPE)
	CMP #$0002
	BNE RUST_SPRAY_COMMON_FAILURE
	LDX $12
	TXA
	JSR a:.LOWORD(FIFTY_PERCENT_VARIANCE)
	LDX #$00FF
	JSR a:.LOWORD(CALC_RESIST_DAMAGE)
	BRA RUST_SPRAY_COMMON_RETURN
RUST_SPRAY_COMMON_FAILURE:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
RUST_SPRAY_COMMON_RETURN:
	PLD
	RTS

BTLACT_RUST_PROMOTER: ;$C2AA6D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$00C8
	JSR a:.LOWORD(RUST_SPRAY_COMMON)
	RTL

BTLACT_RUST_PROMOTER_DX: ;$C2AA76
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$0190
	JSR a:.LOWORD(RUST_SPRAY_COMMON)
	RTL

BTLACT_SUDDEN_GUTS_PILL: ;$C2AA7F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEA
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN1
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::guts,X
	ASL
	CMP #$00FF
	BCC @UNKNOWN0
	LDA #$00FF
@UNKNOWN0:
	LDX .LOWORD(CURRENT_TARGET)
	STA a:battler::guts,X
	LOADPTR TEXT_BLOCK_C8F80A, $0E
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::guts,X
	STA $06
	STZ $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
@UNKNOWN1:
	PLD
	RTL

BTLACT_DEFENSE_SPRAY: ;$C2AAC6
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN0
	LDX .LOWORD(CURRENT_TARGET)
	LDY a:battler::defense,X
	STY $16
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INCREASE_DEFENSE_16TH)
	LOADPTR TEXT_BLOCK_C8F79A, $0E
	LDY $16
	STY $02
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::defense,X
	SEC
	SBC $02
	STA $06
	STZ $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
@UNKNOWN0:
	PLD
	RTL

BTLACT_DEFENSE_SHOWER: ;$C2AB0D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	JSL BTLACT_DEFENSE_SPRAY
	RTL

BOSS_BATTLE_CHECK: ;$C2AB14
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDX #.LOWORD(BATTLERS_TABLE)
	STX $10
	LDY #$0000
	STY $0E
	BRA BOSS_BATTLE_CHECK_BEGIN_LOOP
BOSS_BATTLE_CHECK_NEXT_ENEMY:
	LDA a:battler::consciousness,X
	AND #$00FF
	BEQ BOSS_BATTLE_CHECK_NOT_BOSS
	LDA a:battler::ally_or_enemy,X
	AND #$00FF
	CMP #$0001
	BNE BOSS_BATTLE_CHECK_NOT_BOSS
	LDA a:battler::id,X
	LDY #.SIZEOF(enemy_data)
	JSL MULT168
	CLC
	ADC #enemy_data::boss
	TAX
	LDA f:ENEMY_CONFIGURATION_TABLE,X
	AND #$00FF
	BEQ BOSS_BATTLE_CHECK_NOT_BOSS
	LDA #$0000
	BRA BOSS_BATTLE_CHECK_RETURN
BOSS_BATTLE_CHECK_NOT_BOSS:
	LDY $0E
	INY
	STY $0E
	LDX $10
	TXA
	CLC
	ADC #$004E
	TAX
	STX $10
BOSS_BATTLE_CHECK_BEGIN_LOOP:
	CPY #$0020
	BCC BOSS_BATTLE_CHECK_NEXT_ENEMY
	LDA #$0001
BOSS_BATTLE_CHECK_RETURN:
	PLD
	RTS

BTLACT_TELEPORT_BOX: ;$C2AB71
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEA
	TCD
	LDX .LOWORD(GAME_STATE)+game_state::leader_y_coord
	LDA .LOWORD(GAME_STATE)+game_state::leader_x_coord
	JSL LOAD_SECTOR_ATTRS
	AND #$0080
	BEQ @UNKNOWN0
	JMP a:.LOWORD(@TELEPORT_BOX_UNUSABLE)
@UNKNOWN0:
	LDA .LOWORD(BATTLE_MODE_FLAG)
	BEQ @UNKNOWN1
	LDA #$0064
	JSR a:.LOWORD(RAND_LIMIT)
	STA $14
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:battler::current_action_argument,X
	AND #$00FF
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC #item::strength
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:ITEM_CONFIGURATION_TABLE,X
	REP #PROC_FLAGS::ACCUM8
	SEC
	AND #$00FF
	SBC #$0080
	EOR #$FF80
	STA $02
	LDA $14
	CMP $02
	BCS @TELEPORT_BOX_FAILURE
	JSR a:.LOWORD(BOSS_BATTLE_CHECK)
	CMP #$0000
	BEQ @TELEPORT_BOX_FAILURE
@UNKNOWN1:
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM)+7,X
	AND #$00FF
	TAX
	STX $12
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:battler::id,X
	LDX $12
	JSL REDIRECT_REMOVE_ITEM_FROM_INVENTORY
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_C9FE41
	SEP #PROC_FLAGS::ACCUM8
	LDA #TELEPORT_STYLE::INSTANT
	STA $0E
	LDA .LOWORD(GAME_STATE)+195
	JSL SET_TELEPORT_STATE
	.A16
	LDA #$0001
	STA .LOWORD(UNKNOWN_7EAA0E)
	BRA @RETURN
@TELEPORT_BOX_FAILURE:
	.A16
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_C9FE9D
	BRA @RETURN
@TELEPORT_BOX_UNUSABLE:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_C9FEE3
@RETURN:
	PLD
	RTL

BTLACT_PRAY_SUBTLE: ;$C2AC2A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::hp_max,X
	LSR
	LSR
	LSR
	LSR
	TAX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(RECOVER_HP)
	RTL

BTLACT_PRAY_WARM: ;$C2AC3E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::hp_max,X
	LSR
	LSR
	LSR
	TAX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(RECOVER_HP)
	RTL

BTLACT_PRAY_GOLDEN: ;$C2AC51
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::hp_max,X
	LDX .LOWORD(CURRENT_ATTACKER)
	SEC
	SBC a:battler::hp_target,X
	TAX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(RECOVER_HP)
	RTL

BTLACT_PRAY_MYSTERIOUS: ;$C2AC68
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$0005
	JSR a:.LOWORD(FIFTY_PERCENT_VARIANCE)
	TAX
	BNE @UNKNOWN0
	INX
@UNKNOWN0:
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(RECOVER_PP)
	RTL

BTLACT_PRAY_RAINBOW: ;$C2AC7B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::afflictions+STATUS_GROUP::PERSISTENT_EASYHEAL,X
	AND #$00FF
	CMP #STATUS_0::UNCONSCIOUS
	BNE @UNKNOWN0
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::hp_max,X
	TAX
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(REVIVE_TARGET)
@UNKNOWN0:
	RTL

BTLACT_PRAY_AROMA: ;$C2AC99
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN1
	LDY #$0001
	LDX #$0002
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6C55
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTL

BTLACT_PRAY_RENDING_SOUND: ;$C2ACDA
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	JSR a:.LOWORD(ATK_FAIL_CHK)
	CMP #$0000
	BNE @UNKNOWN1
	LDY #$0001
	LDX #$0003
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(INFLICT_STATUS_BATTLE)
	CMP #$0000
	BEQ @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6C3A
	BRA @UNKNOWN1
@UNKNOWN0:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
@UNKNOWN1:
	PLD
	RTL

BTLACT_PRAY: ;$C2AD1B
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDA #$0010
	JSR a:.LOWORD(RAND_LIMIT)
	TAX
	LDA f:PRAYER_LIST,X
	AND #$00FF
	STA $16
	LOADPTR PRAYER_TEXT_PTRS, $0A
	LDA $16
	ASL
	ASL
	CLC
	ADC $0A
	STA $0A
	LDY #$0002
	LDA [$0A],Y
	TAY
	LDA [$0A]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSL DISPLAY_IN_BATTLE_TEXT
	LDA $16
	BEQ @UNKNOWN7
	CMP #$0001
	BEQ @UNKNOWN8
	CMP #$0002
	BEQ @UNKNOWN9
	CMP #$0003
	BNE @UNKNOWN0
	JMP a:.LOWORD(@UNKNOWN10)
@UNKNOWN0:
	CMP #$0004
	BNE @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN11)
@UNKNOWN1:
	CMP #$0005
	BNE @UNKNOWN2
	JMP a:.LOWORD(@UNKNOWN12)
@UNKNOWN2:
	CMP #$0006
	BNE @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN13)
@UNKNOWN3:
	CMP #$0007
	BNE @UNKNOWN4
	JMP a:.LOWORD(@UNKNOWN14)
@UNKNOWN4:
	CMP #$0008
	BNE @UNKNOWN5
	JMP a:.LOWORD(@UNKNOWN15)
@UNKNOWN5:
	CMP #$0009
	BNE @UNKNOWN6
	JMP a:.LOWORD(@UNKNOWN16)
@UNKNOWN6:
	JMP a:.LOWORD(@UNKNOWN17)
@UNKNOWN7:
	JSL TARGET_ALLIES
	JSL REMOVE_NPC_TARGETTING
	LOADPTR BTLACT_PRAY_SUBTLE, $06
	LDA $06
	STA $12
	LDA $08
	STA $14
	JMP a:.LOWORD(@UNKNOWN17)
@UNKNOWN8:
	JSL TARGET_ALLIES
	JSL REMOVE_NPC_TARGETTING
	LOADPTR BTLACT_PRAY_WARM, $06
	LDA $06
	STA $12
	LDA $08
	STA $14
	JMP a:.LOWORD(@UNKNOWN17)
@UNKNOWN9:
	JSL TARGET_ALLIES
	JSL REMOVE_NPC_TARGETTING
	LOADPTR BTLACT_PRAY_MYSTERIOUS, $06
	LDA $06
	STA $12
	LDA $08
	STA $14
	JMP a:.LOWORD(@UNKNOWN17)
@UNKNOWN10:
	JSL TARGET_ALLIES
	JSL REMOVE_NPC_TARGETTING
	JSR a:.LOWORD(REMOVE_DEAD_TARGETTING)
	LDA .LOWORD(BATTLER_TARGET_FLAGS)
	STA $06
	LDA .LOWORD(BATTLER_TARGET_FLAGS)+2
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSL RANDOM_TARGETTING
	LDA $06
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA $08
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
	LOADPTR BTLACT_PRAY_GOLDEN, $06
	LDA $06
	STA $12
	LDA $08
	STA $14
	JMP a:.LOWORD(@UNKNOWN17)
@UNKNOWN11:
	JSL TARGET_ALL_ENEMIES
	JSL REMOVE_NPC_TARGETTING
	JSR a:.LOWORD(REMOVE_DEAD_TARGETTING)
	LDA .LOWORD(BATTLER_TARGET_FLAGS)
	STA $06
	LDA .LOWORD(BATTLER_TARGET_FLAGS)+2
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSL RANDOM_TARGETTING
	LDA $06
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA $08
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
	LOADPTR BTLACT_PSI_ROCKIN_B, $06
	LDA $06
	STA $12
	LDA $08
	STA $14
	BRA @UNKNOWN17
@UNKNOWN12:
	JSL TARGET_ALL
	LOADPTR BTLACT_PSI_FLASH_A, $06
	LDA $06
	STA $12
	LDA $08
	STA $14
	BRA @UNKNOWN17
@UNKNOWN13:
	JSL TARGET_ALL
	LOADPTR BTLACT_PRAY_RAINBOW, $06
	LDA $06
	STA $12
	LDA $08
	STA $14
	BRA @UNKNOWN17
@UNKNOWN14:
	JSL TARGET_ALL
	LOADPTR BTLACT_PRAY_AROMA, $06
	LDA $06
	STA $12
	LDA $08
	STA $14
	BRA @UNKNOWN17
@UNKNOWN15:
	JSL TARGET_ALL
	LOADPTR BTLACT_PRAY_RENDING_SOUND, $06
	LDA $06
	STA $12
	LDA $08
	STA $14
	BRA @UNKNOWN17
@UNKNOWN16:
	JSL TARGET_ALL
	LOADPTR BTLACT_DEFENSE_DOWN_A, $06
	LDA $06
	STA $12
	LDA $08
	STA $14
@UNKNOWN17:
	LDA $16
	CMP #$0006
	BEQ @UNKNOWN18
	JSR a:.LOWORD(REMOVE_DEAD_TARGETTING)
@UNKNOWN18:
	LDA $12
	STA $06
	LDA $14
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSL UNKNOWN_C240A4
	LDA #$0000
	STA .LOWORD(BATTLER_TARGET_FLAGS)
	LDA #$0000
	STA .LOWORD(BATTLER_TARGET_FLAGS)+2
	PLD
	RTL

COPY_MIRROR_DATA: ;$C2AF1F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFAE
	TCD
	LDA $64
	STA $06
	LDA $66
	STA $08
	LDA $06
	STA $4E
	LDA $08
	STA $50
	LDA $60
	STA $06
	LDA $62
	STA $08
	LDA $06
	STA $4A
	LDA $08
	STA $4C
	LDA #$0011
	CLC
	ADC $06
	STA $06
	STA $46
	LDA $08
	STA $48
	LDA [$46]
	STA $44
	LDA #$0017
	LDX $4A
	STX $06
	LDX $4C
	STX $08
	CLC
	ADC $06
	STA $06
	STA $40
	LDA $08
	STA $42
	LDA [$40]
	STA $3E
	LDA #$0013
	LDX $4A
	STX $06
	LDX $4C
	STX $08
	CLC
	ADC $06
	STA $06
	STA $3A
	LDA $08
	STA $3C
	LDA [$3A]
	STA $38
	LDA #$0019
	LDX $4A
	STX $06
	LDX $4C
	STX $08
	CLC
	ADC $06
	STA $06
	STA $34
	LDA $08
	STA $36
	LDA [$34]
	STA $32
	LDA #$0015
	LDX $4A
	STX $06
	LDX $4C
	STX $08
	CLC
	ADC $06
	STA $06
	STA $2E
	LDA $08
	STA $30
	LDA [$2E]
	STA $2C
	LDA #$001B
	LDX $4A
	STX $06
	LDX $4C
	STX $08
	CLC
	ADC $06
	STA $06
	STA $28
	LDA $08
	STA $2A
	LDA [$28]
	STA $26
	LDA #$000E
	LDX $4A
	STX $06
	LDX $4C
	STX $08
	CLC
	ADC $06
	STA $06
	STA $22
	LDA $08
	STA $24
	LDA [$22]
	AND #$00FF
	STA $04
	LDA #$0010
	LDX $4A
	STX $06
	LDX $4C
	STX $08
	CLC
	ADC $06
	STA $06
	STA $1E
	LDA $08
	STA $20
	LDA [$1E]
	AND #$00FF
	STA $02
	LDA $4A
	STA $06
	LDA $4C
	STA $08
	LDA $06
	STA $1A
	LDA $08
	STA $1C
	LDA [$1A]
	TAY
	STY $18
	LDA #$000D
	LDX $4A
	STX $06
	LDX $4C
	STX $08
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	TAX
	STX $16
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $4E
	STA $06
	LDA $50
	STA $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	LDA #$004E
	JSL MEMCPY24
	LDA $44
	STA [$46]
	LDA $3E
	STA [$40]
	LDA $38
	STA [$3A]
	LDA $32
	STA [$34]
	LDA $2C
	STA [$2E]
	LDA $26
	STA [$28]
	LDA $04
	SEP #PROC_FLAGS::ACCUM8
	STA [$22]
	REP #PROC_FLAGS::ACCUM8
	LDA $02
	SEP #PROC_FLAGS::ACCUM8
	STA [$1E]
	LDY $18
	REP #PROC_FLAGS::ACCUM8
	TYA
	STA [$1A]
	LDX $16
	TXA
	SEP #PROC_FLAGS::ACCUM8
	STA [$0A]
	REP #PROC_FLAGS::ACCUM8
	PLD
	RTL

BTLACT_MIRROR: ;$C2B0A1
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE6
	TCD
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::id,X
	TAX
	STX $18
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::ally_or_enemy,X
	AND #$00FF
	BNE @UNKNOWN0
	JMP a:.LOWORD(@UNKNOWN2)
@UNKNOWN0:
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::npc_id,X
	AND #$00FF
	BEQ @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN2)
@UNKNOWN1:
	LDA #100
	JSR a:.LOWORD(RAND_LIMIT)
	STA $16
	LDX $18
	TXA
	LDY #.SIZEOF(enemy_data)
	JSL MULT168
	CLC
	ADC #enemy_data::mirror_success
	TAX
	LDA f:ENEMY_CONFIGURATION_TABLE,X
	AND #$00FF
	STA $02
	LDA $16
	CMP $02
	BCS @UNKNOWN2
	LDX $18
	STX .LOWORD(MIRROR_ENEMY)
	LDA #DEFAULT_MIRROR_TURN_COUNT
	STA .LOWORD(MIRROR_TURN_TIMER)
	LDA .LOWORD(CURRENT_ATTACKER)
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$004E
	LDA #$AA14
	JSL MEMCPY16
	LDA .LOWORD(CURRENT_ATTACKER)
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA .LOWORD(CURRENT_TARGET)
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL COPY_MIRROR_DATA
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6A99
	BRA @UNKNOWN3
@UNKNOWN2:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6AB3
@UNKNOWN3:
	PLD
	RTL

APPLY_CONDIMENT: ;$C2B172
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:battler::current_action_argument,X
	AND #$00FF
	STA $04
	STA $16
	LDA $04
	SEP #PROC_FLAGS::ACCUM8
	JSL FIND_CONDIMENT
	.A16
	STA $02
	CMP #$0000
	BNE @UNKNOWN0
	JMP a:.LOWORD(@UNKNOWN6)
@UNKNOWN0:
	LDX $02
	STX $14
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:battler::id,X
	LDX $14
	JSL TAKE_ITEM_FROM_CHARACTER
	LDY #$0000
	STY $12
	BRA @UNKNOWN4
@UNKNOWN1:
	PHA
	LDA $16
	STA $04
	PLA
	AND #$00FF
	CMP $04
	BNE @UNKNOWN3
	TXA
	INC
	LDY $06
	STY $0A
	LDY $08
	STY $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	CMP $02
	BEQ @UNKNOWN2
	TXA
	INC
	INC
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	CMP $02
	BNE @UNKNOWN5
@UNKNOWN2:
	.A16
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_C97C9D
	LOADPTR CONDIMENT_TABLE, $06
	LDY $12
	TYA
	OPTIMIZED_MULT $04, 7
	INC
	INC
	INC
	CLC
	ADC $06
	STA $06
	STA $1E
	LDA $08
	STA $20
	BRA @UNKNOWN7
@UNKNOWN3:
	INY
	STY $12
@UNKNOWN4:
	LOADPTR CONDIMENT_TABLE, $06
	TYA
	OPTIMIZED_MULT $04, 7
	TAX
	PHA
	LDA $06
	STA $0A
	LDA $08
	STA $0C
	PLA
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	BEQ @UNKNOWN5
	JMP a:.LOWORD(@UNKNOWN1)
@UNKNOWN5:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_C97CB1
@UNKNOWN6:
	LOADPTR ITEM_CONFIGURATION_TABLE, $06
	LDA $16
	STA $04
	LDY #.SIZEOF(item)
	JSL MULT168
	CLC
	ADC #item::strength
	CLC
	ADC $06
	STA $06
	STA $1E
	LDA $08
	STA $20
@UNKNOWN7:
	PLD
	RTS

EAT_FOOD: ;$C2B27D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE2
	TCD
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::id,X
	TAX
	STX $1C
	TXA
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	TAX
	LDA .LOWORD(CHAR_STRUCT)+char_struct::afflictions,X
	AND #$00FF
	CMP #STATUS_0::UNCONSCIOUS
	BNE @UNKNOWN0
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF766E
	JMP a:.LOWORD(@UNKNOWN36)
@UNKNOWN0:
	JSR a:.LOWORD(APPLY_CONDIMENT)
	LDA $06
	STA $18
	LDA $08
	STA $1A
	LDX $1C
	CPX #$0004
	BNE @UNKNOWN1
	LDA #$0002
	BRA @UNKNOWN2
@UNKNOWN1:
	LDA #$0001
@UNKNOWN2:
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	TAY
	STY $16
	LDA $06
	STA $0A
	LDA $08
	STA $0C
	LDA [$0A]
	AND #$00FF
	BEQ @UNKNOWN12
	CMP #$0001
	BEQ @UNKNOWN15
	CMP #$0002
	BNE @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN18)
@UNKNOWN3:
	CMP #$0003
	BNE @UNKNOWN4
	JMP a:.LOWORD(@UNKNOWN23)
@UNKNOWN4:
	CMP #$0004
	BNE @UNKNOWN5
	JMP a:.LOWORD(@UNKNOWN28)
@UNKNOWN5:
	CMP #$0005
	BNE @UNKNOWN6
	JMP a:.LOWORD(@UNKNOWN29)
@UNKNOWN6:
	CMP #$0006
	BNE @UNKNOWN7
	JMP a:.LOWORD(@UNKNOWN30)
@UNKNOWN7:
	CMP #$0007
	BNE @UNKNOWN8
	JMP a:.LOWORD(@UNKNOWN31)
@UNKNOWN8:
	CMP #$0008
	BNE @UNKNOWN9
	JMP a:.LOWORD(@UNKNOWN32)
@UNKNOWN9:
	CMP #$0009
	BNE @UNKNOWN10
	JMP a:.LOWORD(@UNKNOWN33)
@UNKNOWN10:
	CMP #$000A
	BNE @UNKNOWN11
	JMP a:.LOWORD(@UNKNOWN34)
@UNKNOWN11:
	JMP a:.LOWORD(@UNKNOWN35)
@UNKNOWN12:
	CPY #$0000
	BEQ @UNKNOWN13
	TYA
	OPTIMIZED_MULT $04, 6
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	TAX
	BRA @UNKNOWN14
@UNKNOWN13:
	LDX #$7530
@UNKNOWN14:
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(RECOVER_HP)
	JMP a:.LOWORD(@UNKNOWN35)
@UNKNOWN15:
	CPY #$0000
	BEQ @UNKNOWN16
	TYA
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	TAX
	BRA @UNKNOWN17
@UNKNOWN16:
	LDX #$7530
@UNKNOWN17:
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(RECOVER_PP)
	JMP a:.LOWORD(@UNKNOWN35)
@UNKNOWN18:
	CPY #$0000
	BEQ @UNKNOWN19
	TYA
	OPTIMIZED_MULT $04, 6
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	TAX
	BRA @UNKNOWN20
@UNKNOWN19:
	LDX #$7530
@UNKNOWN20:
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(RECOVER_HP)
	LDY $16
	BEQ @UNKNOWN21
	TYA
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	TAX
	BRA @UNKNOWN22
@UNKNOWN21:
	LDX #$7530
@UNKNOWN22:
	LDA .LOWORD(CURRENT_TARGET)
	JSR a:.LOWORD(RECOVER_PP)
	JMP a:.LOWORD(@UNKNOWN35)
@UNKNOWN23:
	LDA #$0004
	JSR a:.LOWORD(RAND_LIMIT)
	CMP #$0000
	BEQ @UNKNOWN28
	CMP #$0001
	BNE @UNKNOWN24
	JMP a:.LOWORD(@UNKNOWN29)
@UNKNOWN24:
	CMP #$0002
	BNE @UNKNOWN25
	JMP a:.LOWORD(@UNKNOWN30)
@UNKNOWN25:
	CMP #$0003
	BNE @UNKNOWN26
	JMP a:.LOWORD(@UNKNOWN31)
@UNKNOWN26:
	CMP #$0004
	BNE @UNKNOWN27
	JMP a:.LOWORD(@UNKNOWN32)
@UNKNOWN27:
	JMP a:.LOWORD(@UNKNOWN35)
@UNKNOWN28:
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #battler::iq
	LDY $16
	SEP #PROC_FLAGS::INDEX8
	STY $00
	PHA
	REP #PROC_FLAGS::INDEX8
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $00
	PLX
	STA a:.LOWORD(RAM),X
	LDX $1C
	REP #PROC_FLAGS::ACCUM8
	TXA
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::boosted_iq
	PHA
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $00
	PLX
	STA a:.LOWORD(RAM),X
	LDX $1C
	REP #PROC_FLAGS::ACCUM8
	TXA
	JSL RECALC_CHARACTER_POSTMATH_IQ
	REP #PROC_FLAGS::ACCUM8
	LOADPTR TEXT_BLOCK_C8F7B8, $0E
	LDY $16
	TYA
	STA $06
	STZ $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
	JMP a:.LOWORD(@UNKNOWN35)
@UNKNOWN29:
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #battler::guts
	PHA
	LDY $16
	STY $02
	TAX
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $02
	PLX
	STA a:.LOWORD(RAM),X
	LDX $1C
	TXA
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::boosted_guts
	PHA
	LDY $16
	SEP #PROC_FLAGS::INDEX8
	STY $00
	REP #PROC_FLAGS::INDEX8
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $00
	PLX
	STA a:.LOWORD(RAM),X
	LDX $1C
	REP #PROC_FLAGS::ACCUM8
	TXA
	JSL RECALC_CHARACTER_POSTMATH_GUTS
	REP #PROC_FLAGS::ACCUM8
	LOADPTR TEXT_BLOCK_C8F7D2, $0E
	LDY $16
	TYA
	STA $06
	STZ $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
	JMP a:.LOWORD(@UNKNOWN35)
@UNKNOWN30:
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #battler::speed
	PHA
	LDY $16
	STY $02
	TAX
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $02
	PLX
	STA a:.LOWORD(RAM),X
	LDX $1C
	TXA
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::boosted_speed
	PHA
	LDY $16
	SEP #PROC_FLAGS::INDEX8
	STY $00
	REP #PROC_FLAGS::INDEX8
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $00
	PLX
	STA a:.LOWORD(RAM),X
	LDX $1C
	REP #PROC_FLAGS::ACCUM8
	TXA
	JSL RECALC_CHARACTER_POSTMATH_SPEED
	REP #PROC_FLAGS::ACCUM8
	LOADPTR TEXT_BLOCK_C8F82F, $0E
	LDY $16
	TYA
	STA $06
	STZ $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
	JMP a:.LOWORD(@UNKNOWN35)
@UNKNOWN31:
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #battler::vitality
	LDY $16
	SEP #PROC_FLAGS::INDEX8
	STY $00
	PHA
	REP #PROC_FLAGS::INDEX8
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $00
	PLX
	STA a:.LOWORD(RAM),X
	LDX $1C
	REP #PROC_FLAGS::ACCUM8
	TXA
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::boosted_vitality
	PHA
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $00
	PLX
	STA a:.LOWORD(RAM),X
	LDX $1C
	REP #PROC_FLAGS::ACCUM8
	TXA
	JSL RECALC_CHARACTER_POSTMATH_VITALITY
	REP #PROC_FLAGS::ACCUM8
	LOADPTR TEXT_BLOCK_C8F84C, $0E
	LDY $16
	TYA
	STA $06
	STZ $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
	BRA @UNKNOWN35
@UNKNOWN32:
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #battler::luck
	PHA
	LDY $16
	STY $02
	TAX
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $02
	PLX
	STA a:.LOWORD(RAM),X
	LDX $1C
	TXA
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)+char_struct::boosted_luck
	PHA
	LDY $16
	SEP #PROC_FLAGS::INDEX8
	STY $00
	REP #PROC_FLAGS::INDEX8
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $00
	PLX
	STA a:.LOWORD(RAM),X
	LDX $1C
	REP #PROC_FLAGS::ACCUM8
	TXA
	JSL RECALC_CHARACTER_POSTMATH_LUCK
	REP #PROC_FLAGS::ACCUM8
	LOADPTR TEXT_BLOCK_C8F86B, $0E
	LDY $16
	TYA
	STA $06
	STZ $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DISPLAY_TEXT_WAIT
	BRA @UNKNOWN35
@UNKNOWN33:
	JSL BTLACT_HEALING_A
	BRA @UNKNOWN35
@UNKNOWN34:
	JSL HEAL_POISON
@UNKNOWN35:
	LDA $18
	STA $06
	LDA $1A
	STA $08
	SEP #PROC_FLAGS::ACCUM8
	LDY #$0003
	LDA [$06],Y
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	BEQ @UNKNOWN36
	AND #$00FF
	OPTIMIZED_MULT $04, 6
	JSL UNKNOWN_C076C8
@UNKNOWN36:
	PLD
	RTL

CALC_PSI_DMG_MODIFIERS: ;$C2B608
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	AND #$00FF
	BEQ @UNKNOWN0
	CMP #$0001
	BEQ @UNKNOWN1
	CMP #$0002
	BEQ @UNKNOWN2
	CMP #$0003
	BEQ @UNKNOWN3
	BRA @UNKNOWN4
@UNKNOWN0:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$00FF
	BRA @UNKNOWN4
@UNKNOWN1:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$00B3
	BRA @UNKNOWN4
@UNKNOWN2:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0066
	BRA @UNKNOWN4
@UNKNOWN3:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$000D
@UNKNOWN4:
	SEP #PROC_FLAGS::ACCUM8
	RTL

CALC_PSI_RES_MODIFIERS: ;$C2B639
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	AND #$00FF
	BEQ @UNKNOWN0
	CMP #$0001
	BEQ @UNKNOWN1
	CMP #$0002
	BEQ @UNKNOWN2
	CMP #$0003
	BEQ @UNKNOWN3
	BRA @UNKNOWN4
@UNKNOWN0:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$00FF
	BRA @UNKNOWN4
@UNKNOWN1:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0080
	BRA @UNKNOWN4
@UNKNOWN2:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$001A
	BRA @UNKNOWN4
@UNKNOWN3:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
@UNKNOWN4:
	SEP #PROC_FLAGS::ACCUM8
	RTL

UNKNOWN_C2B66A: ;$C2B66A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFED
	TCD
	PLA
	TAY
	STY $11
	SEP #PROC_FLAGS::ACCUM8
	STZ $0E
	LDX #$001A
	REP #PROC_FLAGS::ACCUM8
	LDA #.LOWORD(UNKNOWN_7EAA98)
	JSL MEMSET16
	LDA #$0000
	STA $0F
	BRA @UNKNOWN2
@UNKNOWN0:
	LDY #$004E
	JSL MULT168
	TAX
	LDA .LOWORD(BATTLERS_TABLE)+battler::consciousness,X
	AND #$00FF
	BEQ @UNKNOWN1
	LDA .LOWORD(BATTLERS_TABLE)+battler::ally_or_enemy,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN1
	LDY $11
	TYA
	CMP .LOWORD(BATTLERS_TABLE)+76,X
	BNE @UNKNOWN1
	LDA .LOWORD(BATTLERS_TABLE)+battler::the_flag,X
	AND #$00FF
	TAX
	DEX
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA .LOWORD(UNKNOWN_7EAA98),X
@UNKNOWN1:
	REP #PROC_FLAGS::ACCUM8
	LDA $0F
	INC
	STA $0F
@UNKNOWN2:
	CMP #$0020
	BCC @UNKNOWN0
	LDX #$0000
	BRA @UNKNOWN5
@UNKNOWN3:
	LDA .LOWORD(UNKNOWN_7EAA98),X
	AND #$00FF
	BNE @UNKNOWN4
	TXA
	SEP #PROC_FLAGS::ACCUM8
	INC
	BRA @UNKNOWN6
@UNKNOWN4:
	INX
@UNKNOWN5:
	CPX #$001A
	BCC @UNKNOWN3
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
@UNKNOWN6:
	PLD
	RTL

BATTLE_INIT_ENEMY_STATS: ;$C2B6EB
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEF
	TCD
	PLA
	STX $02
	TAY
	STY $0F
	LOADPTR ENEMY_CONFIGURATION_TABLE, $06
	TYA
	LDY #.SIZEOF(enemy_data)
	JSL MULT168
	CLC
	ADC $06
	STA $06
	SEP #PROC_FLAGS::ACCUM8
	STZ $0E
	LDX #$004E
	REP #PROC_FLAGS::ACCUM8
	LDA $02
	JSL MEMSET16
	SEP #PROC_FLAGS::ACCUM8
	LDY #$0036
	LDA [$06],Y
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	TAX
	CPX .LOWORD(UNKNOWN_7EAA0C)
	BCC @UNKNOWN0
	BEQ @UNKNOWN0
	STX .LOWORD(UNKNOWN_7EAA0C)
@UNKNOWN0:
	LDY $0F
	TYA
	LDX $02
	STA a:battler::id,X
	TYA
	LDX $02
	STA a:.LOWORD(RAM)+76,X
	LDY #enemy_data::battle_sprite
	LDA [$06],Y
	LDX $02
	STA a:battler::sprite,X
	LDY $0F
	TYA
	JSL UNKNOWN_C2B66A
	.A8
	LDX $02
	STA a:battler::the_flag,X
	LDA #$01
	LDX $02
	STA a:battler::consciousness,X
	LDX $02
	STA a:battler::ally_or_enemy,X
	LDX $02
	STZ a:battler::npc_id,X
	LDY #enemy_data::row
	LDA [$06],Y
	LDX $02
	STA a:battler::row,X
	REP #PROC_FLAGS::ACCUM8
	LDY #enemy_data::hp
	LDA [$06],Y
	LDX $02
	STA a:battler::hp_max,X
	LDX $02
	STA a:battler::hp_target,X
	LDX $02
	STA a:battler::hp,X
	LDY #enemy_data::pp
	LDA [$06],Y
	LDX $02
	STA a:battler::pp_max,X
	LDX $02
	STA a:battler::pp_target,X
	LDX $02
	STA a:battler::pp,X
	SEP #PROC_FLAGS::ACCUM8
	LDY #enemy_data::offense
	LDA [$06],Y
	LDX $02
	STA a:battler::base_offense,X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	LDX $02
	STA a:battler::offense,X
	SEP #PROC_FLAGS::ACCUM8
	LDY #enemy_data::defense
	LDA [$06],Y
	LDX $02
	STA a:battler::base_defense,X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	LDX $02
	STA a:battler::defense,X
	SEP #PROC_FLAGS::ACCUM8
	LDY #enemy_data::speed
	LDA [$06],Y
	LDX $02
	STA a:battler::base_speed,X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	LDX $02
	STA a:battler::speed,X
	SEP #PROC_FLAGS::ACCUM8
	LDY #enemy_data::guts
	LDA [$06],Y
	LDX $02
	STA a:battler::base_guts,X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	LDX $02
	STA a:battler::guts,X
	SEP #PROC_FLAGS::ACCUM8
	LDY #enemy_data::luck
	LDA [$06],Y
	LDX $02
	STA a:battler::base_luck,X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	LDX $02
	STA a:battler::luck,X
	LDX $02
	SEP #PROC_FLAGS::ACCUM8
	STZ a:battler::vitality,X
	LDY #enemy_data::iq
	LDA [$06],Y
	LDX $02
	STA a:battler::iq,X
	LDY #enemy_data::fire_vulnerability
	LDA [$06],Y
	JSL CALC_PSI_DMG_MODIFIERS
	LDX $02
	STA a:battler::fire_resist,X
	LDY #enemy_data::freeze_vulnerability
	LDA [$06],Y
	JSL CALC_PSI_DMG_MODIFIERS
	LDX $02
	STA a:battler::freeze_resist,X
	LDY #enemy_data::flash_vulnerability
	LDA [$06],Y
	JSL CALC_PSI_RES_MODIFIERS
	LDX $02
	STA a:battler::flash_resist,X
	LDY #enemy_data::paralysis_vulnerability
	LDA [$06],Y
	JSL CALC_PSI_RES_MODIFIERS
	LDX $02
	STA a:battler::paralysis_resist,X
	REP #PROC_FLAGS::ACCUM8
	LDA #enemy_data::hypnosis_brainshock_vulnerability
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	SEP #PROC_FLAGS::ACCUM8
	LDA [$0A]
	JSL CALC_PSI_RES_MODIFIERS
	LDX $02
	STA a:battler::hypnosis_resist,X
	LDA [$0A]
	STA $00
	LDA #$0003
	SEC
	SBC $00
	JSL CALC_PSI_RES_MODIFIERS
	LDX $02
	STA a:battler::brainshock_resist,X
	REP #PROC_FLAGS::ACCUM8
	LDY #enemy_data::money
	LDA [$06],Y
	LDX $02
	STA a:battler::money,X
	LDY #enemy_data::exp
	LDA [$06],Y
	PHA
	INY
	INY
	LDA [$06],Y
	STA $0C
	PLA
	STA $0A
	LDA $02
	CLC
	ADC #battler::exp
	TAY
	LDA $0A
	STA a:.LOWORD(RAM),Y
	LDA $0C
	STA a:.LOWORD(RAM)+2,Y
	SEP #PROC_FLAGS::ACCUM8
	LDY #enemy_data::initial_status
	LDA [$06],Y
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	CMP #INITIAL_STATUS::PSI_SHIELD
	BEQ @UNKNOWN1
	CMP #INITIAL_STATUS::PSI_SHIELD_POWER
	BEQ @UNKNOWN2
	CMP #INITIAL_STATUS::SHIELD
	BEQ @UNKNOWN3
	CMP #INITIAL_STATUS::SHIELD_POWER
	BEQ @UNKNOWN4
	CMP #INITIAL_STATUS::ASLEEP
	BEQ @UNKNOWN5
	CMP #INITIAL_STATUS::CANT_CONCENTRATE
	BEQ @UNKNOWN6
	CMP #INITIAL_STATUS::STRANGE
	BEQ @UNKNOWN7
	BRA @UNKNOWN8
@UNKNOWN1:
	LDX #STATUS_6::PSI_SHIELD
	LDA $02
	JSR a:.LOWORD(SHIELDS_COMMON)
	BRA @UNKNOWN8
@UNKNOWN2:
	LDX #STATUS_6::PSI_SHIELD_POWER
	LDA $02
	JSR a:.LOWORD(SHIELDS_COMMON)
	BRA @UNKNOWN8
@UNKNOWN3:
	LDX #STATUS_6::SHIELD
	LDA $02
	JSR a:.LOWORD(SHIELDS_COMMON)
	BRA @UNKNOWN8
@UNKNOWN4:
	LDX #STATUS_6::SHIELD_POWER
	LDA $02
	JSR a:.LOWORD(SHIELDS_COMMON)
	BRA @UNKNOWN8
@UNKNOWN5:
	SEP #PROC_FLAGS::ACCUM8
	LDA #STATUS_2::ASLEEP
	LDX $02
	STA a:battler::afflictions+STATUS_GROUP::TEMPORARY,X
	BRA @UNKNOWN8
@UNKNOWN6:
	SEP #PROC_FLAGS::ACCUM8
	LDA #STATUS_4::CANT_CONCENTRATE4
	LDX $02
	STA a:battler::afflictions+STATUS_GROUP::CONCENTRATION,X
	BRA @UNKNOWN8
@UNKNOWN7:
	SEP #PROC_FLAGS::ACCUM8
	LDA #STATUS_3::STRANGE
	LDX $02
	STA a:battler::afflictions+STATUS_GROUP::STRANGENESS,X
@UNKNOWN8:
	REP #PROC_FLAGS::ACCUM8
	PLD
	RTL

BATTLE_INIT_PLAYER_STATS: ;$C2B930
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE6
	TCD
	PLA
	TXY
	STY $18
	STA $04
	DEC
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)
	STA $02
	SEP #PROC_FLAGS::ACCUM8
	STZ $0E
	LDX #$004E
	LDY $18
	REP #PROC_FLAGS::ACCUM8
	TYA
	JSL MEMSET16
	LDA $04
	LDY $18
	STA a:battler::id,Y
	TYX
	STZ a:battler::sprite,X
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA a:battler::consciousness,Y
	TYX
	STZ a:battler::ally_or_enemy,X
	TYX
	STZ a:battler::npc_id,X
	LDX $02
	REP #PROC_FLAGS::ACCUM8
	LDA a:char_struct::current_hp,X
	STA a:battler::hp,Y
	LDX $02
	LDA a:char_struct::current_hp_target,X
	STA a:battler::hp_target,Y
	LDX $02
	LDA a:char_struct::max_hp,X
	STA a:battler::hp_max,Y
	LDX $02
	LDA a:char_struct::current_pp,X
	STA a:battler::pp,Y
	LDX $02
	LDA a:char_struct::current_pp_target,X
	STA a:battler::pp_target,Y
	LDX $02
	LDA a:char_struct::max_pp,X
	STA a:battler::pp_max,Y
	TYA
	CLC
	ADC #battler::afflictions
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $02
	CLC
	ADC #char_struct::afflictions
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $12
	LDA $08
	STA $14
	LDA #AFFLICTION_GROUP_COUNT
	JSL MEMCPY24
	LDX $02
	SEP #PROC_FLAGS::ACCUM8
	LDA a:char_struct::offense,X
	LDY $18
	STA a:battler::base_offense,Y
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA a:battler::offense,Y
	LDX $02
	SEP #PROC_FLAGS::ACCUM8
	LDA a:char_struct::defense,X
	STA a:battler::base_defense,Y
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA a:battler::defense,Y
	LDX $02
	SEP #PROC_FLAGS::ACCUM8
	LDA a:char_struct::speed,X
	STA a:battler::base_speed,Y
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA a:battler::speed,Y
	LDX $02
	SEP #PROC_FLAGS::ACCUM8
	LDA a:char_struct::guts,X
	STA a:battler::base_guts,Y
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA a:battler::guts,Y
	LDX $02
	SEP #PROC_FLAGS::ACCUM8
	LDA a:char_struct::luck,X
	STA a:battler::base_luck,Y
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA a:battler::luck,Y
	LDX $02
	SEP #PROC_FLAGS::ACCUM8
	LDA a:char_struct::vitality,X
	STA a:battler::vitality,Y
	LDX $02
	LDA a:char_struct::iq,X
	STA a:battler::iq,Y
	LDX $02
	LDA a:char_struct::fire_resist,X
	JSL CALC_PSI_DMG_MODIFIERS
	LDY $18
	STA a:battler::fire_resist,Y
	LDX $02
	LDA a:char_struct::freeze_resist,X
	JSL CALC_PSI_DMG_MODIFIERS
	LDY $18
	STA a:battler::freeze_resist,Y
	LDX $02
	LDA a:char_struct::flash_resist,X
	JSL CALC_PSI_RES_MODIFIERS
	LDY $18
	STA a:battler::flash_resist,Y
	LDX $02
	LDA a:char_struct::paralysis_resist,X
	JSL CALC_PSI_RES_MODIFIERS
	LDY $18
	STA a:battler::paralysis_resist,Y
	REP #PROC_FLAGS::ACCUM8
	LDA $02
	CLC
	ADC #char_struct::hypnosis_brainshock_resist
	TAX
	STX $16
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	JSL CALC_PSI_RES_MODIFIERS
	LDY $18
	STA a:battler::hypnosis_resist,Y
	LDX $16
	LDA a:.LOWORD(RAM),X
	STA $00
	LDA #$0003
	SEC
	SBC $00
	JSL CALC_PSI_RES_MODIFIERS
	LDY $18
	STA a:battler::brainshock_resist,Y
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	SEP #PROC_FLAGS::ACCUM8
	DEC
	STA a:battler::row,Y
	REP #PROC_FLAGS::ACCUM8
	PLD
	RTL

COUNT_CHARS: ;$C2BAC5
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF2
	TCD
	PLA
	STA $04
	LDA #$0000
	STA $02
	LDX #.LOWORD(BATTLERS_TABLE)
	TAY
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA a:battler::consciousness,X
	AND #$00FF
	BEQ @UNKNOWN1
	LDA a:battler::ally_or_enemy,X
	AND #$00FF
	CMP $04
	BNE @UNKNOWN1
	LDA a:battler::npc_id,X
	AND #$00FF
	BNE @UNKNOWN1
	LDA a:battler::afflictions,X
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN1
	CMP #$0002
	BEQ @UNKNOWN1
	INC $02
@UNKNOWN1:
	TXA
	CLC
	ADC #.SIZEOF(battler)
	TAX
	INY
@UNKNOWN2:
	CPY #$0020
	BCC @UNKNOWN0
	LDA $02
	PLD
	RTL

CHECK_DEAD_PLAYERS: ;$C2BB18
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDA #$0000
	STA $04
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN0:
	LDA $04
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAY
	STY $16
	LDA .LOWORD(BATTLERS_TABLE)+battler::consciousness,Y
	AND #$00FF
	BNE @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN8)
@UNKNOWN1:
	LDA .LOWORD(BATTLERS_TABLE)+battler::ally_or_enemy,Y
	AND #$00FF
	BEQ @UNKNOWN2
	JMP a:.LOWORD(@UNKNOWN8)
@UNKNOWN2:
	LDA .LOWORD(BATTLERS_TABLE)+battler::npc_id,Y
	AND #$00FF
	BEQ @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN8)
@UNKNOWN3:
	LDA .LOWORD(BATTLERS_TABLE)+16,Y
	AND #$00FF
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)
	STA $02
	STA $14
	LDY $16
	TYA
	CLC
	ADC #.LOWORD(BATTLERS_TABLE)+battler::hp
	TAX
	STX $12
	LDX $02
	LDA a:char_struct::current_hp,X
	LDX $12
	STA a:.LOWORD(RAM),X
	LDX $02
	LDA a:char_struct::current_pp,X
	STA .LOWORD(BATTLERS_TABLE)+battler::pp,Y
	LDX $12
	LDA a:.LOWORD(RAM),X
	BNE @UNKNOWN4
	LDA .LOWORD(BATTLERS_TABLE)+battler::afflictions,Y
	AND #$00FF
	CMP #STATUS_0::UNCONSCIOUS
	BEQ @UNKNOWN4
	TYA
	CLC
	ADC #.LOWORD(BATTLERS_TABLE)
	STA .LOWORD(CURRENT_TARGET)
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA #STATUS_0::UNCONSCIOUS
	STA a:battler::afflictions + STATUS_GROUP::PERSISTENT_EASYHEAL,X
	LDX .LOWORD(CURRENT_TARGET)
	STZ a:battler::afflictions + STATUS_GROUP::SHIELD,X
	LDX .LOWORD(CURRENT_TARGET)
	STZ a:battler::afflictions + STATUS_GROUP::HOMESICKNESS,X
	LDX .LOWORD(CURRENT_TARGET)
	STZ a:battler::afflictions + STATUS_GROUP::CONCENTRATION,X
	LDX .LOWORD(CURRENT_TARGET)
	STZ a:battler::afflictions + STATUS_GROUP::STRANGENESS,X
	LDX .LOWORD(CURRENT_TARGET)
	STZ a:battler::afflictions + STATUS_GROUP:: TEMPORARY,X
	LDX .LOWORD(CURRENT_TARGET)
	STZ a:battler::afflictions + STATUS_GROUP::PERSISTENT_HARDHEAL,X
	JSL FIX_TARGET_NAME
	.A16
	LDX .LOWORD(WINDOW_EXISTENCE_TABLE)+28
	STX $16
	CREATE_WINDOW_FAR #WINDOW::TEXT_BATTLE
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF6C6B
	LDX $16
	CPX #$FFFF
	BNE @UNKNOWN4
	JSL REDIRECT_CLOSE_FOCUS_WINDOW
@UNKNOWN4:
	LDX #$0000
	STX $12
	BRA @UNKNOWN6
@UNKNOWN5:
	REP #PROC_FLAGS::ACCUM8
	LDA $14
	STA $02
	STX $02
	CLC
	ADC $02
	PHA
	STX $02
	LDA $04
	LDY #.SIZEOF(battler)
	JSL MULT168
	CLC
	ADC #.LOWORD(BATTLERS_TABLE)+battler::afflictions
	CLC
	ADC $02
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	PLX
	STA a:.LOWORD(RAM)+14,X
	LDX $12
	INX
	STX $12
@UNKNOWN6:
	CPX #$0007
	BCC @UNKNOWN5
	REP #PROC_FLAGS::ACCUM8
	LDA $14
	STA $02
	CLC
	ADC #$0012
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	BEQ @UNKNOWN7
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA a:.LOWORD(RAM),X
@UNKNOWN7:
	JSL UNKNOWN_C034D6
@UNKNOWN8:
	INC $04
@UNKNOWN9:
	.A16
	LDA $04
	CMP #TOTAL_PARTY_COUNT
	BCS @UNKNOWN10
	BEQ @UNKNOWN10
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN10:
	PLD
	RTL

RESET_POST_BATTLE_STATS: ;$C2BC5C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDA #$0000
	STA $0E
	BRA @UNKNOWN2
@UNKNOWN0:
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	LDA .LOWORD(BATTLERS_TABLE)+battler::consciousness,X
	AND #$00FF
	BEQ @UNKNOWN1
	LDA .LOWORD(BATTLERS_TABLE)+battler::ally_or_enemy,X
	AND #$00FF
	BNE @UNKNOWN1
	LDA .LOWORD(BATTLERS_TABLE)+battler::npc_id,X
	AND #$00FF
	BNE @UNKNOWN1
	LDA .LOWORD(BATTLERS_TABLE)+16,X
	AND #$00FF
	LDY #.SIZEOF(char_struct)
	JSL MULT168
	CLC
	ADC #.LOWORD(CHAR_STRUCT)
	TAX
	SEP #PROC_FLAGS::ACCUM8
	STZ a:char_struct::afflictions+6,X
	STZ a:char_struct::afflictions+4,X
	STZ a:char_struct::afflictions+3,X
	STZ a:char_struct::afflictions+2,X
@UNKNOWN1:
	REP #PROC_FLAGS::ACCUM8
	LDA $0E
	INC
	STA $0E
@UNKNOWN2:
	CMP #TOTAL_PARTY_COUNT
	BCC @UNKNOWN0
	PLD
	RTL

UNKNOWN_C2BCB9: ;$C2BCB9
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STX $02
	TAY
	LDA a:.LOWORD(RAM)+25,Y
	STA $0E
	STA $04
	LDA $02
	CMP $04
	BCC @UNKNOWN0
	BEQ @UNKNOWN0
	LDA #$0000
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA $0E
	SEC
	SBC $02
@UNKNOWN1:
	TAX
	TYA
	JSR a:.LOWORD(SET_PP)
	PLD
	RTL

LOSE_HP_STATUS: ;$C2BCE6
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	STX $02
	TAY
	LDA a:.LOWORD(RAM)+19,Y
	STA $0E
	STA $04
	LDA $02
	CMP $04
	BCC @UNKNOWN0
	BEQ @UNKNOWN0
	LDA #$0000
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA $0E
	SEC
	SBC $02
@UNKNOWN1:
	TAX
	TYA
	JSR a:.LOWORD(SET_HP)
	PLD
	RTL

UNKNOWN_C2BD13: ;$C2BD13
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA #$0000
	STA $02
	LDX #$A21C
	STX $10
	LDY #$0008
	STY $0E
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA a:.LOWORD(RAM)+12,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN1
	LDA a:.LOWORD(RAM)+2,X
	JSR a:.LOWORD(GET_BATTLE_SPRITE_WIDTH)
	STA $04
	LDA $02
	CLC
	ADC $04
	STA $02
@UNKNOWN1:
	LDX $10
	TXA
	CLC
	ADC #$004E
	TAX
	STX $10
	LDY $0E
	INY
	STY $0E
@UNKNOWN2:
	CPY #$0020
	BCC @UNKNOWN0
	LDA $02
	PLD
	RTS

CALL_FOR_HELP_COMMON: ;$C2BD5E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFD6
	TCD
	PLA
	STA $28
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	BEQ @UNKNOWN2
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM)+8,X
	AND #$00FF
	STA $26
	LOADPTR BTL_ENTRY_PTR_TABLE, $0A
	LDA .LOWORD(CURRENT_BATTLE_GROUP)
	ASL
	ASL
	ASL
	CLC
	ADC $0A
	STA $0A
	LDY #$0002
	LDA [$0A],Y
	TAY
	LDA [$0A]
	STA $06
	STY $08
	BRA @UNKNOWN1
@UNKNOWN0:
	LDY #$0001
	LDA [$06],Y
	CMP $26
	BEQ @UNKNOWN4
	LDA #$0003
	CLC
	ADC $06
	STA $06
@UNKNOWN1:
	LDA $06
	STA $0A
	LDA $08
	STA $0C
	LDA [$0A]
	AND #$00FF
	CMP #$00FF
	BNE @UNKNOWN0
@UNKNOWN2:
	LDA $28
	BEQ @UNKNOWN3
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF7830
	JMP a:.LOWORD(@UNKNOWN33)
@UNKNOWN3:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF7824
	JMP a:.LOWORD(@UNKNOWN33)
@UNKNOWN4:
	LDX #.LOWORD(BATTLERS_TABLE)
	LDA #$0000
	STA $24
	LDY #$0008
	BRA @UNKNOWN7
@UNKNOWN5:
	LDA a:.LOWORD(RAM)+battler::consciousness,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN6
	LDA a:.LOWORD(RAM)+battler::afflictions,X
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN6
	LDA a:.LOWORD(RAM)+76,X
	CMP $26
	BNE @UNKNOWN6
	LDA $24
	INC
	STA $24
@UNKNOWN6:
	TXA
	CLC
	ADC #.SIZEOF(battler)
	TAX
	INY
@UNKNOWN7:
	CPY #$0020
	BCC @UNKNOWN5
	LOADPTR ENEMY_CONFIGURATION_TABLE, $06
	LDA $26
	LDY #.SIZEOF(enemy_data)
	JSL MULT168
	TAX
	STX $22
	TXA
	CLC
	ADC #$005C
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	TAY
	STY $20
	LDA $24
	STA $02
	TYA
	SEC
	SBC $02
	LDY #$00CD
	JSL MULT168
	LDY $20
	JSL DIVISION16S_DIVISOR_POSITIVE
	SEP #PROC_FLAGS::ACCUM8
	JSR a:.LOWORD(SUCCESS_255)
	.A16
	CMP #$0000
	BNE @UNKNOWN8
	JMP a:.LOWORD(@UNKNOWN2)
@UNKNOWN8:
	LDX $22
	TXA
	CLC
	ADC #$001C
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	STA $20
	JSR a:.LOWORD(GET_BATTLE_SPRITE_WIDTH)
	ASL
	ASL
	ASL
	CLC
	ADC #$0010
	STA $1E
	LDX $22
	TXA
	CLC
	ADC #$005B
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	STA $1C
	JSR a:.LOWORD(UNKNOWN_C2BD13)
	TAX
	STX $1A
	LDA $20
	JSR a:.LOWORD(GET_BATTLE_SPRITE_WIDTH)
	STA $02
	LDX $1A
	TXA
	CLC
	ADC $02
	CMP #$0020
	BEQ @UNKNOWN9
	BCC @UNKNOWN9
	JMP a:.LOWORD(@UNKNOWN21)
@UNKNOWN9:
	LDA #$0080
	STA $1A
	STA $18
	STA $04
	LDY $04
	STY $16
	LDX #$A21C
	STX $14
	LDA #$0008
	STA $22
	BRA @UNKNOWN16
@UNKNOWN10:
	LDA a:.LOWORD(RAM)+battler::consciousness,X
	AND #$00FF
	BEQ @UNKNOWN15
	LDA a:.LOWORD(RAM)+battler::sprite,X
	JSR a:.LOWORD(GET_BATTLE_SPRITE_WIDTH)
	ASL
	ASL
	ASL
	LSR
	STA $02
	STA $12
	LDX $14
	LDA a:.LOWORD(RAM)+battler::row,X
	AND #$00FF
	CMP $1C
	BNE @UNKNOWN12
	LDA a:.LOWORD(RAM)+battler::initiative,X
	AND #$00FF
	SEC
	SBC $02
	LDY $16
	STY $02
	CMP $02
	BCS @UNKNOWN11
	TAY
	STY $16
@UNKNOWN11:
	LDA $12
	STA $02
	LDA a:.LOWORD(RAM)+battler::initiative,X
	AND #$00FF
	CLC
	ADC $02
	CMP $04
	BCC @UNKNOWN15
	BEQ @UNKNOWN15
	STA $04
	BRA @UNKNOWN15
@UNKNOWN12:
	LDA a:.LOWORD(RAM)+battler::initiative,X
	AND #$00FF
	SEC
	SBC $02
	CMP $18
	BCS @UNKNOWN13
	STA $18
@UNKNOWN13:
	LDA a:.LOWORD(RAM)+battler::initiative,X
	AND #$00FF
	CLC
	ADC $02
	CMP $1A
	BCC @UNKNOWN15
	BEQ @UNKNOWN15
	STA $1A
@UNKNOWN15:
	TXA
	CLC
	ADC #.SIZEOF(battler)
	TAX
	STX $14
	INC $22
@UNKNOWN16:
	LDA $22
	CMP #$0020
	BCS @UNKNOWN17
	BEQ @UNKNOWN17
	JMP a:.LOWORD(@UNKNOWN10)
@UNKNOWN17:
	LDA $04
	SEC
	SBC #$0080
	PHA
	LDY $16
	STY $02
	LDA #$0080
	SEC
	SBC $02
	PLX
	STX $02
	CMP $02
	BCS @UNKNOWN18
	CPY $1E
	BCC @UNKNOWN19
	BEQ @UNKNOWN19
	LDA $1E
	LSR
	STA $02
	TYA
	SEC
	SBC $02
	TAY
	STY $24
	JMP a:.LOWORD(@UNKNOWN25)
@UNKNOWN18:
	.A16
	LDA $04
	CLC
	ADC $1E
	CMP #$0100
	BCS @UNKNOWN19
	LDA $1E
	LSR
	STA $02
	LDA $04
	CLC
	ADC $02
	TAY
	STY $24
	JMP a:.LOWORD(@UNKNOWN25)
@UNKNOWN19:
	LDA #$0001
	SEC
	SBC $1C
	STA $1C
	LDA $1A
	SEC
	SBC #$0080
	STA $02
	LDA #$0080
	SEC
	SBC $18
	CMP $02
	BCS @UNKNOWN20
	LDA $18
	CMP $1E
	BCC @UNKNOWN21
	BEQ @UNKNOWN21
	LDA $1E
	LSR
	STA $02
	LDA $18
	SEC
	SBC $02
	TAY
	STY $24
	JMP a:.LOWORD(@UNKNOWN25)
@UNKNOWN20:
	LDA $1A
	CLC
	ADC $1E
	CMP #$0100
	BCS @UNKNOWN21
	LDA $1E
	LSR
	CLC
	ADC $1A
	TAY
	STY $24
	JMP a:.LOWORD(@UNKNOWN25)
@UNKNOWN21:
	LDX #$A21C
	STX $12
	LDA #$0008
	STA $02
	BRA @UNKNOWN24
@UNKNOWN22:
	TXA
	CLC
	ADC #$000C
	TAY
	STY $14
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN23
	LDA a:.LOWORD(RAM)+battler::afflictions,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN23
	LDA $20
	JSR a:.LOWORD(GET_BATTLE_SPRITE_WIDTH)
	STA $04
	LDX $12
	LDA a:.LOWORD(RAM)+battler::sprite,X
	JSR a:.LOWORD(GET_BATTLE_SPRITE_WIDTH)
	PHA
	LDA $04
	PLY
	STY $04
	CMP $04
	BNE @UNKNOWN23
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	LDY $14
	STA a:.LOWORD(RAM),Y
	LDX $12
	REP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+battler::initiative,X
	AND #$00FF
	TAY
	STY $24
	LDA a:.LOWORD(RAM)+battler::row,X
	AND #$00FF
	STA $1C
	BRA @UNKNOWN25
@UNKNOWN23:
	LDX $12
	TXA
	CLC
	ADC #.SIZEOF(battler)
	TAX
	STX $12
	INC $02
@UNKNOWN24:
	LDA $02
	CMP #$0020
	BCC @UNKNOWN22
	JMP a:.LOWORD(@UNKNOWN2)
@UNKNOWN25:
	JSR a:.LOWORD(UNKNOWN_C2BD13)
	TAX
	STX $22
	LDA $20
	JSR a:.LOWORD(GET_BATTLE_SPRITE_WIDTH)
	STA $02
	LDX $22
	TXA
	CLC
	ADC $02
	CMP #$0020
	BEQ @UNKNOWN26
	BCC @UNKNOWN26
	JMP a:.LOWORD(@UNKNOWN2)
@UNKNOWN26:
	LDA #$A21C
	STA $22
	LDX #$0008
	STX $20
	BRA @UNKNOWN28
@UNKNOWN27:
	TAX
	LDA a:.LOWORD(RAM)+battler::consciousness,X
	AND #$00FF
	BEQ @UNKNOWN29
	LDA $22
	CLC
	ADC #.SIZEOF(battler)
	STA $22
	LDX $20
	INX
	STX $20
@UNKNOWN28:
	CPX #$0020
	BCC @UNKNOWN27
@UNKNOWN29:
	LDA $22
	STA .LOWORD(CURRENT_TARGET)
	LDX .LOWORD(CURRENT_TARGET)
	LDA $26
	JSL BATTLE_INIT_ENEMY_STATS
	LDY $24
	TYA
	SEP #PROC_FLAGS::ACCUM8
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM)+68,X
	REP #PROC_FLAGS::ACCUM8
	LDA $1C
	SEP #PROC_FLAGS::ACCUM8
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM)+16,X
	LDX .LOWORD(CURRENT_TARGET)
	REP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+16,X
	AND #$00FF
	BEQ @UNKNOWN30
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0080
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM)+69,X
	BRA @UNKNOWN31
@UNKNOWN30:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0090
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM)+69,X
@UNKNOWN31:
	REP #PROC_FLAGS::ACCUM8
	LDA $26
	JSR a:.LOWORD(UNKNOWN_C2F09F)
	SEP #PROC_FLAGS::ACCUM8
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM)+67,X
	LDA #$0001
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM)+13,X
	JSL FIX_TARGET_NAME
	.A16
	LDA $28
	BEQ @UNKNOWN32
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF7810
	BRA @UNKNOWN33
@UNKNOWN32:
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_EF77FD
@UNKNOWN33:
	PLD
	RTS

BTLACT_SOW_SEEDS: ;$C2C13C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$0001
	JSR a:.LOWORD(CALL_FOR_HELP_COMMON)
	RTL

BTLACT_CALL_FOR_HELP: ;$C2C145
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$0000
	JSR a:.LOWORD(CALL_FOR_HELP_COMMON)
	RTL

BTLACT_RAINBOW_OF_COLOURS: ;$C2C14E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM)+68,X
	AND #$00FF
	STA $02
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM)+69,X
	AND #$00FF
	TAY
	STY $10
	LDX .LOWORD(CURRENT_ATTACKER)
	STX $0E
	LDX .LOWORD(CURRENT_ATTACKER)
	LDA a:.LOWORD(RAM)+8,X
	AND #$00FF
	LDX $0E
	JSL BATTLE_INIT_ENEMY_STATS
	LDA $02
	SEP #PROC_FLAGS::ACCUM8
	LDX .LOWORD(CURRENT_ATTACKER)
	STA a:.LOWORD(RAM)+68,X
	LDY $10
	REP #PROC_FLAGS::ACCUM8
	TYA
	SEP #PROC_FLAGS::ACCUM8
	LDX .LOWORD(CURRENT_ATTACKER)
	STA a:.LOWORD(RAM)+69,X
	LDX .LOWORD(CURRENT_ATTACKER)
	REP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	JSR a:.LOWORD(UNKNOWN_C2F09F)
	SEP #PROC_FLAGS::ACCUM8
	LDX .LOWORD(CURRENT_ATTACKER)
	STA a:.LOWORD(RAM)+67,X
	LDA #$0001
	LDX .LOWORD(CURRENT_ATTACKER)
	STA a:.LOWORD(RAM)+13,X
	REP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA .LOWORD(UNKNOWN_7EAA92)
	PLD
	RTL

BTLACT_FLY_HONEY: ;$C2C1BD
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDX #.LOWORD(BATTLERS_TABLE) + .SIZEOF(battler) * 8
	LDY #$0008
	BRA @STARTLOOP
@NEXTBATTLER:
	LDA a:battler::consciousness,X
	AND #$00FF
	BEQ @BATTLERNOTBELCH
	LDA a:battler::ally_or_enemy,X
	AND #$00FF
	CMP #$0001
	BNE @BATTLERNOTBELCH
	LDA a:battler::id,X
	CMP #ENEMY::MASTER_BELCH_3
	BEQ @BATTLERISBELCH
	CMP #ENEMY::MASTER_BELCH_1
	BNE @BATTLERNOTBELCH
@BATTLERISBELCH:
	LDA #ENEMY::MASTER_BELCH_2
	STA a:battler::id,X
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_C8F8C0
	BRA @RETURN
@BATTLERNOTBELCH:
	TXA
	CLC
	ADC #.SIZEOF(battler)
	TAX
	INY
@STARTLOOP:
	CPY #BATTLER_COUNT
	BCC @NEXTBATTLER
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_C8F8FD
@RETURN:
	PLD
	RTL

UNKNOWN_C2C21F: ;$C2C21F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEA
	TCD
	PLA
	STX $14
	STA $12
	STZ $10
	LDA .LOWORD(BATTLE_MODE_FLAG)
	BEQ @UNKNOWN0
	LDA $12
	CMP #$01E3
	BNE @UNKNOWN1
@UNKNOWN0:
	LDA #$0001
	STA $10
@UNKNOWN1:
	LDA $10
	BNE @UNKNOWN4
	LDY #$001E
	LDX #$0001
	LDA #$0006
	JSL UNKNOWN_C2E8C4
	BRA @UNKNOWN3
@UNKNOWN2:
	JSL UNKNOWN_C12DD5
@UNKNOWN3:
	JSL UNKNOWN_C2E9C8
	CMP #$0000
	BNE @UNKNOWN2
@UNKNOWN4:
	LDA $12
	STA .LOWORD(CURRENT_BATTLE_GROUP)
	LOADPTR BTL_ENTRY_BG_TABLE, $06
	LDA .LOWORD(CURRENT_BATTLE_GROUP)
	ASL
	ASL
	STA $0E
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	STA $04
	LDA $0E
	INC
	INC
	CLC
	ADC $06
	STA $06
	LDA [$06]
	STA $02
	LDA .LOWORD(CURRENT_BATTLE_GROUP)
	ASL
	ASL
	ASL
	CLC
	ADC #battle_entry_ptr_entry::letterbox_style
	TAX
	LDA f:BTL_ENTRY_PTR_TABLE,X
	AND #$00FF
	TAX
	STX $0E
	JSL UNKNOWN_C08726
	JSL LOAD_ENEMY_BATTLE_SPRITES
	JSL LOAD_WINDOW_GFX
	LDA #$0001
	JSL UNKNOWN_C44963
	LDX $0E
	TXY
	LDX $02
	LDA $04
	JSL LOAD_BATTLE_BG
	JSL UNKNOWN_C2EEE7
	LDA #$0018
	JSL UNKNOWN_C0856B
	JSL UNKNOWN_C2F8F9
	LDA #$0001
	STA .LOWORD(BATTLE_MODE_FLAG)
	LDA $14
	BEQ @UNKNOWN5
	LDA $14
	JSL CHANGE_MUSIC
@UNKNOWN5:
	JSL UNKNOWN_C08744
	LDA $10
	BEQ @UNKNOWN6
	LDX #$0004
	LDA #$0001
	JSL UNKNOWN_C0886C
	JSR a:.LOWORD(UNKNOWN_C269DE)
	BRA @UNKNOWN9
@UNKNOWN6:
	LDX #$0001
	LDA #$000F
	JSL UNKNOWN_C0886C
	LDA $12
	CMP #$01E3
	BEQ @UNKNOWN9
	LDY #$0005
	LDX #$0000
	LDA #$0006
	JSL UNKNOWN_C2E8C4
	BRA @UNKNOWN8
@UNKNOWN7:
	JSL UNKNOWN_C12DD5
@UNKNOWN8:
	JSL UNKNOWN_C2E9C8
	CMP #$0000
	BNE @UNKNOWN7
@UNKNOWN9:
	PLD
	RTS

UNKNOWN_C2C32C: ;$C2C32C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	STA $12
	LDA #$A260
	STA $02
	LDX $02
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	STA $10
	LDY #$A261
	STY $0E
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	STA $04
	LDX #$A21C
	LDA $12
	JSL BATTLE_INIT_ENEMY_STATS
	LDA $10
	SEP #PROC_FLAGS::ACCUM8
	LDX $02
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	SEP #PROC_FLAGS::ACCUM8
	LDY $0E
	STA a:.LOWORD(RAM),Y
	LDA #$0001
	STA .LOWORD(BATTLERS_TABLE)+637
	REP #PROC_FLAGS::ACCUM8
	PLD
	RTS

UNKNOWN_C2C37A: ;$C2C37A
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	STX $02
	TAY
	STY $12
	LDA $22
	STA $06
	LDA $24
	STA $08
	LDX #$0004
	LDA #$0001
	JSL UNKNOWN_C0887A
	JSR a:.LOWORD(UNKNOWN_C269DE)
	STZ .LOWORD(BATTLE_MODE_FLAG)
	STZ .LOWORD(UNKNOWN_7E5DD4)
	JSL UNKNOWN_C1DD5F
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSL DISPLAY_IN_BATTLE_TEXT
	LDX #$0002
	LDA #$0001
	JSL UNKNOWN_C0887A
	JSR a:.LOWORD(UNKNOWN_C269DE)
	LDX $02
	LDY $12
	TYA
	JSR a:.LOWORD(UNKNOWN_C2C21F)
	LDA #$0001
	STA .LOWORD(BATTLE_MODE_FLAG)
	JSL REDIRECT_SHOW_HPPP_WINDOWS
	CREATE_WINDOW_FAR #WINDOW::TEXT_BATTLE
	LDA #1*SECOND
	JSR a:.LOWORD(WAIT)
	PLD
	RTS

GIYGAS_HURT_PRAYER: ;$C2C3E2
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TAX
	STX $0E
	LDA #1*SECOND
	JSR a:.LOWORD(WAIT)
	LDA #$A21C
	STA .LOWORD(CURRENT_TARGET)
	JSL FIX_TARGET_NAME
	LDA #1*SECOND
	STA .LOWORD(GREEN_FLASH_DURATION)
	LDA #$0001
	STA .LOWORD(UNKNOWN_7EAA8E)
	LDX $0E
	TXA
	JSR a:.LOWORD(TWENTY_FIVE_PERCENT_VARIANCE)
	LDX #$00FF
	JSR a:.LOWORD(CALC_RESIST_DAMAGE)
	LDA #1*SECOND
	JSR a:.LOWORD(WAIT)
	PLD
	RTS

UNKNOWN_C2C41F: ;$C2C41F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEC
	TCD
	PLA
	TAY
	STY $12
	LDA $22
	STA $06
	LDA $24
	STA $08
	LDX #$0001
	TXA
	JSL UNKNOWN_C0887A
	LDA #$0002
	JSL UNKNOWN_C0AC0C
	JSR a:.LOWORD(UNKNOWN_C269DE)
	STZ .LOWORD(BATTLE_MODE_FLAG)
	JSL UNKNOWN_C1DD5F
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0004
	STA a:.LOWORD(TM_MIRROR)
	REP #PROC_FLAGS::ACCUM8
	LDA #MUSIC::GIYGAS_WEAKENED
	JSL CHANGE_MUSIC
	LDX #$0001
	TXA
	JSL UNKNOWN_C0886C
	JSR a:.LOWORD(UNKNOWN_C269DE)
	LDA #2*SIXTHS_OF_A_SECOND
	JSR a:.LOWORD(WAIT)
	LDA $06
	STA $0E
	LDA $08
	STA $10
	JSL DISPLAY_IN_BATTLE_TEXT
	LDA #$0001
	STA .LOWORD(BATTLE_MODE_FLAG)
	LDA #2*SIXTHS_OF_A_SECOND
	JSR a:.LOWORD(WAIT)
	LDA #$0002
	JSL UNKNOWN_C0AC0C
	LDX #$0001
	TXA
	JSL UNKNOWN_C0887A
	JSR a:.LOWORD(UNKNOWN_C269DE)
	JSL REDIRECT_SHOW_HPPP_WINDOWS
	CREATE_WINDOW_FAR #WINDOW::TEXT_BATTLE
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0017
	STA a:.LOWORD(TM_MIRROR)
	LDY $12
	REP #PROC_FLAGS::ACCUM8
	TYA
	JSL CHANGE_MUSIC
	LDX #$0001
	TXA
	JSL UNKNOWN_C0886C
	JSR a:.LOWORD(UNKNOWN_C269DE)
	PLD
	RTS

.INCLUDE "battle/actions/pokey_speech_1.asm"

.INCLUDE "battle/actions/null12.asm"

.INCLUDE "battle/actions/pokey_speech_2.asm"

BTLACT_GIYGAS_PRAYER_1: ;$C2C572
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LOADPTR TEXT_BLOCK_C7BC96, $0E
	LDX #MUSIC::GIYGAS_PHASE3
	LDA #$01DE
	JSR a:.LOWORD(UNKNOWN_C2C37A)
	LDA #2*SECONDS
	JSR a:.LOWORD(WAIT)
	LDA #SFX::PSI_STARSTORM
	JSL PLAY_SOUND
	LDA #1*HALF_OF_A_SECOND
	JSR a:.LOWORD(WAIT)
	LDA #1*SECOND
	STA .LOWORD(VERTICAL_SHAKE_DURATION)
	LDA #1*FIFTH_OF_A_SECOND
	STA .LOWORD(VERTICAL_SHAKE_HOLD_DURATION)
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_C9F86A
	LDA #GIYGAS_PHASES::PRAYER_1_USED
	STA .LOWORD(GIYGAS_PHASE)
	LDA #$00E5
	JSR a:.LOWORD(UNKNOWN_C2C32C)
	LDX #MUSIC::NONE
	LDA #$01DF
	JSR a:.LOWORD(UNKNOWN_C2C21F)
	PLD
	RTL

BTLACT_GIYGAS_PRAYER_2: ;$C2C5D1
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LOADPTR TEXT_BLOCK_C7BA2C, $0E
	LDX #MUSIC::GIYGAS_PHASE3
	LDA #$01DF
	JSR a:.LOWORD(UNKNOWN_C2C37A)
	LDA #GIYGAS_PRAYER_DAMAGE_1
	JSR a:.LOWORD(GIYGAS_HURT_PRAYER)
	LDA #GIYGAS_PHASES::PRAYER_2_USED
	STA .LOWORD(GIYGAS_PHASE)
	PLD
	RTL

BTLACT_GIYGAS_PRAYER_3: ;$C2C5FA
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LOADPTR TEXT_BLOCK_C7BAC7, $0E
	LDX #MUSIC::GIYGAS_PHASE3
	LDA #$01DF
	JSR a:.LOWORD(UNKNOWN_C2C37A)
	LDA #GIYGAS_PRAYER_DAMAGE_2
	JSR a:.LOWORD(GIYGAS_HURT_PRAYER)
	LDA #GIYGAS_PHASES::PRAYER_3_USED
	STA .LOWORD(GIYGAS_PHASE)
	PLD
	RTL

BTLACT_GIYGAS_PRAYER_4: ;$C2C623
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LOADPTR TEXT_BLOCK_C7BB38, $0E
	LDX #MUSIC::GIYGAS_PHASE3
	LDA #$01DF
	JSR a:.LOWORD(UNKNOWN_C2C37A)
	LDA #GIYGAS_PRAYER_DAMAGE_3
	JSR a:.LOWORD(GIYGAS_HURT_PRAYER)
	LDA #GIYGAS_PHASES::PRAYER_4_USED
	STA .LOWORD(GIYGAS_PHASE)
	PLD
	RTL

BTLACT_GIYGAS_PRAYER_5: ;$C2C64C
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LOADPTR TEXT_BLOCK_C7BBF3, $0E
	LDX #MUSIC::GIYGAS_PHASE3
	LDA #$01DF
	JSR a:.LOWORD(UNKNOWN_C2C37A)
	LDA #GIYGAS_PRAYER_DAMAGE_4
	JSR a:.LOWORD(GIYGAS_HURT_PRAYER)
	LDA #GIYGAS_PHASES::PRAYER_5_USED
	STA .LOWORD(GIYGAS_PHASE)
	PLD
	RTL

BTLACT_GIYGAS_PRAYER_6: ;$C2C675
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LOADPTR TEXT_BLOCK_C7BC56, $0E
	LDX #MUSIC::GIYGAS_PHASE3
	LDA #$01DF
	JSR a:.LOWORD(UNKNOWN_C2C37A)
	LDA #GIYGAS_PRAYER_DAMAGE_5
	JSR a:.LOWORD(GIYGAS_HURT_PRAYER)
	LDA #GIYGAS_PHASES::PRAYER_6_USED
	STA .LOWORD(GIYGAS_PHASE)
	PLD
	RTL

BTLACT_GIYGAS_PRAYER_7: ;$C2C69E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LOADPTR TEXT_BLOCK_C7B9A1, $0E
	LDX #MUSIC::GIYGAS_PHASE3
	LDA #$01DF
	JSR a:.LOWORD(UNKNOWN_C2C37A)
	LDA #GIYGAS_PRAYER_DAMAGE_6
	JSR a:.LOWORD(GIYGAS_HURT_PRAYER)
	LDA #GIYGAS_PHASES::PRAYER_7_USED
	STA .LOWORD(GIYGAS_PHASE)
	LDX #MUSIC::GIYGAS_WEAKENED2
	LDA #$01E0
	JSR a:.LOWORD(UNKNOWN_C2C21F)
	PLD
	RTL

BTLACT_GIYGAS_PRAYER_8: ;$C2C6D0
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LOADPTR TEXT_BLOCK_C9F6DE, $0E
	LDA #$004A
	JSR a:.LOWORD(UNKNOWN_C2C41F)
	LDA #GIYGAS_PHASES::PRAYER_8_USED
	STA .LOWORD(GIYGAS_PHASE)
	PLD
	RTL

BTLACT_GIYGAS_PRAYER_9: ;$C2C6F0
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE6
	TCD
	JSL UNKNOWN_C20F9A
	LOADPTR TEXT_BLOCK_C9F70C, $0E
	LDA #$004A
	JSR a:.LOWORD(UNKNOWN_C2C41F)
	LDA #GIYGAS_PRAYER_DAMAGE_7
	JSR a:.LOWORD(GIYGAS_HURT_PRAYER)
	LOADPTR TEXT_BLOCK_C9F7BB, $0E
	LDA #$004A
	JSR a:.LOWORD(UNKNOWN_C2C41F)
	LDA #GIYGAS_PRAYER_DAMAGE_8
	JSR a:.LOWORD(GIYGAS_HURT_PRAYER)
	LOADPTR TEXT_BLOCK_C9F804, $0E
	LDA #$004A
	JSR a:.LOWORD(UNKNOWN_C2C41F)
	LDA #GIYGAS_PRAYER_DAMAGE_9
	JSR a:.LOWORD(GIYGAS_HURT_PRAYER)
	LOADPTR TEXT_BLOCK_C9F84D, $0E
	LDA #$004A
	JSR a:.LOWORD(UNKNOWN_C2C41F)
	LDA #GIYGAS_PRAYER_DAMAGE_10
	JSR a:.LOWORD(GIYGAS_HURT_PRAYER)
	JSL REDIRECT_CLOSE_FOCUS_WINDOW
	STZ .LOWORD(BATTLE_MODE_FLAG)
	JSL REDIRECT_HIDE_HPPP_WINDOWS
	LDA #$0001
	STA .LOWORD(BATTLE_MODE_FLAG)
	JSL UNKNOWN_C12DD5
	LDA #GIYGAS_PHASES::DEFEATED
	STA .LOWORD(GIYGAS_PHASE)
	LDA #MUSIC::GIYGAS_DEATH
	JSL CHANGE_MUSIC
	LDY #$0000
	STY $18
@UNKNOWN0:
	LOADPTR FINAL_GIYGAS_PRAYER_NOISE_TABLE, $06
	LDY $18
	TYA
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	AND #$00FF
	TAX
	INY
	STY $18
	TXA
	JSL PLAY_SOUND
	LDY $18
	TYA
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	TAX
	BEQ @UNKNOWN1
	INY
	STY $18
	TXA
	JSR a:.LOWORD(WAIT)
	BRA @UNKNOWN0
@UNKNOWN1:
	LDA #MUSIC::GIYGAS_DEATH2
	JSL CHANGE_MUSIC
	STZ .LOWORD(GIYGAS_PHASE)
	LDA #8*SECONDS
	JSR a:.LOWORD(WAIT)
	LDX #$A276
	STX $16
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA a:.LOWORD(RAM),X
	JSL UNKNOWN_C2F8F9
	.A16
	DISPLAY_BATTLE_TEXT_PTR TEXT_BLOCK_C8FF31
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	LDX $16
	STA a:.LOWORD(RAM),X
	JSL UNKNOWN_C2F8F9
	.A16
	LDA #1*SECOND
	JSR a:.LOWORD(WAIT)
	.A16
	LDY #$0002
	STY $14
	TYA
	STA $04
	LDA #$002D
	STA $02
	LDA #1*SECOND
	STA .LOWORD(VERTICAL_SHAKE_DURATION)
	LDX #$0000
	STX $12
	BRA @UNKNOWN8
@UNKNOWN2:
	.A16
	LDA #$0000
	STA $18
	BRA @UNKNOWN5
@UNKNOWN3:
	JSL UNKNOWN_C12DD5
	.A16
	LDA $04
	BEQ @UNKNOWN4
	LDA $02
	DEC
	STA $02
	BNE @UNKNOWN4
	LDA $04
	DEC
	STA $04
	LDA #$002D
	STA $02
	LDA #1*SECOND
	STA .LOWORD(VERTICAL_SHAKE_DURATION)
@UNKNOWN4:
	LDA $18
	INC
	STA $18
@UNKNOWN5:
	LDX $12
	TXA
	ASL
	TAX
	LDA $18
	CMP f:GIYGAS_DEATH_STATIC_TRANSITION_DELAYS,X
	BCC @UNKNOWN3
	JSL UNKNOWN_C2DAE3
	LDY $14
	TYA
	JSL UNKNOWN_C0AC3A
	LDY $14
	CPY #$0002
	BNE @UNKNOWN6
	LDY #$0001
	STY $14
	BRA @UNKNOWN7
@UNKNOWN6:
	LDY #$0002
	STY $14
@UNKNOWN7:
	LDX $12
	INX
	STX $12
@UNKNOWN8:
	TXA
	ASL
	TAX
	LDA f:GIYGAS_DEATH_STATIC_TRANSITION_DELAYS,X
	BNE @UNKNOWN2
	LDA #MUSIC::GIYGAS_STATIC
	JSL CHANGE_MUSIC
	.A16
	LDA #10*SECONDS
	JSR a:.LOWORD(WAIT)
	LDA #SFX::PSI_THUNDER_DAMAGE
	JSL PLAY_SOUND
	JSL STOP_MUSIC
	LDY #$0005
	LDX #$0000
	TYA
	JSL UNKNOWN_C2E8C4
	BRA @UNKNOWN10
@UNKNOWN9:
	JSL UNKNOWN_C12DD5
@UNKNOWN10:
	JSL UNKNOWN_C2E9C8
	CMP #$0000
	BNE @UNKNOWN9
	JSL STOP_MUSIC
	LDX #MUSIC::NONE
	LDA #$01E3
	JSR a:.LOWORD(UNKNOWN_C2C21F)
	LDA #8*SECONDS
	JSR a:.LOWORD(WAIT)
	LDA #$0003
	STA .LOWORD(UNKNOWN_7EAA0E)
	PLD
	RTL

LOAD_ENEMY_BATTLE_SPRITES: ;$C2C8C8
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA #$0009
	JSL UNKNOWN_C08D79
	LDY #$0000
	LDX #$5800
	TYA
	JSL SET_BG1_VRAM_LOCATION
	LDY #$1000
	LDX #$5C00
	LDA #$0000
	JSL SET_BG2_VRAM_LOCATION
	LDY #$6000
	LDX #$7C00
	LDA #$0000
	JSL SET_BG3_VRAM_LOCATION
	LDA #$0061
	JSL SET_OAM_SIZE
	LOADPTR UNKNOWN_7F8000, $06
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA [$06]
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDY #$7C00
	LDX #$0800
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0003
	JSL UNKNOWN_C08616
	PLD
	RTL

UNKNOWN_C2C92D: ;$C2C92D
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE1
	TCD
	PLA
	STX $1D
	STA $1B
	LDA ($1B)
	AND #$00FF
	STA $19
	LDY #$0002
	LDA ($1B),Y
	AND #$00FF
	BEQ @UNKNOWN0
	JMP a:.LOWORD(@UNKNOWN34)
@UNKNOWN0:
	LDA $1B
	CLC
	ADC #$000B
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $18
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	BNE @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN23)
@UNKNOWN1:
	SEP #PROC_FLAGS::ACCUM8
	LDA $18
	DEC
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	BEQ @UNKNOWN2
	JMP a:.LOWORD(@UNKNOWN23)
@UNKNOWN2:
	LDY #$000A
	SEP #PROC_FLAGS::ACCUM8
	LDA ($1B),Y
	STA a:.LOWORD(RAM),X
	LDY #$0003
	REP #PROC_FLAGS::ACCUM8
	LDA ($1B),Y
	AND #$00FF
	CMP #$0002
	BEQ @UNKNOWN5
	CMP #$0001
	BNE @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN10)
@UNKNOWN3:
	CMP #$0003
	BNE @UNKNOWN4
	JMP a:.LOWORD(@UNKNOWN16)
@UNKNOWN4:
	JMP a:.LOWORD(@UNKNOWN22)
@UNKNOWN5:
	LDY #$0007
	SEP #PROC_FLAGS::ACCUM8
	LDA ($1B),Y
	LDY #$0006
	SEC
	SBC ($1B),Y
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	INC $02
	LDX #$0000
	STX $16
	BRA @UNKNOWN9
@UNKNOWN6:
	LDY #$0009
	LDA ($1B),Y
	AND #$00FF
	STA $04
	TXA
	CMP $04
	BCS @UNKNOWN7
	TXA
	CLC
	ADC $02
	SEC
	SBC $04
	STA $14
	BRA @UNKNOWN8
@UNKNOWN7:
	TXA
	SEC
	SBC $04
	STA $14
@UNKNOWN8:
	LDY #$0006
	LDA ($1B),Y
	AND #$00FF
	TAY
	STY $12
	STX $04
	TYA
	CLC
	ADC $04
	ASL
	LDY #$004C
	CLC
	ADC ($1B),Y
	PHA
	LDA $14
	STA $04
	LDY $12
	TYA
	CLC
	ADC $04
	ASL
	CLC
	ADC $1B
	TAX
	LDA a:.LOWORD(RAM)+12,X
	PLX
	STA a:.LOWORD(RAM),X
	LDX $16
	INX
	STX $16
@UNKNOWN9:
	TXA
	CMP $02
	BCC @UNKNOWN6
	LDA $1B
	CLC
	ADC #$0009
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	INC
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	CMP $02
	BCC @UNKNOWN10
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
@UNKNOWN10:
	LDY #$0005
	SEP #PROC_FLAGS::ACCUM8
	LDA ($1B),Y
	LDY #$0004
	SEC
	SBC ($1B),Y
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	INC $02
	LDX #$0000
	STX $16
	BRA @UNKNOWN14
@UNKNOWN11:
	LDY #$0008
	LDA ($1B),Y
	AND #$00FF
	STA $04
	TXA
	CMP $04
	BCS @UNKNOWN12
	TXA
	CLC
	ADC $02
	SEC
	SBC $04
	STA $14
	BRA @UNKNOWN13
@UNKNOWN12:
	TXA
	SEC
	SBC $04
	STA $14
@UNKNOWN13:
	LDY #$0004
	LDA ($1B),Y
	AND #$00FF
	TAY
	STY $12
	STX $04
	TYA
	CLC
	ADC $04
	ASL
	LDY #$004C
	CLC
	ADC ($1B),Y
	PHA
	LDA $14
	STA $04
	LDY $12
	TYA
	CLC
	ADC $04
	ASL
	CLC
	ADC $1B
	TAX
	LDA a:.LOWORD(RAM)+12,X
	PLX
	STA a:.LOWORD(RAM),X
	LDX $16
	INX
	STX $16
@UNKNOWN14:
	TXA
	CMP $02
	BCC @UNKNOWN11
	LDA $1B
	CLC
	ADC #$0008
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	INC
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	CMP $02
	BCS @UNKNOWN15
	BEQ @UNKNOWN15
	JMP a:.LOWORD(@UNKNOWN22)
@UNKNOWN15:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
	JMP a:.LOWORD(@UNKNOWN22)
@UNKNOWN16:
	LDY #$0005
	SEP #PROC_FLAGS::ACCUM8
	LDA ($1B),Y
	LDY #$0004
	SEC
	SBC ($1B),Y
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	INC
	STA $10
	LDY #$0000
	STY $0E
	BRA @UNKNOWN20
@UNKNOWN17:
	LDY #$0008
	LDA ($1B),Y
	AND #$00FF
	STA $04
	LDY $0E
	TYA
	CLC
	ADC $04
	STA $02
	STA $14
	LDA $10
	ASL
	STA $04
	LDA $02
	CMP $04
	BCC @UNKNOWN18
	LDA $02
	SEC
	SBC $04
	STA $02
	STA $14
	BRA @UNKNOWN19
@UNKNOWN18:
	LDA $10
	PHA
	LDA $02
	PLY
	STY $02
	CMP $02
	BCC @UNKNOWN19
	LDA $14
	STA $02
	LDA $04
	DEC
	SEC
	SBC $02
	STA $02
	STA $14
@UNKNOWN19:
	LDY #$0004
	LDA ($1B),Y
	AND #$00FF
	TAX
	LDY $0E
	STY $02
	TXA
	CLC
	ADC $02
	ASL
	LDY #$004C
	CLC
	ADC ($1B),Y
	PHA
	LDA $14
	STA $02
	TXA
	CLC
	ADC $02
	ASL
	CLC
	ADC $1B
	TAX
	LDA a:.LOWORD(RAM)+12,X
	PLX
	STA a:.LOWORD(RAM),X
	LDY $0E
	INY
	STY $0E
@UNKNOWN20:
	LDA $10
	STA $02
	TYA
	CMP $02
	BCS @UNKNOWN21
	BEQ @UNKNOWN21
	JMP a:.LOWORD(@UNKNOWN17)
@UNKNOWN21:
	LDA $1B
	CLC
	ADC #$0008
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $00
	INC $00
	LDA $00
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	LDA $10
	ASL
	STA $02
	LDA $00
	AND #$00FF
	CMP $02
	BCC @UNKNOWN22
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
@UNKNOWN22:
	REP #PROC_FLAGS::ACCUM8
	LDA #$0018
	JSL UNKNOWN_C0856B
@UNKNOWN23:
	LDA .LOWORD(GIYGAS_PHASE)
	CMP #GIYGAS_PHASES::DEFEATED
	BNE @UNKNOWN24
	JMP a:.LOWORD(@UNKNOWN43)
@UNKNOWN24:
	LDA $1B
	CLC
	ADC #$0053
	TAX
	LDA a:.LOWORD(RAM),X
	BNE @UNKNOWN25
	JMP a:.LOWORD(@UNKNOWN29)
@UNKNOWN25:
	DEC
	STA a:.LOWORD(RAM),X
	BEQ @UNKNOWN26
	JMP a:.LOWORD(@UNKNOWN29)
@UNKNOWN26:
	LDA $1B
	CLC
	ADC #$0052
	TAX
	STX $0E
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	INC
	AND #$0003
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	CLC
	ADC $1B
	TAX
	LDA a:.LOWORD(RAM)+78,X
	AND #$00FF
	STA $10
	BNE @UNKNOWN27
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	LDX $0E
	STA a:.LOWORD(RAM),X
	LDY #$004E
	REP #PROC_FLAGS::ACCUM8
	LDA ($1B),Y
	AND #$00FF
	STA $10
@UNKNOWN27:
	CMP #$0000
	BNE @UNKNOWN28
	JMP a:.LOWORD(@UNKNOWN29)
@UNKNOWN28:
	LOADPTR BG_SCROLLING_TABLE, $06
	LDA $10
	OPTIMIZED_MULT $04, 10
	STA $12
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	LDY #$0053
	STA ($1B),Y
	LDA $12
	INC
	INC
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	LDY #$0059
	STA ($1B),Y
	LDA $12
	INC
	INC
	INC
	INC
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	LDY #$005B
	STA ($1B),Y
	LDA $12
	CLC
	ADC #$0006
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	LDY #$005D
	STA ($1B),Y
	LDA $12
	CLC
	ADC #$0008
	CLC
	ADC $06
	STA $06
	LDA [$06]
	LDY #$005F
	STA ($1B),Y
@UNKNOWN29:
	LDA $1B
	CLC
	ADC #$0055
	STA $02
	LDA $1B
	CLC
	ADC #$0059
	TAX
	LDY #$005D
	LDA a:.LOWORD(RAM),X
	CLC
	ADC ($1B),Y
	STA a:.LOWORD(RAM),X
	STA $04
	LDX $02
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $04
	LDX $02
	STA a:.LOWORD(RAM),X
	LDA $1B
	CLC
	ADC #$0057
	TAY
	STY $16
	LDA $1B
	CLC
	ADC #$005B
	TAX
	LDY #$005F
	LDA a:.LOWORD(RAM),X
	CLC
	ADC ($1B),Y
	STA a:.LOWORD(RAM),X
	STA $04
	LDY $16
	LDA a:.LOWORD(RAM),Y
	CLC
	ADC $04
	STA a:.LOWORD(RAM),Y
	LDA $19
	CMP #$0001
	BEQ @UNKNOWN30
	CMP #$0002
	BEQ @UNKNOWN31
	CMP #$0003
	BEQ @UNKNOWN32
	CMP #$0004
	BEQ @UNKNOWN33
	JMP a:.LOWORD(@UNKNOWN34)
@UNKNOWN30:
	LDX $02
	LDA a:.LOWORD(RAM),X
	XBA
	AND #$00FF
	CLC
	ADC .LOWORD(UNKNOWN_7EAD96)
	STA a:.LOWORD(BG1_X_POS)
	LDA a:.LOWORD(RAM),Y
	XBA
	AND #$00FF
	CLC
	ADC .LOWORD(UNKNOWN_7EAD98)
	STA a:.LOWORD(BG1_Y_POS)
	BRA @UNKNOWN34
@UNKNOWN31:
	LDX $02
	LDA a:.LOWORD(RAM),X
	XBA
	AND #$00FF
	CLC
	ADC .LOWORD(UNKNOWN_7EAD96)
	STA a:.LOWORD(BG2_X_POS)
	LDA a:.LOWORD(RAM),Y
	XBA
	AND #$00FF
	CLC
	ADC .LOWORD(UNKNOWN_7EAD98)
	STA a:.LOWORD(BG2_Y_POS)
	BRA @UNKNOWN34
@UNKNOWN32:
	LDX $02
	LDA a:.LOWORD(RAM),X
	XBA
	AND #$00FF
	CLC
	ADC .LOWORD(UNKNOWN_7EAD96)
	STA a:.LOWORD(BG3_X_POS)
	LDA a:.LOWORD(RAM),Y
	XBA
	AND #$00FF
	CLC
	ADC .LOWORD(UNKNOWN_7EAD98)
	STA a:.LOWORD(BG3_Y_POS)
	BRA @UNKNOWN34
@UNKNOWN33:
	LDX $02
	LDA a:.LOWORD(RAM),X
	XBA
	AND #$00FF
	CLC
	ADC .LOWORD(UNKNOWN_7EAD96)
	STA a:.LOWORD(BG4_X_POS)
	LDA a:.LOWORD(RAM),Y
	XBA
	AND #$00FF
	CLC
	ADC .LOWORD(UNKNOWN_7EAD98)
	STA a:.LOWORD(BG4_Y_POS)
@UNKNOWN34:
	LDA $1B
	CLC
	ADC #$0066
	TAX
	LDA a:.LOWORD(RAM),X
	BNE @UNKNOWN35
	JMP a:.LOWORD(@UNKNOWN40)
@UNKNOWN35:
	DEC
	STA a:.LOWORD(RAM),X
	BEQ @UNKNOWN36
	JMP a:.LOWORD(@UNKNOWN40)
@UNKNOWN36:
	LDA $1B
	CLC
	ADC #$0065
	TAX
	STX $0E
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	INC
	AND #$0003
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	CLC
	ADC $1B
	TAX
	LDA a:.LOWORD(RAM)+97,X
	AND #$00FF
	STA $10
	BNE @UNKNOWN37
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	LDX $0E
	STA a:.LOWORD(RAM),X
	LDY #$0061
	REP #PROC_FLAGS::ACCUM8
	LDA ($1B),Y
	AND #$00FF
	STA $10
@UNKNOWN37:
	CMP #$0000
	BNE @UNKNOWN38
	JMP a:.LOWORD(@UNKNOWN40)
@UNKNOWN38:
	LOADPTR BG_DISTORTION_TABLE, $06
	LDA $10
	OPTIMIZED_MULT $04, 17
	STA $10
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	LDY #$0066
	STA ($1B),Y
	LDA $1B
	CLC
	ADC #$0068
	TAX
	LDA $10
	INC
	INC
	LDY $06
	STY $0A
	LDY $08
	STY $0C
	CLC
	ADC $0A
	STA $0A
	SEP #PROC_FLAGS::ACCUM8
	LDA [$0A]
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	LDA $10
	INC
	INC
	INC
	LDY $06
	STY $0A
	LDY $08
	STY $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	LDY #$0069
	STA ($1B),Y
	LDA $10
	CLC
	ADC #$0005
	LDY $06
	STY $0A
	LDY $08
	STY $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	LDY #$006B
	STA ($1B),Y
	LDA $10
	CLC
	ADC #$0007
	LDY $06
	STY $0A
	LDY $08
	STY $0C
	CLC
	ADC $0A
	STA $0A
	SEP #PROC_FLAGS::ACCUM8
	LDA [$0A]
	LDY #$006D
	STA ($1B),Y
	REP #PROC_FLAGS::ACCUM8
	LDA $10
	CLC
	ADC #$0008
	LDY $06
	STY $0A
	LDY $08
	STY $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	LDY #$006E
	STA ($1B),Y
	LDA $10
	CLC
	ADC #$000A
	LDY $06
	STY $0A
	LDY $08
	STY $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	LDY #$0070
	STA ($1B),Y
	LDA $10
	CLC
	ADC #$000C
	LDY $06
	STY $0A
	LDY $08
	STY $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	LDY #$0072
	STA ($1B),Y
	LDA $10
	CLC
	ADC #$000E
	LDY $06
	STY $0A
	LDY $08
	STY $0C
	CLC
	ADC $0A
	STA $0A
	SEP #PROC_FLAGS::ACCUM8
	LDA [$0A]
	LDY #$0074
	STA ($1B),Y
	REP #PROC_FLAGS::ACCUM8
	LDA $10
	CLC
	ADC #$000F
	CLC
	ADC $06
	STA $06
	LDA [$06]
	LDY #$0075
	STA ($1B),Y
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	CMP #$0003
	BNE @UNKNOWN39
	LDY $1D
	LDX $19
	INX
	INX
	INX
	INX
	LDA $1D
	CLC
	ADC #$0005
	JSL UNKNOWN_C0ADB2
	BRA @UNKNOWN40
@UNKNOWN39:
	LDY $1D
	LDX $19
	LDA $1D
	CLC
	ADC #$0005
	JSL UNKNOWN_C0ADB2
@UNKNOWN40:
	LDA $1B
	CLC
	ADC #$0068
	STA $0E
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	BNE @UNKNOWN41
	JMP a:.LOWORD(@UNKNOWN43)
@UNKNOWN41:
	LDA $1B
	CLC
	ADC #$0069
	TAX
	LDY #$0070
	LDA a:.LOWORD(RAM),X
	CLC
	ADC ($1B),Y
	STA a:.LOWORD(RAM),X
	LDA $1B
	CLC
	ADC #$006B
	TAX
	LDY #$0072
	LDA a:.LOWORD(RAM),X
	CLC
	ADC ($1B),Y
	STA a:.LOWORD(RAM),X
	LDA $1B
	CLC
	ADC #$006D
	TAX
	LDY #$0074
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	CLC
	ADC ($1B),Y
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	LDA $1B
	CLC
	ADC #$006E
	STA $02
	LDY #$0075
	LDX $02
	LDA a:.LOWORD(RAM),X
	CLC
	ADC ($1B),Y
	LDX $02
	STA a:.LOWORD(RAM),X
	LDY $1D
	LDX $19
	STX $14
	LDA $0E
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	DEC
	LDX $14
	JSL UNKNOWN_C0AE44+8
	LDX $02
	LDA a:.LOWORD(RAM),X
	JSL UNKNOWN_C0AE44+18
	LDA a:.LOWORD(UNKNOWN_7E0002)
	AND #$00FF
	AND #$0001
	CMP $1D
	BEQ @UNKNOWN42
	LDA .LOWORD(UNKNOWN_7EADAC)
	BNE @UNKNOWN43
@UNKNOWN42:
	LDY #$006D
	LDA ($1B),Y
	AND #$00FF
	TAY
	STY $10
	LDY #$006B
	LDA ($1B),Y
	XBA
	AND #$00FF
	TAX
	LDY #$0069
	LDA ($1B),Y
	LDY $10
	JSL UNKNOWN_C0AE5A
@UNKNOWN43:
	PLD
	RTL

UNKNOWN_C2CFE5: ;$C2CFE5
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE8
	TCD
	PLA
	TAY
	STY $16
	LDA $26
	STA $06
	LDA $28
	STA $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	SEP #PROC_FLAGS::ACCUM8
	STZ $0E
	LDX #$0077
	REP #PROC_FLAGS::ACCUM8
	TYA
	JSL MEMSET16
	SEP #PROC_FLAGS::ACCUM8
	LDY #$0002
	LDA [$06],Y
	LDY $16
	STA a:.LOWORD(RAM)+1,Y
	LDY #$0003
	LDA [$06],Y
	LDY $16
	STA a:.LOWORD(RAM)+3,Y
	LDY #$0004
	LDA [$06],Y
	LDY $16
	STA a:.LOWORD(RAM)+4,Y
	LDY #$0005
	LDA [$06],Y
	LDY $16
	STA a:.LOWORD(RAM)+5,Y
	LDY #$0006
	LDA [$06],Y
	LDY $16
	STA a:.LOWORD(RAM)+6,Y
	LDY #$0007
	LDA [$06],Y
	LDY $16
	STA a:.LOWORD(RAM)+7,Y
	LDY #$0008
	LDA [$06],Y
	LDY $16
	STA a:.LOWORD(RAM)+10,Y
	REP #PROC_FLAGS::ACCUM8
	LDA #$0009
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0004
	TYA
	CLC
	ADC #$004E
	JSL MEMCPY16
	LDA #$000D
	LDX $12
	STX $06
	LDX $14
	STX $08
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0004
	LDY $16
	TYA
	CLC
	ADC #$0061
	JSL MEMCPY16
	LDA #$0001
	LDY $16
	STA a:.LOWORD(RAM)+83,Y
	STA a:.LOWORD(PAD_1_STATE)+1,Y
	SEP #PROC_FLAGS::ACCUM8
	STA a:.LOWORD(RAM)+11,Y
	REP #PROC_FLAGS::ACCUM8
	PLD
	RTL

UNKNOWN_C2D0AC: ;$C2D0AC
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDX #.LOWORD(UNKNOWN_7EADB8)
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(UNKNOWN_7EADB2)
	STA a:.LOWORD(RAM),X
	INX
	REP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(UNKNOWN_7EADB0)
	STA a:.LOWORD(RAM),X
	INX
	INX
	LDA .LOWORD(UNKNOWN_7EADB4)
	SEC
	SBC .LOWORD(UNKNOWN_7EADB2)
	STA $0E
	BRA @UNKNOWN1
@UNKNOWN0:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$007F
	STA a:.LOWORD(RAM),X
	INX
	REP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(UNKNOWN_7EADAE)
	STA a:.LOWORD(RAM),X
	INX
	INX
	LDA $0E
	SEC
	SBC #$007F
	STA $0E
@UNKNOWN1:
	CMP #$0080
	BCS @UNKNOWN0
	SEP #PROC_FLAGS::ACCUM8
	STA a:.LOWORD(RAM),X
	INX
	REP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(UNKNOWN_7EADAE)
	STA a:.LOWORD(RAM),X
	INX
	INX
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA a:.LOWORD(RAM),X
	INX
	REP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(UNKNOWN_7EADB0)
	STA a:.LOWORD(RAM),X
	INX
	INX
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	PLD
	RTL

LOAD_BATTLE_BG: ;$C2D121
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFD0
	TCD
	PLA
	STY $2E
	STX $04
	STX $2C
	STA $02
	STZ .LOWORD(RED_FLASH_DURATION)
	STZ .LOWORD(GREEN_FLASH_DURATION)
	STZ .LOWORD(SHAKE_DURATION)
	STZ .LOWORD(WOBBLE_DURATION)
	STZ .LOWORD(UNKNOWN_7EAD90)
	STZ .LOWORD(VERTICAL_SHAKE_HOLD_DURATION)
	STZ .LOWORD(VERTICAL_SHAKE_DURATION)
	LDA $2E
	AND #$0003
	BEQ @NO_LETTERBOX
	CMP #LETTERBOX_STYLE::LARGE
	BEQ @LARGE_LETTERBOX
	CMP #LETTERBOX_STYLE::MEDIUM
	BEQ @MEDIUM_LETTERBOX
	CMP #LETTERBOX_STYLE::SMALL
	BEQ @SMALL_LETTERBOX
	BRA @LETTERBOX_SETUP_DONE
@NO_LETTERBOX:
	STZ .LOWORD(UNKNOWN_7EADB2)
	LDA #$00E0
	STA .LOWORD(UNKNOWN_7EADB4)
	BRA @LETTERBOX_SETUP_DONE
@LARGE_LETTERBOX:
	LDA #$002F
	STA .LOWORD(UNKNOWN_7EADB2)
	LDA #$00B0
	STA .LOWORD(UNKNOWN_7EADB4)
	BRA @LETTERBOX_SETUP_DONE
@MEDIUM_LETTERBOX:
	LDA #$0039
	STA .LOWORD(UNKNOWN_7EADB2)
	LDA #$00A6
	STA .LOWORD(UNKNOWN_7EADB4)
	BRA @LETTERBOX_SETUP_DONE
@SMALL_LETTERBOX:
	LDA #$0043
	STA .LOWORD(UNKNOWN_7EADB2)
	LDA #$009C
	STA .LOWORD(UNKNOWN_7EADB4)
@LETTERBOX_SETUP_DONE:
	STZ .LOWORD(UNKNOWN_7EADB6)
	LDX #$7000
	STX .LOWORD(UNKNOWN_7EADCE)
	STX .LOWORD(UNKNOWN_7EADCC)
	STZ .LOWORD(UNKNOWN_7EADD0)
	LDA #$FFFF
	STA .LOWORD(UNKNOWN_7EADD2)
	LOADPTR UNKNOWN_7F0000, $06
	LDA $06
	STA $28
	LDA $08
	STA $2A
	LOADPTR BATTLEBG_GFX_POINTERS, $0A
	LDA $02
	OPTIMIZED_MULT $04, 17
	TAX
	LDA f:BG_DATA_TABLE,X
	AND #$00FF
	ASL
	ASL
	CLC
	ADC $0A
	STA $0A
	LDY #$0002
	LDA [$0A],Y
	TAY
	LDA [$0A]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $28
	STA $06
	LDA $2A
	STA $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DECOMP
	LDA .LOWORD(CURRENT_BATTLE_GROUP)
	CMP #$01DE
	BNE @UNKNOWN5
	LDY #$3000
	LDX #$5C00
	LDA #$0000
	JSL SET_BG2_VRAM_LOCATION
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDY #$3000
	LDX #$5000
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	JSL UNKNOWN_C08616
	BRA @UNKNOWN6
@UNKNOWN5:
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDY #$1000
	LDX #$2000
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	JSL UNKNOWN_C08616
@UNKNOWN6:
	.A16
	LOADPTR UNKNOWN_7F0000, $0A
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA [$0A]
	REP #PROC_FLAGS::ACCUM8
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDY #$5800
	LDX #$0800
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0003
	JSL UNKNOWN_C08616
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDY #$0000
	LDX #$0800
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0003
	JSL UNKNOWN_C08616
	.A16
	LOADPTR BG_DATA_TABLE, $06
	LDA $06
	STA $24
	LDA $08
	STA $26
	LDA $02
	OPTIMIZED_MULT $04, 17
	STA $22
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	ASL
	ASL
	PHA
	LOADPTR BATTLEBG_ARR_POINTERS, $06
	PLA
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DECOMP
	LDA $22
	INC
	INC
	LDX $24
	STX $06
	LDX $26
	STX $08
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	CMP #$0004
	BEQ @UNKNOWN7
	JMP a:.LOWORD(@UNKNOWN15)
@UNKNOWN7:
	LDA #$0009
	JSL UNKNOWN_C08D79
	LDA #$0000
	STA $22
	BRA @UNKNOWN9
@UNKNOWN8:
	STA $06
	STZ $08
	CLC
	LDA $06
	ADC #$0001
	STA $06
	LDA $08
	ADC #$007F
	STA $08
	SEP #PROC_FLAGS::ACCUM8
	LDA [$06]
	AND #$00DF
	ORA #$0008
	STA [$06]
	REP #PROC_FLAGS::ACCUM8
	LDA $22
	INC
	INC
	STA $22
@UNKNOWN9:
	CMP #$0800
	BCC @UNKNOWN8
	LOADPTR UNKNOWN_7F0000, $28
	LDA $28
	STA $06
	LDA $2A
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDY #$5C00
	LDX #$0800
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	JSL UNKNOWN_C08616
	.A16
	LOADPTR BG_DATA_TABLE, $06
	LDA $06
	STA $24
	LDA $08
	STA $26
	LDA $02
	OPTIMIZED_MULT $04, 17
	TAX
	STX $20
	TXA
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDA #.LOWORD(UNKNOWN_7EADD4)
	JSL UNKNOWN_C2CFE5
	LDA #$AE20
	STA $02
	LDA #$0240
	LDX $02
	STA a:.LOWORD(RAM),X
	LDY #.LOWORD(UNKNOWN_7EADE0)
	STY $1E
	LOADPTR BATTLEBG_PALETTE_POINTERS, $1A
	LDX $20
	TXA
	INC
	LDX $24
	STX $06
	LDX $26
	STX $08
	LDX $06
	STX $0A
	LDX $08
	STX $0C
	CLC
	ADC $0A
	STA $0A
	LDA $1A
	STA $06
	LDA $1C
	STA $08
	LDA [$0A]
	AND #$00FF
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	LDY $1E
	TYA
	JSL MEMCPY16
	LDA [$0A]
	AND #$00FF
	ASL
	ASL
	PHA
	LDA $1A
	STA $0A
	LDA $1C
	STA $0C
	PLA
	CLC
	ADC $0A
	STA $0A
	LDY #$0002
	LDA [$0A],Y
	TAY
	LDA [$0A]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	LDA #$AE00
	JSL MEMCPY16
	LDY $1E
	TYA
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	STX $20
	LDX $02
	LDA a:.LOWORD(RAM),X
	LDX $20
	JSL MEMCPY16
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0002
	STA .LOWORD(UNKNOWN_7EADD4)
	LDX #$0000
	REP #PROC_FLAGS::ACCUM8
	LDA #.LOWORD(UNKNOWN_7EADD4)
	JSL UNKNOWN_C2C92D
	LDX #$AE4B
	STX $1E
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA .LOWORD(UNKNOWN_7EAD8A)
	JSL UNKNOWN_C0AFCD
	LDA #$0017
	STA .LOWORD(UNKNOWN_7EADAE)
	LDA #$0015
	STA .LOWORD(UNKNOWN_7EADB0)
	LDA $2C
	STA $04
	BNE @UNKNOWN10
	JMP a:.LOWORD(@UNKNOWN23)
@UNKNOWN10:
	LDA $2E
	AND #$0004
	BNE @UNKNOWN11
	JMP a:.LOWORD(@UNKNOWN14)
@UNKNOWN11:
	LDA #$0007
	STA .LOWORD(UNKNOWN_7EAD8A)
	JSL UNKNOWN_C0AFCD
	LDA $04
	OPTIMIZED_MULT $04, 17
	LDX $24
	STX $06
	LDX $26
	STX $08
	CLC
	ADC $06
	STA $06
	STA $16
	LDA $08
	STA $18
	LOADPTR BATTLEBG_GFX_POINTERS, $0A
	LDA [$06]
	AND #$00FF
	ASL
	ASL
	CLC
	ADC $0A
	STA $0A
	LDY #$0002
	LDA [$0A],Y
	TAY
	LDA [$0A]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $28
	STA $06
	LDA $2A
	STA $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DECOMP
	LDA $28
	STA $06
	LDA $2A
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDY #$0000
	LDX #$2000
	SEP #PROC_FLAGS::ACCUM8
	TYA
	JSL UNKNOWN_C08616
	.A16
	LOADPTR BATTLEBG_ARR_POINTERS, $0A
	LDA $16
	STA $06
	LDA $18
	STA $08
	LDA [$06]
	AND #$00FF
	ASL
	ASL
	CLC
	ADC $0A
	STA $0A
	LDY #$0002
	LDA [$0A],Y
	TAY
	LDA [$0A]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $28
	STA $06
	LDA $2A
	STA $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DECOMP
	LDA #$0000
	STA $2E
	BRA @UNKNOWN13
@UNKNOWN12:
	STA $06
	STZ $08
	CLC
	LDA $06
	ADC #$0001
	STA $06
	LDA $08
	ADC #$007F
	STA $08
	SEP #PROC_FLAGS::ACCUM8
	LDA [$06]
	AND #$00DF
	ORA #$0010
	STA [$06]
	REP #PROC_FLAGS::ACCUM8
	LDA $2E
	INC
	INC
	STA $2E
@UNKNOWN13:
	CMP #$0800
	BCC @UNKNOWN12
	LOADPTR UNKNOWN_7F0000, $0E
	LDY #$5800
	LDX #$0800
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	JSL UNKNOWN_C08616
	.A16
	LOADPTR BG_DATA_TABLE, $06
	LDA $06
	STA $28
	LDA $08
	STA $2A
	LDA $2C
	STA $04
	OPTIMIZED_MULT $04, 17
	TAX
	STX $20
	LDA #$AE4B
	STA $04
	TXA
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDA $04
	JSL UNKNOWN_C2CFE5
	LDA #$AE97
	STA $02
	LDA #$0280
	LDX $02
	STA a:.LOWORD(RAM),X
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	LDX $04
	STA a:.LOWORD(RAM),X
	LDY #$AE57
	STY $2C
	REP #PROC_FLAGS::ACCUM8
	LOADPTR BATTLEBG_PALETTE_POINTERS, $0A
	LDX $20
	TXA
	INC
	LDX $28
	STX $06
	LDX $2A
	STX $08
	CLC
	ADC $06
	STA $06
	STA $16
	LDA $08
	STA $18
	LDA [$06]
	AND #$00FF
	ASL
	ASL
	LDX $0A
	STX $06
	LDX $0C
	STX $08
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	LDY $2C
	TYA
	JSL MEMCPY16
	LDA $16
	STA $06
	LDA $18
	STA $08
	LDA [$06]
	AND #$00FF
	ASL
	ASL
	CLC
	ADC $0A
	STA $0A
	LDY #$0002
	LDA [$0A],Y
	TAY
	LDA [$0A]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	LDA #$AE77
	JSL MEMCPY16
	LDY $2C
	TYA
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	STX $22
	LDX $02
	LDA a:.LOWORD(RAM),X
	LDX $22
	JSL MEMCPY16
	LDX #$0001
	LDA $04
	JSL UNKNOWN_C2C92D
	LDA #$0215
	STA .LOWORD(UNKNOWN_7EADAE)
	LDA #$0014
	STA .LOWORD(UNKNOWN_7EADB0)
	JMP a:.LOWORD(@UNKNOWN23)
@UNKNOWN14:
	LDA $04
	OPTIMIZED_MULT $04, 17
	LDX $24
	STX $06
	LDX $26
	STX $08
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDX $1E
	TXA
	JSL UNKNOWN_C2CFE5
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA $AE4D
	LDA #$0002
	LDX $1E
	STA a:.LOWORD(RAM),X
	JMP a:.LOWORD(@UNKNOWN23)
@UNKNOWN15:
	.A16
	LDA #$0008
	JSL UNKNOWN_C08D79
	LDY #$6000
	LDX #$7C00
	LDA #$0000
	JSL SET_BG1_VRAM_LOCATION
	LDY #$0000
	LDX #$5800
	TYA
	JSL SET_BG2_VRAM_LOCATION
	LDY #$1000
	LDX #$5C00
	LDA #$0000
	JSL SET_BG3_VRAM_LOCATION
	LDY #$3000
	LDX #$0C00
	LDA #$0000
	JSL SET_BG4_VRAM_LOCATION
	LDA #$0000
	STA $2E
	BRA @UNKNOWN17
@UNKNOWN16:
	STA $06
	STZ $08
	CLC
	LDA $06
	ADC #$0001
	STA $06
	LDA $08
	ADC #$007F
	STA $08
	SEP #PROC_FLAGS::ACCUM8
	LDA [$06]
	AND #$00DF
	STA [$06]
	REP #PROC_FLAGS::ACCUM8
	LDA $2E
	INC
	INC
	STA $2E
@UNKNOWN17:
	CMP #$0800
	BCC @UNKNOWN16
	LOADPTR UNKNOWN_7F0000, $06
	LDA $06
	STA $24
	LDA $08
	STA $26
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDY #$5C00
	LDX #$0800
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	JSL UNKNOWN_C08616
	.A16
	LOADPTR BG_DATA_TABLE, $28
	LDA $02
	OPTIMIZED_MULT $04, 17
	TAX
	STX $20
	LDA $28
	STA $06
	LDA $2A
	STA $08
	TXA
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDA #.LOWORD(UNKNOWN_7EADD4)
	JSL UNKNOWN_C2CFE5
	LDA #$AE20
	STA $02
	LDA #$0280
	LDX $02
	STA a:.LOWORD(RAM),X
	LDY #.LOWORD(UNKNOWN_7EADE0)
	STY $1E
	LOADPTR BATTLEBG_PALETTE_POINTERS, $1A
	LDA $28
	STA $0A
	LDA $2A
	STA $0C
	LDX $20
	TXA
	INC
	CLC
	ADC $0A
	STA $0A
	LDA $1A
	STA $06
	LDA $1C
	STA $08
	LDA [$0A]
	AND #$00FF
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	LDY $1E
	TYA
	JSL MEMCPY16
	LDA [$0A]
	AND #$00FF
	ASL
	ASL
	PHA
	LDA $1A
	STA $0A
	LDA $1C
	STA $0C
	PLA
	CLC
	ADC $0A
	STA $0A
	LDY #$0002
	LDA [$0A],Y
	TAY
	LDA [$0A]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	LDA #$AE00
	JSL MEMCPY16
	LDY $1E
	TYA
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	STX $20
	LDX $02
	LDA a:.LOWORD(RAM),X
	LDX $20
	JSL MEMCPY16
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0003
	STA .LOWORD(UNKNOWN_7EADD4)
	REP #PROC_FLAGS::ACCUM8
	LDA $2C
	STA $04
	BNE @UNKNOWN18
	JMP a:.LOWORD(@UNKNOWN21)
@UNKNOWN18:
	LDA #$0003
	STA .LOWORD(UNKNOWN_7EAD8A)
	JSL UNKNOWN_C0AFCD
	LDA $28
	STA $0A
	LDA $2A
	STA $0C
	LDA $04
	OPTIMIZED_MULT $04, 17
	CLC
	ADC $0A
	STA $0A
	LOADPTR BATTLEBG_GFX_POINTERS, $06
	LDA [$0A]
	AND #$00FF
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $24
	STA $06
	LDA $26
	STA $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DECOMP
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDY #$3000
	LDX #$1800
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	JSL UNKNOWN_C08616
	.A16
	LDA [$0A]
	AND #$00FF
	ASL
	ASL
	PHA
	LOADPTR BATTLEBG_ARR_POINTERS, $0A
	PLA
	CLC
	ADC $0A
	STA $0A
	LDY #$0002
	LDA [$0A],Y
	TAY
	LDA [$0A]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $24
	STA $06
	LDA $26
	STA $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DECOMP
	LDA #$0000
	STA $2E
	BRA @UNKNOWN20
@UNKNOWN19:
	STA $06
	STZ $08
	CLC
	LDA $06
	ADC #$0001
	STA $06
	LDA $08
	ADC #$007F
	STA $08
	SEP #PROC_FLAGS::ACCUM8
	LDA [$06]
	AND #$00DF
	STA [$06]
	REP #PROC_FLAGS::ACCUM8
	LDA $2E
	INC
	INC
	STA $2E
@UNKNOWN20:
	CMP #$0800
	BCC @UNKNOWN19
	LOADPTR UNKNOWN_7F0000, $0E
	LDY #$0C00
	LDX #$0800
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	JSL UNKNOWN_C08616
	.A16
	LOADPTR BG_DATA_TABLE, $06
	LDA $06
	STA $28
	LDA $08
	STA $2A
	LDA $2C
	STA $04
	OPTIMIZED_MULT $04, 17
	TAX
	STX $20
	LDA #$AE4B
	STA $04
	TXA
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDA $04
	JSL UNKNOWN_C2CFE5
	LDA #$AE97
	STA $02
	LDA #$02C0
	LDX $02
	STA a:.LOWORD(RAM),X
	LDY #$AE57
	STY $2C
	LOADPTR BATTLEBG_PALETTE_POINTERS, $0A
	LDX $20
	TXA
	INC
	LDX $28
	STX $06
	LDX $2A
	STX $08
	CLC
	ADC $06
	STA $06
	STA $16
	LDA $08
	STA $18
	LDA [$06]
	AND #$00FF
	ASL
	ASL
	LDX $0A
	STX $06
	LDX $0C
	STX $08
	CLC
	ADC $06
	STA $06
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	LDY $2C
	TYA
	JSL MEMCPY16
	LDA $16
	STA $06
	LDA $18
	STA $08
	LDA [$06]
	AND #$00FF
	ASL
	ASL
	CLC
	ADC $0A
	STA $0A
	LDY #$0002
	LDA [$0A],Y
	TAY
	LDA [$0A]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	LDA #$AE77
	JSL MEMCPY16
	LDY $2C
	TYA
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	STX $20
	LDX $02
	LDA a:.LOWORD(RAM),X
	LDX $20
	JSL MEMCPY16
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0004
	LDX $04
	STA a:.LOWORD(RAM),X
	BRA @UNKNOWN22
@UNKNOWN21:
	SEP #PROC_FLAGS::ACCUM8
	STZ $AE4B
@UNKNOWN22:
	REP #PROC_FLAGS::ACCUM8
	LDA #$0817
	STA .LOWORD(UNKNOWN_7EADAE)
	LDA #$0013
	STA .LOWORD(UNKNOWN_7EADB0)
@UNKNOWN23:
	REP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(UNKNOWN_7EADAC)
	LDA $AE4B
	AND #$00FF
	BEQ @UNKNOWN24
	LDA $AEAC
	AND #$00FF
	BEQ @UNKNOWN24
	LDA #$0001
	STA .LOWORD(UNKNOWN_7EADAC)
@UNKNOWN24:
	JSL UNKNOWN_C2D0AC
	LDA .LOWORD(UNKNOWN_7EADB2)
	BEQ @UNKNOWN25
	LDA #$0002
	JSL UNKNOWN_C429E8
@UNKNOWN25:
	JSL UNKNOWN_C2E9ED
	PLD
	RTL

UNKNOWN_C2DAE3: ;$C2DAE3
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF1
	TCD
	LDX #$AE35
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $0E
	LDY #$AE38
	LDA a:.LOWORD(RAM),Y
	STA a:.LOWORD(RAM),X
	STZ $AE36
	REP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA $AE3A
	SEP #PROC_FLAGS::ACCUM8
	LDA $0E
	STA a:.LOWORD(RAM),Y
	REP #PROC_FLAGS::ACCUM8
	PLD
	RTL

UNKNOWN_C2DB14: ;$C2DB14
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDA $AE20
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	LDA #.LOWORD(UNKNOWN_7EADE0)
	JSL MEMCPY16
	PLD
	RTL

UNKNOWN_C2DB3F: ;$C2DB3F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF2
	TCD
	LDA .LOWORD(UNKNOWN_7EADD0)
	BEQ @UNKNOWN3
	LDA .LOWORD(UNKNOWN_7EADD2)
	SEC
	SBC #$0555
	STA .LOWORD(UNKNOWN_7EADD2)
	STA $0A
	STZ $0C
	LDA #$6000
	STA $06
	LDA #$0000
	STA $08
	CLC
	LDA $06
	SBC $0A
	LDA $08
	SBC $0C
	BVC @UNKNOWN0
	BPL @UNKNOWN2
	BRA @UNKNOWN1
@UNKNOWN0:
	BMI @UNKNOWN2
@UNKNOWN1:
	LDA #$6000
	STA .LOWORD(UNKNOWN_7EADD2)
	STZ .LOWORD(UNKNOWN_7EADD0)
@UNKNOWN2:
	SEP #PROC_FLAGS::INDEX8
	LDY #$0008
	LDA .LOWORD(UNKNOWN_7EADD2)
	JSL ASR8_UNKNOWN1
	JSR a:.LOWORD(UNKNOWN_C2E08E)
@UNKNOWN3:
	LDA .LOWORD(UNKNOWN_7EADA8)
	BEQ @UNKNOWN5
	LDA .LOWORD(UNKNOWN_7EADA8)
	DEC
	STA .LOWORD(UNKNOWN_7EADA8)
	AND #$0002
	BEQ @UNKNOWN4
	LDA #$FFFF
	JSR a:.LOWORD(UNKNOWN_C2E08E)
	BRA @UNKNOWN5
@UNKNOWN4:
	LDA #$0100
	JSR a:.LOWORD(UNKNOWN_C2E08E)
@UNKNOWN5:
	LDA .LOWORD(UNKNOWN_7EADAA)
	BEQ @UNKNOWN10
	STZ .LOWORD(CUR_TEXT_PAL)
	LDA .LOWORD(UNKNOWN_7EADAA)
	CMP #$0003
	BEQ @UNKNOWN6
	CMP #$0002
	BEQ @UNKNOWN7
	BRA @UNKNOWN8
@UNKNOWN6:
	LDA #$03E0
	STA .LOWORD(CUR_TEXT_PAL)
@UNKNOWN7:
	LDA #$0018
	JSL UNKNOWN_C0856B
@UNKNOWN8:
	LDA .LOWORD(UNKNOWN_7EADAA)
	DEC
	STA .LOWORD(UNKNOWN_7EADAA)
	AND #$0002
	BEQ @UNKNOWN9
	LDA #$0000
	JSR a:.LOWORD(UNKNOWN_C2E08E)
	BRA @UNKNOWN10
@UNKNOWN9:
	LDA #$0100
	JSR a:.LOWORD(UNKNOWN_C2E08E)
@UNKNOWN10:
	LDA .LOWORD(VERTICAL_SHAKE_DURATION)
	BNE @UNKNOWN11
	STZ .LOWORD(UNKNOWN_7EAD98)
	BRA @UNKNOWN12
@UNKNOWN11:
	LDA #1*SECOND
	SEC
	SBC .LOWORD(VERTICAL_SHAKE_DURATION)
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:UNKNOWN_C4A591,X
	REP #PROC_FLAGS::ACCUM8
	SEC
	AND #$00FF
	SBC #$0080
	EOR #$FF80
	STA .LOWORD(UNKNOWN_7EAD98)
	LDX .LOWORD(VERTICAL_SHAKE_DURATION)
	DEX
	STX .LOWORD(VERTICAL_SHAKE_DURATION)
	BNE @UNKNOWN12
	LDA .LOWORD(VERTICAL_SHAKE_HOLD_DURATION)
	BEQ @UNKNOWN12
	DEC .LOWORD(VERTICAL_SHAKE_HOLD_DURATION)
	LDA #1*SIXTH_OF_A_SECOND
	STA .LOWORD(VERTICAL_SHAKE_DURATION)
@UNKNOWN12:
	.I16
	STZ .LOWORD(UNKNOWN_7EAD96)
	LDA .LOWORD(WOBBLE_DURATION)
	BEQ @UNKNOWN13
	LDY #6*FIFTHS_OF_A_SECOND
	LDA .LOWORD(WOBBLE_DURATION)
	JSL MODULUS16
	DEC .LOWORD(WOBBLE_DURATION)
	LDY #$0048
	XBA
	AND #$FF00
	JSL DIVISION16S_DIVISOR_POSITIVE
	.I16
	TAX
	LDY #$0100
	SEP #PROC_FLAGS::ACCUM8
	LDA f:SINE_LOOKUP_TABLE,X
	REP #PROC_FLAGS::ACCUM8
	SEC
	AND #$00FF
	SBC #$0080
	EOR #$FF80
	ASL
	ASL
	ASL
	ASL
	ASL
	ASL
	JSL DIVISION16
	STA .LOWORD(UNKNOWN_7EAD96)
@UNKNOWN13:
	LDA .LOWORD(SHAKE_DURATION)
	BEQ @UNKNOWN17
	LDA .LOWORD(SHAKE_DURATION)
	AND #$0003
	DEC .LOWORD(SHAKE_DURATION)
	CMP #$0000
	BEQ @UNKNOWN14
	CMP #$0002
	BEQ @UNKNOWN14
	CMP #$0001
	BEQ @UNKNOWN15
	CMP #$0003
	BEQ @UNKNOWN16
	BRA @UNKNOWN17
@UNKNOWN14:
	STZ .LOWORD(UNKNOWN_7EAD96)
	BRA @UNKNOWN17
@UNKNOWN15:
	LDA #$0002
	STA .LOWORD(UNKNOWN_7EAD96)
	BRA @UNKNOWN17
@UNKNOWN16:
	LDA #$FFFE
	STA .LOWORD(UNKNOWN_7EAD96)
@UNKNOWN17:
	LDA .LOWORD(UNKNOWN_7EADD5)
	AND #$00FF
	CMP #$0002
	BNE @UNKNOWN18
	LDA .LOWORD(UNKNOWN_7EAD96)
	STA a:.LOWORD(BG1_X_POS)
	LDA .LOWORD(UNKNOWN_7EAD98)
	STA a:.LOWORD(BG1_Y_POS)
	BRA @UNKNOWN19
@UNKNOWN18:
	LDA .LOWORD(BATTLE_MODE_FLAG)
	BEQ @UNKNOWN19
	LDA .LOWORD(UNKNOWN_7EAD96)
	STA a:.LOWORD(BG3_X_POS)
	LDA .LOWORD(UNKNOWN_7EAD98)
	STA a:.LOWORD(BG3_Y_POS)
@UNKNOWN19:
	LDA .LOWORD(UNKNOWN_7EAD90)
	BEQ @UNKNOWN20
	DEC .LOWORD(UNKNOWN_7EAD90)
@UNKNOWN20:
	LDA .LOWORD(BATTLE_MODE_FLAG)
	BEQ @UNKNOWN21
	JSL UNKNOWN_C2F8F9
@UNKNOWN21:
	LDX #$0000
	LDA #.LOWORD(UNKNOWN_7EADD4)
	JSL UNKNOWN_C2C92D
	LDY #$AE4B
	LDA a:.LOWORD(RAM),Y
	AND #$00FF
	BEQ @UNKNOWN22
	LDX #$0001
	TYA
	JSL UNKNOWN_C2C92D
@UNKNOWN22:
	JSL UNKNOWN_C2E6B3_ENTRY2
	LDA .LOWORD(RED_FLASH_DURATION)
	BEQ @UNKNOWN24
	LDA .LOWORD(RED_FLASH_DURATION)
	DEC
	STA .LOWORD(RED_FLASH_DURATION)
	LDY #$000C
	JSL DIVISION16S_DIVISOR_POSITIVE
	AND #$0001
	BEQ @UNKNOWN23
	LDY #$0004
	LDX #$0000
	LDA #$001F
	JSL SET_BATTLE_SWIRL_COLOUR
	LDX #$003F
	LDA #$0000
	JSL SET_COLOUR_ADDSUB_MODE
	BRA @UNKNOWN24
@UNKNOWN23:
	LDY #$0000
	TYX
	TYA
	JSL SET_BATTLE_SWIRL_COLOUR
	LDA .LOWORD(UNKNOWN_7EAD8A)
	JSL UNKNOWN_C0AFCD
@UNKNOWN24:
	LDA .LOWORD(GREEN_FLASH_DURATION)
	BEQ @UNKNOWN26
	LDA .LOWORD(GREEN_FLASH_DURATION)
	DEC
	STA .LOWORD(GREEN_FLASH_DURATION)
	LDY #$000C
	JSL DIVISION16S_DIVISOR_POSITIVE
	AND #$0001
	BEQ @UNKNOWN25
	LDY #$0004
	LDX #$001F
	LDA #$0000
	JSL SET_BATTLE_SWIRL_COLOUR
	LDX #$003F
	LDA #$0000
	JSL SET_COLOUR_ADDSUB_MODE
	BRA @UNKNOWN26
@UNKNOWN25:
	LDY #$0000
	TYX
	TYA
	JSL SET_BATTLE_SWIRL_COLOUR
	LDA .LOWORD(UNKNOWN_7EAD8A)
	JSL UNKNOWN_C0AFCD
@UNKNOWN26:
	LDA .LOWORD(HP_PP_BOX_BLINK_DURATION)
	BEQ @UNKNOWN28
	LDA .LOWORD(HP_PP_BOX_BLINK_DURATION)
	DEC
	STA .LOWORD(HP_PP_BOX_BLINK_DURATION)
	LDY #$0003
	JSL DIVISION16S_DIVISOR_POSITIVE
	AND #$0001
	BEQ @UNKNOWN27
	LDA .LOWORD(HP_PP_BOX_BLINK_TARGET)
	JSL UNKNOWN_C207E1
	BRA @UNKNOWN28
@UNKNOWN27:
	LDA .LOWORD(HP_PP_BOX_BLINK_TARGET)
	JSL UNKNOWN_C207B6
@UNKNOWN28:
	JSL UNKNOWN_C4A7B0
	JSL UNKNOWN_C2FD99
	LDA .LOWORD(UNKNOWN_7EADB6)
	BEQ @UNKNOWN33
	LDA .LOWORD(UNKNOWN_7EADB2)
	BEQ @UNKNOWN33
	LDA .LOWORD(UNKNOWN_7EADCC)
	CMP #$03BB
	BCS @UNKNOWN29
	STZ .LOWORD(UNKNOWN_7EADCC)
	LDA #$00E0
	STA .LOWORD(UNKNOWN_7EADCE)
	STZ .LOWORD(UNKNOWN_7EADB6)
	BRA @UNKNOWN30
@UNKNOWN29:
	LDA .LOWORD(UNKNOWN_7EADCC)
	SEC
	SBC #$03BB
	STA .LOWORD(UNKNOWN_7EADCC)
	LDA .LOWORD(UNKNOWN_7EADCE)
	CLC
	ADC #$03BB
	STA .LOWORD(UNKNOWN_7EADCE)
@UNKNOWN30:
	SEP #PROC_FLAGS::INDEX8
	LDY #$0008
	LDA .LOWORD(UNKNOWN_7EADCC)
	JSL ASR8_UNKNOWN1
	CMP .LOWORD(UNKNOWN_7EADB2)
	BCS @UNKNOWN31
	STA .LOWORD(UNKNOWN_7EADB2)
@UNKNOWN31:
	LDY #$0008
	LDA .LOWORD(UNKNOWN_7EADCE)
	JSL ASR8_UNKNOWN1
	CMP .LOWORD(UNKNOWN_7EADB4)
	BCC @UNKNOWN32
	BEQ @UNKNOWN32
	STA .LOWORD(UNKNOWN_7EADB4)
@UNKNOWN32:
	JSL UNKNOWN_C2D0AC
@UNKNOWN33:
	PLD
	RTL

UNKNOWN_C2DE0F: ;$C2DE0F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEC
	TCD
	LDX #$0000
	BRA @UNKNOWN1
@UNKNOWN0:
	TXA
	ASL
	CLC
	ADC #.LOWORD(UNKNOWN_7EADD4)
	STA $12
	CLC
	ADC #$000C
	TAY
	LDA a:.LOWORD(RAM),Y
	LSR
	AND #$3DEF
	STA a:.LOWORD(RAM),Y
	LDA $12
	CLC
	ADC #$0083
	TAY
	LDA a:.LOWORD(RAM),Y
	LSR
	AND #$3DEF
	STA a:.LOWORD(RAM),Y
	INX
@UNKNOWN1:
	CPX #$0010
	BCC @UNKNOWN0
	LDA #.LOWORD(UNKNOWN_7EADE0)
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	LDA $AE20
	JSL MEMCPY16
	LDA $AE4B
	AND #$00FF
	BEQ @UNKNOWN2
	LDA #$AE57
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	LDA $AE97
	JSL MEMCPY16
@UNKNOWN2:
	PLD
	RTL

UNKNOWN_C2DE96: ;$C2DE96
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEA
	TCD
	LDA #$AE00
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $12
	LDA $08
	STA $14
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	LDA #.LOWORD(UNKNOWN_7EADE0)
	JSL MEMCPY16
	LDA #$AE77
	STA $0A
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $0C
	STZ $0D
	REP #PROC_FLAGS::ACCUM8
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	LDA #$AE57
	JSL MEMCPY16
	LDA $12
	STA $06
	LDA $14
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	LDA $AE20
	JSL MEMCPY16
	LDA $AE4B
	AND #$00FF
	BEQ @UNKNOWN0
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	LDA $AE97
	JSL MEMCPY16
@UNKNOWN0:
	PLD
	RTL

UNKNOWN_C2DF2E: ;$C2DF2E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE4
	TCD
	PLA
	STY $1A
	STX $02
	STA $18
	LDA $02
	CMP #$FFFF
	BEQ @UNKNOWN0
	LDA $02
	BNE @UNKNOWN1
@UNKNOWN0:
	LDA $1A
	ASL
	STA $1A
	CLC
	ADC $18
	TAX
	LDA $02
	STA a:.LOWORD(RAM)+12,X
	LDY #$004C
	LDA $1A
	CLC
	ADC ($18),Y
	TAX
	LDA $02
	STA a:.LOWORD(RAM),X
	JMP a:.LOWORD(@UNKNOWN7)
@UNKNOWN1:
	LDA $02
	CMP #$0100
	BNE @UNKNOWN2
	LDA $1A
	ASL
	STA $16
	CLC
	ADC $18
	TAX
	LDY a:.LOWORD(RAM)+44,X
	STY $14
	TYA
	STA a:.LOWORD(RAM)+12,X
	LDY #$004C
	LDA $16
	CLC
	ADC ($18),Y
	TAX
	LDY $14
	TYA
	STA a:.LOWORD(RAM),X
	JMP a:.LOWORD(@UNKNOWN7)
@UNKNOWN2:
	LDA $1A
	ASL
	CLC
	ADC $18
	STA $04
	STA $14
	LDX $04
	LDA a:.LOWORD(RAM)+44,X
	STA $16
	AND #$001F
	TAX
	STX $12
	LDA $16
	LSR
	LSR
	LSR
	LSR
	LSR
	AND #$001F
	TAY
	STY $10
	SEP #PROC_FLAGS::ACCUM8
	LDA #$000A
	SEP #PROC_FLAGS::INDEX8
	TAY
	REP #PROC_FLAGS::ACCUM8
	LDA $16
	JSL ASR8_UNKNOWN1
	AND #$001F
	STA $16
	REP #PROC_FLAGS::INDEX8
	LDY $02
	LDX $12
	TXA
	JSL MULT16
	XBA
	AND #$00FF
	TAX
	STX $12
	LDY $10
	TYA
	LDY $02
	JSL MULT16
	XBA
	AND #$00FF
	TAY
	STY $10
	LDY $02
	LDA $16
	JSL MULT16
	XBA
	AND #$00FF
	STA $0E
	SEP #PROC_FLAGS::ACCUM8
	LDA #$000A
	SEP #PROC_FLAGS::INDEX8
	TAY
	REP #PROC_FLAGS::ACCUM8
	LDA $0E
	JSL ASL16_ENTRY2
	STA $02
	REP #PROC_FLAGS::INDEX8
	LDY $10
	TYA
	ASL
	ASL
	ASL
	ASL
	ASL
	STA $04
	LDX $12
	TXA
	CLC
	ADC $04
	CLC
	ADC $02
	LDX $14
	STX $04
	STA a:.LOWORD(RAM)+12,X
	LDY #$0003
	LDA ($18),Y
	AND #$00FF
	CMP #$0002
	BNE @UNKNOWN4
	LDY #$0006
	LDA ($18),Y
	AND #$00FF
	CMP $1A
	BEQ @UNKNOWN3
	BCS @UNKNOWN4
@UNKNOWN3:
	LDY #$0007
	LDA ($18),Y
	AND #$00FF
	CMP $1A
	BCS @UNKNOWN7
@UNKNOWN4:
	LDY #$0003
	LDA ($18),Y
	AND #$00FF
	BEQ @UNKNOWN6
	LDY #$0004
	LDA ($18),Y
	AND #$00FF
	CMP $1A
	BEQ @UNKNOWN5
	BCS @UNKNOWN6
@UNKNOWN5:
	LDY #$0005
	LDA ($18),Y
	AND #$00FF
	CMP $1A
	BCS @UNKNOWN7
@UNKNOWN6:
	LDA $1A
	ASL
	STA $1A
	LDY #$004C
	CLC
	ADC ($18),Y
	PHA
	LDA $1A
	CLC
	ADC $18
	TAX
	LDA a:.LOWORD(RAM)+12,X
	PLX
	STA a:.LOWORD(RAM),X
@UNKNOWN7:
	PLD
	RTS

UNKNOWN_C2E08E: ;$C2E08E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF2
	TCD
	PLA
	STA $04
	LDA .LOWORD(UNKNOWN_7EADD5)
	AND #$00FF
	CMP #$0004
	BNE @UNKNOWN2
	LDA #$0001
	STA $02
	BRA @UNKNOWN1
@UNKNOWN0:
	LDY $02
	LDX $04
	LDA #.LOWORD(UNKNOWN_7EADD4)
	JSR a:.LOWORD(UNKNOWN_C2DF2E)
	INC $02
@UNKNOWN1:
	LDA $02
	CMP #$0010
	BCC @UNKNOWN0
	BRA @UNKNOWN5
@UNKNOWN2:
	LDA #$0001
	STA $02
	BRA @UNKNOWN4
@UNKNOWN3:
	LDY $02
	LDX $04
	LDA #.LOWORD(UNKNOWN_7EADD4)
	JSR a:.LOWORD(UNKNOWN_C2DF2E)
	LDY $02
	LDX $04
	LDA #$AE4B
	JSR a:.LOWORD(UNKNOWN_C2DF2E)
	INC $02
@UNKNOWN4:
	LDA $02
	CMP #$0004
	BCC @UNKNOWN3
@UNKNOWN5:
	PLD
	RTS

UNKNOWN_C2E0E7: ;$C2E0E7
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	STZ .LOWORD(GREEN_FLASH_DURATION)
	STZ .LOWORD(RED_FLASH_DURATION)
	SEP #PROC_FLAGS::ACCUM8
	STZ $AEC2
	REP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(HP_PP_BOX_BLINK_DURATION)
	BEQ @UNKNOWN0
	LDA .LOWORD(HP_PP_BOX_BLINK_TARGET)
	JSL UNKNOWN_C207B6
	STZ .LOWORD(HP_PP_BOX_BLINK_DURATION)
@UNKNOWN0:
	LDY #$0000
	TYX
	TYA
	JSL SET_BATTLE_SWIRL_COLOUR
	LDA #$0001
	JSL UNKNOWN_C0AFCD
	RTL

SHOW_PSI_ANIMATION: ;$C2E116
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFD8
	TCD
	PLA
	STA $02
	LDA .LOWORD(UNKNOWN_7EADD5)
	AND #$00FF
	CMP #$0002
	BNE @UNKNOWN1
	LOADPTR UNKNOWN_7F8000, $06
	LDA $06
	STA $24
	LDA $08
	STA $26
	LOADPTR $CC0000, $06
	LDA $02
	OPTIMIZED_MULT $04, 12
	TAX
	LDA f:PSI_ANIM_CFG,X
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDA $24
	STA $06
@UNKNOWN0:
	LDA $26
	STA $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DECOMP
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDY #$0000
	LDX #$1000
	SEP #PROC_FLAGS::ACCUM8
	TYA
	JSL TRANSFER_TO_VRAM
	.A16
	LDA #$0260
	STA .LOWORD(UNKNOWN_7E1BCA)
	JMP a:.LOWORD(@UNKNOWN6)
@UNKNOWN1:
	LOADPTR UNKNOWN_7F0000, $06
	LDA $06
	STA $24
	LDA $08
	STA $26
	LOADPTR $CC0000, $06
	LDA $02
	OPTIMIZED_MULT $04, 12
	TAX
	LDA f:PSI_ANIM_CFG,X
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDA $24
	STA $06
	LDA $26
	STA $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DECOMP
	LOADPTR UNKNOWN_7F8000, $0A
	LDX #$0000
	JMP a:.LOWORD(@UNKNOWN4)
@UNKNOWN2:
	LDA [$06]
	STA [$0A]
	INC $06
	INC $06
	INC $0A
	INC $0A
	LDA [$06]
	STA [$0A]
	INC $06
	INC $06
	INC $0A
	INC $0A
	LDA [$06]
	STA [$0A]
	INC $06
	INC $06
	INC $0A
	INC $0A
	LDA [$06]
	STA [$0A]
	INC $06
	INC $06
	LDA $06
	STA $24
	LDA $08
	STA $26
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	INC $06
	INC $06
	LDA [$24]
	STA [$06]
	LDA $24
	STA $0A
	LDA $26
	STA $0C
	INC $0A
	INC $0A
	INC $06
	INC $06
	LDA [$0A]
	STA [$06]
	INC $0A
	INC $0A
	INC $06
	INC $06
	LDA $06
	STA $20
	LDA $08
	STA $22
	LDA [$0A]
	STA [$06]
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	INC $06
	INC $06
	LDA $06
	STA $1C
	LDA $08
	STA $1E
	LDA $20
	STA $06
	LDA $22
	STA $08
	LDA $06
	STA $0A
	LDA $08
	STA $0C
	INC $0A
	INC $0A
	LDA [$1C]
	STA [$0A]
	LDA $1C
	STA $06
	LDA $1E
	STA $08
	INC $06
	INC $06
	INC $0A
	INC $0A
	LDA #$0000
	STA [$0A]
	INC $0A
	INC $0A
	STA [$0A]
	INC $0A
	INC $0A
	STA [$0A]
	INC $0A
	INC $0A
	STA [$0A]
	INC $0A
	INC $0A
	STA [$0A]
	INC $0A
	INC $0A
	STA [$0A]
	INC $0A
	INC $0A
	STA [$0A]
	INC $0A
	INC $0A
	STA [$0A]
	INC $0A
	INC $0A
	INX
@UNKNOWN4:
	CPX #$0100
	BCS @UNKNOWN5
	BEQ @UNKNOWN5
	JMP a:.LOWORD(@UNKNOWN2)
@UNKNOWN5:
	LOADPTR UNKNOWN_7F8000, $0E
	LDY #$0000
	LDX #$2000
	SEP #PROC_FLAGS::ACCUM8
	TYA
	JSL TRANSFER_TO_VRAM
	.A16
	LDA #$0280
	STA .LOWORD(UNKNOWN_7E1BCA)
@UNKNOWN6:
	JSL READ_JOYPAD
	LOADPTR PSI_ANIM_PALETTES, $06
	LDA $02
	ASL
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0008
	LDA #$1BAA
	JSL MEMCPY16
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0008
	LDA .LOWORD(UNKNOWN_7E1BCA)
	JSL MEMCPY16
	LOADPTR UNKNOWN_7F0000, $0A
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	LDA $06
	STA .LOWORD(UNKNOWN_7E1BA1)
	LDA $08
	STA .LOWORD(UNKNOWN_7E1BA3)
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E1B9E)
	REP #PROC_FLAGS::ACCUM8
	LOADPTR PSI_ANIM_CFG, $06
	LDA $06
	STA $24
	LDA $08
	STA $26
	LDA $02
	OPTIMIZED_MULT $04, 12
	STA $1A
	INC
	INC
	CLC
	ADC $06
	STA $06
	SEP #PROC_FLAGS::ACCUM8
	LDA [$06]
	STA .LOWORD(UNKNOWN_7E1B9E)+1
	REP #PROC_FLAGS::ACCUM8
	LDA $1A
	CLC
	ADC #$0006
	LDX $24
	STX $06
	LDX $26
	STX $08
	CLC
	ADC $06
	STA $06
	SEP #PROC_FLAGS::ACCUM8
	LDA [$06]
	STA .LOWORD(UNKNOWN_7E1BA0)
	REP #PROC_FLAGS::ACCUM8
	LDA $1A
	INC
	INC
	INC
	LDX $24
	STX $06
	LDX $26
	STX $08
	CLC
	ADC $06
	STA $06
	SEP #PROC_FLAGS::ACCUM8
	LDA [$06]
	STA .LOWORD(UNKNOWN_7E1BA8)
	REP #PROC_FLAGS::ACCUM8
	LDA $1A
	INC
	INC
	INC
	INC
	LDX $24
	STX $06
	LDX $26
	STX $08
	CLC
	ADC $06
	STA $06
	SEP #PROC_FLAGS::ACCUM8
	LDA [$06]
	STA .LOWORD(UNKNOWN_7E1BA5)
	REP #PROC_FLAGS::ACCUM8
	LDA $1A
	CLC
	ADC #$0005
	LDX $24
	STX $06
	LDX $26
	STX $08
	CLC
	ADC $06
	STA $06
	SEP #PROC_FLAGS::ACCUM8
	LDA [$06]
	STA .LOWORD(UNKNOWN_7E1BA6)
	STZ .LOWORD(UNKNOWN_7E1BA7)
	LDA #$0001
	STA .LOWORD(UNKNOWN_7E1BA9)
	REP #PROC_FLAGS::ACCUM8
	LDA $1A
	CLC
	ADC #$0008
	LDX $24
	STX $06
	LDX $26
	STX $08
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	STA .LOWORD(UNKNOWN_7E1BCC)
	LDA $1A
	CLC
	ADC #$0009
	LDX $24
	STX $06
	LDX $26
	STX $08
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	STA .LOWORD(UNKNOWN_7E1BCE)
	LDA $1A
	CLC
	ADC #$000A
	LDX $24
	STX $06
	LDX $26
	STX $08
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$001F
	STA .LOWORD(UNKNOWN_7E1BD0)
	LDA [$06]
	LSR
	LSR
	LSR
	LSR
	LSR
	AND #$001F
	STA .LOWORD(UNKNOWN_7E1BD2)
	SEP #PROC_FLAGS::INDEX8
	LDY #$000A
	LDA [$06]
	JSL ASR8_UNKNOWN1
	AND #$001F
	STA .LOWORD(UNKNOWN_7E1BD4)
	LOADPTR PSI_ANIM_POINTERS, $06
	LDA $02
	ASL
	ASL
	CLC
	ADC $06
	STA $06
	REP #PROC_FLAGS::INDEX8
	LDY #$0002
	LDA [$06],Y
	TAY
	LDA [$06]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DECOMP
	JSL UNKNOWN_C2DE0F
	LDA #$0300
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0080
	LDA #$0380
	JSL MEMCPY16
	LDA #$0000
	STA $1A
	BRA @UNKNOWN8
@UNKNOWN7:
	ASL
	TAX
	STZ $AEE7,X
	LDA $1A
	INC
	STA $1A
@UNKNOWN8:
	CMP #$0004
	BCC @UNKNOWN7
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+12,X
	AND #$00FF
	BNE @UNKNOWN9
	JMP a:.LOWORD(@UNKNOWN26)
@UNKNOWN9:
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN10
	JMP a:.LOWORD(@UNKNOWN26)
@UNKNOWN10:
	STZ .LOWORD(UNKNOWN_7EAD9A)
	LDA $02
	OPTIMIZED_MULT $04, 12
	CLC
	ADC #$0007
	TAX
	LDA f:PSI_ANIM_CFG,X
	AND #$00FF
	BEQ @UNKNOWN12
	CMP #$0003
	BEQ @UNKNOWN12
	CMP #$0001
	BEQ @UNKNOWN14
	CMP #$0002
	BNE @UNKNOWN11
	JMP a:.LOWORD(@UNKNOWN20)
@UNKNOWN11:
	JMP a:.LOWORD(@UNKNOWN24)
@UNKNOWN12:
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+68,X
	AND #$00FF
	STA $02
	LDA #$0080
	SEC
	SBC $02
	STA .LOWORD(UNKNOWN_7EAD9A)
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+69,X
	AND #$00FF
	STA $02
	LDA #$0090
	SEC
	SBC $02
	STA .LOWORD(UNKNOWN_7EAD9C)
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+2,X
	JSR a:.LOWORD(GET_BATTLE_SPRITE_HEIGHT)
	CMP #$0008
	BNE @UNKNOWN13
	LDA .LOWORD(UNKNOWN_7EAD9C)
	CLC
	ADC #$0010
	STA .LOWORD(UNKNOWN_7EAD9C)
@UNKNOWN13:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	LDX .LOWORD(CURRENT_TARGET)
	STA a:.LOWORD(RAM)+75,X
	LDX .LOWORD(CURRENT_TARGET)
	REP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+67,X
	AND #$00FF
	ASL
	TAX
	LDA #$0001
	STA $AEE7,X
	JMP a:.LOWORD(@UNKNOWN24)
@UNKNOWN14:
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:.LOWORD(RAM)+69,X
	AND #$00FF
	STA $02
	LDA #$0090
	SEC
	SBC $02
	STA .LOWORD(UNKNOWN_7EAD9C)
	LDY #$0000
	STY $1A
	LDA #$A21C
	STA $02
	LDX #$0008
	STX $18
	BRA @UNKNOWN18
@UNKNOWN15:
	LDX $02
	LDA a:.LOWORD(RAM)+12,X
	AND #$00FF
	BEQ @UNKNOWN17
	LDX $02
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN17
	LDX $02
	LDA a:.LOWORD(RAM)+29,X
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN17
	LDX $02
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+69,X
	LDX .LOWORD(CURRENT_TARGET)
	CMP a:.LOWORD(RAM)+69,X
	BNE @UNKNOWN17
	LDX $02
	REP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+2,X
	JSR a:.LOWORD(GET_BATTLE_SPRITE_HEIGHT)
	CMP #$0008
	BNE @UNKNOWN16
	LDY #$0001
	STY $1A
@UNKNOWN16:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	LDX $02
	STA a:.LOWORD(RAM)+75,X
	LDX $02
	REP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+67,X
	AND #$00FF
	ASL
	TAX
	LDA #$0001
	STA $AEE7,X
@UNKNOWN17:
	REP #PROC_FLAGS::ACCUM8
	LDA $02
	CLC
	ADC #$004E
	STA $02
	LDX $18
	INX
	STX $18
@UNKNOWN18:
	CPX #$0020
	BCS @UNKNOWN19
	BEQ @UNKNOWN19
	JMP a:.LOWORD(@UNKNOWN15)
@UNKNOWN19:
	LDY $1A
	BEQ @UNKNOWN24
	LDA .LOWORD(UNKNOWN_7EAD9C)
	CLC
	ADC #$0010
	STA .LOWORD(UNKNOWN_7EAD9C)
	BRA @UNKNOWN24
@UNKNOWN20:
	LDA #$0010
	STA .LOWORD(UNKNOWN_7EAD9C)
	LDY #$A21C
	LDX #$0008
	STX $16
	BRA @UNKNOWN23
@UNKNOWN21:
	LDA a:.LOWORD(RAM)+12,Y
	AND #$00FF
	BEQ @UNKNOWN22
	LDA a:.LOWORD(RAM)+14,Y
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN22
	LDA a:.LOWORD(RAM)+29,Y
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN22
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA a:.LOWORD(RAM)+75,Y
	REP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+67,Y
	AND #$00FF
	ASL
	TAX
	LDA #$0001
	STA $AEE7,X
@UNKNOWN22:
	TYA
	CLC
	ADC #$004E
	TAY
	LDX $16
	INX
	STX $16
@UNKNOWN23:
	CPX #$0020
	BCC @UNKNOWN21
@UNKNOWN24:
	LDA .LOWORD(UNKNOWN_7EADD5)
	AND #$00FF
	CMP #$0002
	BNE @UNKNOWN25
	LDA .LOWORD(UNKNOWN_7EAD9A)
	STA a:.LOWORD(BG2_X_POS)
	LDA .LOWORD(UNKNOWN_7EAD9C)
	STA a:.LOWORD(BG2_Y_POS)
	BRA @UNKNOWN26
@UNKNOWN25:
	LDA .LOWORD(UNKNOWN_7EAD9A)
	STA a:.LOWORD(BG1_X_POS)
	LDA .LOWORD(UNKNOWN_7EAD9C)
	STA a:.LOWORD(BG1_Y_POS)
@UNKNOWN26:
	PLD
	RTL

UNKNOWN_C2E6B3: ;$C2E6B3
	.BYTE $30, $00, $00
UNKNOWN_C2E6B3_ENTRY2: ;$C2E6B6
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE5
	TCD
	LDA .LOWORD(UNKNOWN_7E1B9E)
	AND #$00FF
	BNE @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN12)
@UNKNOWN1:
	LDX #.LOWORD(UNKNOWN_7E1B9E)
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	DEC
	STA .LOWORD(UNKNOWN_7E1B9E)
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	BEQ @UNKNOWN2
	JMP a:.LOWORD(@UNKNOWN4)
@UNKNOWN2:
	LDA #.LOWORD(UNKNOWN_7E1BA0)
	STA $04
	LDX $04
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	BEQ @UNKNOWN3
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(UNKNOWN_7E1B9E)+1
	STA .LOWORD(UNKNOWN_7E1B9E)
	REP #PROC_FLAGS::ACCUM8
	LDA #.LOWORD(UNKNOWN_7E1BA1)
	STA $02
	LDY $02
	LDA a:.LOWORD(RAM),Y
	STA $06
	LDA a:.LOWORD(RAM)+2,Y
	STA $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDY #$5800
	LDX #$0400
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0006
	JSL UNKNOWN_C08616
	.A16
	LOADPTR UNKNOWN_C2E6B3, $0E
	LDY #$5800
	LDX #$0400
	SEP #PROC_FLAGS::ACCUM8
	LDA #$000F
	JSL UNKNOWN_C08616
	.A16
	LDY $02
	LDA a:.LOWORD(RAM),Y
	STA $06
	LDA a:.LOWORD(RAM)+2,Y
	STA $08
	LDA #$0400
	CLC
	ADC $06
	STA $06
	LDY $02
	LDA $06
	STA a:.LOWORD(RAM),Y
	LDA $08
	STA a:.LOWORD(RAM)+2,Y
	LDX $04
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	DEC
	LDX $04
	STA a:.LOWORD(RAM),X
	BRA @UNKNOWN4
@UNKNOWN3:
	.A16
	LOADPTR UNKNOWN_C2E6B3+1, $0E
	LDY #$5800
	LDX #$0800
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0003
	JSL UNKNOWN_C08616
	JSL UNKNOWN_C2DE96
@UNKNOWN4:
	LDX #.LOWORD(UNKNOWN_7E1BA9)
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	STA $1A
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	BNE @UNKNOWN5
	JMP a:.LOWORD(@UNKNOWN12)
@UNKNOWN5:
	SEP #PROC_FLAGS::ACCUM8
	LDA $1A
	DEC
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	BEQ @UNKNOWN6
	JMP a:.LOWORD(@UNKNOWN12)
@UNKNOWN6:
	SEP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(UNKNOWN_7E1BA8)
	STA a:.LOWORD(RAM),X
	LDA .LOWORD(UNKNOWN_7E1BA6)
	SEC
	SBC .LOWORD(UNKNOWN_7E1BA5)
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	STA $02
	INC $02
	LDX #$0000
	STX $18
	BRA @UNKNOWN10
@UNKNOWN7:
	LDA .LOWORD(UNKNOWN_7E1BA7)
	AND #$00FF
	STA $04
	TXA
	CMP $04
	BCS @UNKNOWN8
	TXA
	CLC
	ADC $02
	SEC
	SBC $04
	STA $04
	STA $16
	BRA @UNKNOWN9
@UNKNOWN8:
	TXA
	SEC
	SBC $04
	STA $04
	STA $16
@UNKNOWN9:
	LDA .LOWORD(UNKNOWN_7E1BA5)
	AND #$00FF
	STA $14
	STX $04
	CLC
	ADC $04
	ASL
	CLC
	ADC .LOWORD(UNKNOWN_7E1BCA)
	PHA
	LDA $16
	STA $04
	LDA $14
	CLC
	ADC $04
	ASL
	TAX
	LDA .LOWORD(UNKNOWN_7E1BAA),X
	PLX
	STA a:.LOWORD(RAM),X
	LDX $18
	INX
	STX $18
@UNKNOWN10:
	TXA
	CMP $02
	BCC @UNKNOWN7
	LDX #.LOWORD(UNKNOWN_7E1BA7)
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	INC
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	CMP $02
	BCC @UNKNOWN11
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA a:.LOWORD(RAM),X
@UNKNOWN11:
	REP #PROC_FLAGS::ACCUM8
	LDA #$0018
	JSL UNKNOWN_C0856B
@UNKNOWN12:
	LDX #.LOWORD(UNKNOWN_7E1BCC)
	LDA a:.LOWORD(RAM),X
	BEQ @UNKNOWN18
	DEC
	STA a:.LOWORD(RAM),X
	BNE @UNKNOWN18
	LDA #$0014
	JSL UNKNOWN_C2FAD8
	LDA #$0000
	STA $02
	BRA @UNKNOWN17
@UNKNOWN13:
	LDA $02
	ASL
	TAX
	LDA $AEE7,X
	BEQ @UNKNOWN16
	LDA #$0001
	STA $04
	BRA @UNKNOWN15
@UNKNOWN14:
	LDA .LOWORD(UNKNOWN_7E1BD4)
	STA $0E
	LDY .LOWORD(UNKNOWN_7E1BD2)
	LDX .LOWORD(UNKNOWN_7E1BD0)
	LDA $02
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC $04
	JSL UNKNOWN_C2FB35
	INC $04
@UNKNOWN15:
	LDA $04
	CMP #$0010
	BCC @UNKNOWN14
@UNKNOWN16:
	INC $02
@UNKNOWN17:
	LDA $02
	CMP #$0004
	BCC @UNKNOWN13
@UNKNOWN18:
	LDX #.LOWORD(UNKNOWN_7E1BCE)
	LDA a:.LOWORD(RAM),X
	BEQ @UNKNOWN22
	DEC
	STA a:.LOWORD(RAM),X
	BNE @UNKNOWN22
	LDY #$0000
	STY $12
	BRA @UNKNOWN21
@UNKNOWN19:
	TYA
	ASL
	TAX
	LDA $AEE7,X
	BEQ @UNKNOWN20
	TYX
	LDA #$0014
	JSL UNKNOWN_C2FADE
@UNKNOWN20:
	LDY $12
	INY
	STY $12
@UNKNOWN21:
	CPY #$0004
	BCC @UNKNOWN19
@UNKNOWN22:
	PLD
	RTL

UNKNOWN_C2E8C4: ;$C2E8C4
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF2
	TCD
	PLA
	STY $02
	TAY
	JSL UNKNOWN_C4A67E
	LDA $02
	SEP #PROC_FLAGS::ACCUM8
	STA $AECA
	REP #PROC_FLAGS::ACCUM8
	PLD
	RTL

UNKNOWN_C2E8E0: ;$C2E8E0
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE8
	TCD
	LDA #$0001
	STA $16
	LDA #$0004
	STA $14
	STA $04
	LDY #$0000
	STY $12
	LDA .LOWORD(BATTLE_INITIATIVE)
	BEQ @UNKNOWN0
	CMP #$0001
	BEQ @UNKNOWN1
	CMP #$0002
	BEQ @UNKNOWN2
	BRA @UNKNOWN3
@UNKNOWN0:
	LDX #$00B0
	STX $10
	LDA #$000E
	STA $02
	STA $0E
	BRA @UNKNOWN3
@UNKNOWN1:
	LDX #$00B0
	STX $10
	LDA #$001C
	STA $14
	LDA #$0005
	STA $04
	LDY #$000C
	STY $12
	LDA #$0006
	STA $02
	STA $0E
	BRA @UNKNOWN3
@UNKNOWN2:
	LDX #$0009
	STX $10
	STZ $14
	LDA #$001F
	STA $04
	TAY
	STY $12
	LDA #$0006
	STA $02
	STA $0E
@UNKNOWN3:
	LDA .LOWORD(CURRENT_BATTLE_GROUP)
	CMP #$01C0
	BCC @UNKNOWN4
	LDA #$0003
	STA $16
	LDA #$000E
	STA $02
	STA $0E
	LDX #$0008
	STX $10
@UNKNOWN4:
	LDX $10
	TXA
	JSL CHANGE_MUSIC
	JSL UNKNOWN_C04F47
	LDA $0E
	STA $02
	AND #$0004
	BEQ @UNKNOWN6
	LDY $12
	LDX $04
	LDA $14
	JSL SET_BATTLE_SWIRL_COLOUR
	LDA $02
	AND #$0008
	BEQ @UNKNOWN5
	LDX #$00FF
	LDA #$0010
	JSL SET_COLOUR_ADDSUB_MODE
	BRA @UNKNOWN6
@UNKNOWN5:
	LDX #$00BF
	LDA #$0010
	JSL SET_COLOUR_ADDSUB_MODE
@UNKNOWN6:
	LDY #$001E
	LDX $02
	LDA $16
	JSL UNKNOWN_C2E8C4
	LDA $02
	AND #$0004
	BEQ @UNKNOWN7
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0020
	STA $AEC8
	BRA @UNKNOWN8
@UNKNOWN7:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$000F
	STA $AEC8
@UNKNOWN8:
	STZ $AECB
	REP #PROC_FLAGS::ACCUM8
	PLD
	RTL

UNKNOWN_C2E9C8: ;$C2E9C8
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA $AEC2
	AND #$00FF
	BEQ @UNKNOWN2
	LDA $AECA
	AND #$00FF
	CLC
	SBC #$0004
	BVC @UNKNOWN0
	BPL @UNKNOWN2
	BRA @UNKNOWN1
@UNKNOWN0:
	BMI @UNKNOWN2
@UNKNOWN1:
	LDA #$0001
	BRA @UNKNOWN3
@UNKNOWN2:
	LDA #$0000
@UNKNOWN3:
	RTL

UNKNOWN_C2E9ED: ;$C2E9ED
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	SEP #PROC_FLAGS::ACCUM8
	STZ $AEC2
	REP #PROC_FLAGS::ACCUM8
	LDA $AEC9
	AND #$00FF
	INC
	INC
	INC
	JSL UNKNOWN_C0AE34
	LDY #$0000
	TYX
	TYA
	JSL SET_BATTLE_SWIRL_COLOUR
	LDX #$0000
	TXA
	JSL SET_WINDOW_MASK
	RTL

UNKNOWN_C2EA15: ;$C2EA15
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF0
	TCD
	PLA
	TAY
	STY $0E
	TYA
	SEP #PROC_FLAGS::ACCUM8
	STA $AEEF
	LDX #$0000
	REP #PROC_FLAGS::ACCUM8
	TXA
	JSL UNKNOWN_C4A67E
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0013
	STA $AEC8
	LDY $0E
	REP #PROC_FLAGS::ACCUM8
	TYA
	CMP #$0002
	BEQ @UNKNOWN0
	CMP #$0001
	BEQ @UNKNOWN1
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA #$F819
	STA .LOWORD(UNKNOWN_7EAECC)
	LDA #$00C3
	STA $AECE
	BRA @UNKNOWN3
@UNKNOWN1:
	LDA #$A5FA
	STA .LOWORD(UNKNOWN_7EAECC)
	LDA #$00C4
	STA $AECE
	BRA @UNKNOWN3
@UNKNOWN2:
	LDA #$A5CE
	STA .LOWORD(UNKNOWN_7EAECC)
	LDA #$00C4
	STA $AECE
@UNKNOWN3:
	PLD
	RTL

UNKNOWN_C2EA74: ;$C2EA74
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDX #$0000
	TXA
	JSL UNKNOWN_C4A67E
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0013
	STA $AEC8
	REP #PROC_FLAGS::ACCUM8
	LDA $AEEF
	AND #$00FF
	BEQ @UNKNOWN0
	LDA #$A652
	STA $AECC
	LDA #$00C4
	STA $AECE
	BRA @UNKNOWN1
@UNKNOWN0:
	LDA #$A626
	STA $AECC
	LDA #$00C4
	STA $AECE
@UNKNOWN1:
	RTL

UNKNOWN_C2EAAA: ;$C2EAAA
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	SEP #PROC_FLAGS::ACCUM8
	STZ $AEC2
	REP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA $AECC
	LDA #$0000
	STA $AECE
	LDA #$0003
	JSL UNKNOWN_C0AE34
	LDX #$0000
	TXA
	JSL SET_WINDOW_MASK
	RTL

UNKNOWN_C2EACF: ;$C2EACF
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA .LOWORD(UNKNOWN_7E1B9E)
	AND #$00FF
	BNE @UNKNOWN0
	LDA $AEC2
	AND #$00FF
	BEQ @UNKNOWN1
@UNKNOWN0:
	LDA #$0001
	BRA @UNKNOWN2
@UNKNOWN1:
	LDA #$0000
@UNKNOWN2:
	RTL

UNKNOWN_C2EAEA: ;$C2EAEA
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFD6
	TCD
	PLA
	TAX
	STX $28
	LDA .LOWORD(UNKNOWN_7EAAB4)
	ASL
	TAX
	LDA .LOWORD(UNKNOWN_7EAAB2)
	STA .LOWORD(UNKNOWN_7EAAB6),X
	LDA .LOWORD(UNKNOWN_7EAAB4)
	OPTIMIZED_MULT $04, 80
	CLC
	ADC #.LOWORD(UNKNOWN_7EAAD6)
	STA $26
	LDX $28
	TXA
	DEC
	STA $04
	STA $28
	LDY #$0001
	STY $24
	TYA
	STA $02
	STA $22
	LDX #$0000
	STX $20
	JMP a:.LOWORD(@UNKNOWN1)
@UNKNOWN0:
	REP #PROC_FLAGS::ACCUM8
	TXA
	OPTIMIZED_MULT $04, 5
	STA $1E
	TAY
	SEP #PROC_FLAGS::ACCUM8
	LDA #$00E0
	STA ($26),Y
	REP #PROC_FLAGS::ACCUM8
	LOADPTR $C3F8B1, $06
	LDA $1E
	TAY
	INY
	TXA
	CLC
	ADC .LOWORD(UNKNOWN_7EAAB2)
	ASL
	PHA
	LDA $06
	STA $0A
	LDA $08
	STA $0C
	PLA
	CLC
	ADC $0A
	STA $0A
	SEP #PROC_FLAGS::ACCUM8
	LDA [$0A]
	STA ($26),Y
	LDA #$0008
	PHA
	REP #PROC_FLAGS::ACCUM8
	TXA
	CLC
	ADC .LOWORD(UNKNOWN_7EAAB2)
	ASL
	CLC
	ADC $06
	STA $06
	LDA [$06]
	SEP #PROC_FLAGS::INDEX8
	PLY
	JSL ASR8_UNKNOWN1
	SEP #PROC_FLAGS::ACCUM8
	STA $00
	LDA .LOWORD(UNKNOWN_7EAAB4)
	ASL
	CLC
	ADC $00
	CLC
	ADC #$0020
	PHA
	REP #PROC_FLAGS::ACCUM8
	LDA $1E
	REP #PROC_FLAGS::INDEX8
	TAY
	INY
	INY
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA ($26),Y
	REP #PROC_FLAGS::ACCUM8
	LDA $1E
	TAY
	INY
	INY
	INY
	SEP #PROC_FLAGS::ACCUM8
	LDA #$00F0
	STA ($26),Y
	REP #PROC_FLAGS::ACCUM8
	LDA $1E
	TAY
	INY
	INY
	INY
	INY
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA ($26),Y
	LDX $20
	INX
	STX $20
@UNKNOWN1:
	CPX #$0010
	BCS @UNKNOWN2
	BEQ @UNKNOWN2
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN2:
	REP #PROC_FLAGS::ACCUM8
	LDA $28
	STA $04
	OPTIMIZED_MULT $04, 5
	TAX
	INX
	INX
	INX
	INX
	LDA f:BATTLE_SPRITES_POINTERS,X
	AND #$00FF
	CMP #$0002
	BEQ @UNKNOWN4
	CMP #$0003
	BEQ @UNKNOWN5
	CMP #$0004
	BEQ @UNKNOWN6
	CMP #$0005
	BEQ @UNKNOWN7
	CMP #$0006
	BNE @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN8)
@UNKNOWN3:
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN4:
	LDA #$0002
	STA $02
	STA $22
	SEP #PROC_FLAGS::ACCUM8
	LDA #$00E0
	LDY #$0003
	STA ($26),Y
	LDX $26
	STZ a:.LOWORD(RAM)+8,X
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN5:
	LDY #$0002
	STY $24
	SEP #PROC_FLAGS::ACCUM8
	LDA #$00C0
	STA ($26)
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN6:
	LDY #$0002
	STY $24
	STY $02
	LDA $02
	STA $22
	SEP #PROC_FLAGS::ACCUM8
	LDA #$00C0
	LDY #$0005
	STA ($26),Y
	STA ($26)
	LDA #$00E0
	LDY #$000D
	STA ($26),Y
	LDY #$0003
	STA ($26),Y
	LDA #$0000
	LDY #$0012
	STA ($26),Y
	LDY #$0008
	STA ($26),Y
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN7:
	.A16
	LDA #$0004
	STA $02
	STA $22
	LDY #$0002
	STY $24
	SEP #PROC_FLAGS::ACCUM8
	LDA #$00C0
	LDY #$000F
	STA ($26),Y
	LDY #$000A
	STA ($26),Y
	LDY #$0005
	STA ($26),Y
	STA ($26)
	LDY #$0017
	STA ($26),Y
	LDY #$0003
	STA ($26),Y
	LDA #$00E0
	LDY #$001C
	STA ($26),Y
	LDY #$0008
	STA ($26),Y
	LDA #$0000
	LDY #$0021
	STA ($26),Y
	LDY #$000D
	STA ($26),Y
	LDA #$0020
	LDY #$0026
	STA ($26),Y
	LDY #$0012
	STA ($26),Y
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN8:
	LDY #$0004
	STY $24
	TYA
	STA $02
	STA $22
	SEP #PROC_FLAGS::ACCUM8
	LDA #$00A0
	LDY #$000F
	STA ($26),Y
	LDY #$000A
	STA ($26),Y
	LDY #$0005
	STA ($26),Y
	STA ($26)
	LDA #$00C0
	LDY #$0023
	STA ($26),Y
	LDY #$001E
	STA ($26),Y
	LDY #$0019
	STA ($26),Y
	LDY #$0014
	STA ($26),Y
	LDX $26
	STZ a:.LOWORD(RAM)+75,X
	LDX $26
	STZ a:.LOWORD(RAM)+70,X
	LDX $26
	STZ a:.LOWORD(RAM)+65,X
	LDX $26
	STZ a:.LOWORD(RAM)+60,X
	LDY #$003F
	STA ($26),Y
	LDY #$002B
	STA ($26),Y
	LDY #$0017
	STA ($26),Y
	LDY #$0003
	STA ($26),Y
	LDA #$00E0
	LDY #$0044
	STA ($26),Y
	LDY #$0030
	STA ($26),Y
	LDY #$001C
	STA ($26),Y
	LDY #$0008
	STA ($26),Y
	LDX $26
	STZ a:.LOWORD(RAM)+73,X
	LDX $26
	STZ a:.LOWORD(RAM)+53,X
	LDX $26
	STZ a:.LOWORD(RAM)+33,X
	LDX $26
	STZ a:.LOWORD(RAM)+13,X
	LDA #$0020
	LDY #$004E
	STA ($26),Y
	LDY #$003A
	STA ($26),Y
	LDY #$0026
	STA ($26),Y
	LDY #$0012
	STA ($26),Y
@UNKNOWN9:
	LDY $24
	REP #PROC_FLAGS::ACCUM8
	LDA $02
	JSL MULT16
	OPTIMIZED_MULT $04, 5
	TAY
	DEY
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0081
	STA ($26),Y
	REP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(UNKNOWN_7EAAB4)
	OPTIMIZED_MULT $04, 80
	STA $1E
	LDA #$AC16
	STA $26
	LDA $1E
	CLC
	ADC #.LOWORD(UNKNOWN_7EAAD6)
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0050
	LDA $1E
	CLC
	ADC $26
	JSL MEMCPY16
	LDA .LOWORD(UNKNOWN_7EAAB4)
	OPTIMIZED_MULT $04, 80
	CLC
	ADC $26
	STA $1E
	LDX #$0000
	BRA @UNKNOWN11
@UNKNOWN10:
	REP #PROC_FLAGS::ACCUM8
	TXA
	OPTIMIZED_MULT $04, 5
	STA $02
	INC $02
	INC $02
	LDA $1E
	CLC
	ADC $02
	STA $20
	SEP #PROC_FLAGS::ACCUM8
	LDA ($20)
	CLC
	ADC #$0008
	STA ($20)
	INX
@UNKNOWN11:
	CPX #$0010
	BCC @UNKNOWN10
	REP #PROC_FLAGS::ACCUM8
	LDA $22
	STA $02
	LDA .LOWORD(UNKNOWN_7EAAB4)
	ASL
	TAX
	LDA $02
	STA $AAC6,X
	LDY $24
	LDA .LOWORD(UNKNOWN_7EAAB4)
	ASL
	TAX
	TYA
	STA $AACE,X
	INC .LOWORD(UNKNOWN_7EAAB4)
	LOADPTR UNKNOWN_7F8000, $06
	LDA $06
	STA $1A
	LDA $08
	STA $1C
	LOADPTR BATTLE_SPRITES_POINTERS, $0A
	LDA $28
	STA $04
	OPTIMIZED_MULT $04, 5
	CLC
	ADC $0A
	STA $0A
	LDY #$0002
	LDA [$0A],Y
	TAY
	LDA [$0A]
	STA $06
	STY $08
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDA $1A
	STA $06
	LDA $1C
	STA $08
	LDA $06
	STA $12
	LDA $08
	STA $14
	JSL DECOMP
	LDA $06
	STA $1A
	LDA $08
	STA $1C
	LDY $24
	LDA $02
	JSL MULT16
	TAY
	JMP a:.LOWORD(@UNKNOWN17)
@UNKNOWN12:
	LOADPTR UNKNOWN_7F0000, $0A
	LDA .LOWORD(UNKNOWN_7EAAB2)
	ASL
	TAX
	LDA f:UNKNOWN_C3F819+88,X
	CLC
	ADC $0A
	STA $0A
	INC .LOWORD(UNKNOWN_7EAAB2)
	LDA #$0000
	STA $20
	BRA @UNKNOWN16
@UNKNOWN13:
	LDA $0A
	STA $06
	LDA $0C
	STA $08
	LDA $06
	STA $16
	LDA $08
	STA $18
	LDX #$0000
	BRA @UNKNOWN15
@UNKNOWN14:
	SEP #PROC_FLAGS::ACCUM8
	LDA [$1A]
	STA [$06]
	REP #PROC_FLAGS::ACCUM8
	LDA $1A
	STA $06
	LDA $1C
	STA $08
	INC $06
	LDA $06
	STA $1A
	LDA $08
	STA $1C
	LDA $16
	STA $06
	LDA $18
	STA $08
	INC $06
	LDA $06
	STA $16
	LDA $08
	STA $18
	INX
@UNKNOWN15:
	CPX #$0080
	BCC @UNKNOWN14
	LDA #$0200
	CLC
	ADC $0A
	STA $0A
	LDA $20
	INC
	STA $20
@UNKNOWN16:
	CMP #$0004
	BCC @UNKNOWN13
@UNKNOWN17:
	TYX
	DEY
	CPX #$0000
	BEQ @UNKNOWN18
	JMP a:.LOWORD(@UNKNOWN12)
@UNKNOWN18:
	PLD
	RTS

UNKNOWN_C2EEE7: ;$C2EEE7
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFE2
	TCD
	STZ .LOWORD(UNKNOWN_7EAAB4)
	STZ .LOWORD(UNKNOWN_7EAAB2)
	LOADPTR BTL_ENTRY_PTR_TABLE, $0A
	LDA .LOWORD(CURRENT_BATTLE_GROUP)
	ASL
	ASL
	ASL
	CLC
	ADC $0A
	STA $0A
	LDY #$0002
	LDA [$0A],Y
	TAY
	LDA [$0A]
	STA $06
	STY $08
	LDA $06
	STA $1A
	LDA $08
	STA $1C
	JMP a:.LOWORD(@UNKNOWN1)
@UNKNOWN0:
	LOADPTR ENEMY_CONFIGURATION_TABLE, $06
	LDA $06
	STA $16
	LDA $08
	STA $18
	LDA $1A
	STA $0A
	LDA $1C
	STA $0C
	INC $0A
	LDA [$0A]
	LDY #.SIZEOF(enemy_data)
	JSL MULT168
	STA $14
	CLC
	ADC #$001C
	CLC
	ADC $06
	STA $06
	LDA [$06]
	TAY
	STY $12
	LDA $14
	CLC
	ADC #$0035
	LDX $16
	STX $06
	LDX $18
	STX $08
	CLC
	ADC $06
	STA $06
	LDA [$06]
	AND #$00FF
	ASL
	ASL
	ASL
	ASL
	ASL
	PHA
	LOADPTR BATTLE_SPRITE_PALETTES, $06
	PLA
	CLC
	ADC $06
	STA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$0020
	LDA .LOWORD(UNKNOWN_7EAAB4)
	ASL
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC #$0300
	JSL MEMCPY16
	LDA .LOWORD(UNKNOWN_7EAAB4)
	ASL
	TAX
	LDA [$0A]
	STA .LOWORD(UNKNOWN_7EAABE),X
	LDY $12
	TYA
	JSR a:.LOWORD(UNKNOWN_C2EAEA)
	LDA $1A
	STA $06
	LDA $1C
	STA $08
	LDA #$0003
	CLC
	ADC $06
	STA $06
	STA $1A
	LDA $08
	STA $1C
@UNKNOWN1:
	LDY #$0000
	LDA [$1A],Y
	AND #$00FF
	TAX
	CPX #$00FF
	BEQ @UNKNOWN2
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN2:
	LDA .LOWORD(UNKNOWN_7EAAB2)
	CMP #$0010
	BCC @UNKNOWN3
	BEQ @UNKNOWN3
	LDX #$3000
	BRA @UNKNOWN4
@UNKNOWN3:
	LDX #$2000
@UNKNOWN4:
	LOADPTR UNKNOWN_7F0000, $0E
	LDY #$2000
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	JSL UNKNOWN_C08616
	PLD
	RTL

GET_BATTLE_SPRITE_WIDTH: ;$C2EFFD
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF2
	TCD
	PLA
	DEC
	OPTIMIZED_MULT $04, 5
	TAX
	INX
	INX
	INX
	INX
	LDA f:BATTLE_SPRITES_POINTERS,X
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN0
	CMP #$0003
	BEQ @UNKNOWN0
	CMP #$0002
	BEQ @UNKNOWN1
	CMP #$0004
	BEQ @UNKNOWN1
	CMP #$0005
	BEQ @UNKNOWN2
	CMP #$0006
	BEQ @UNKNOWN2
	BRA @UNKNOWN3
@UNKNOWN0:
	LDA #$0004
	BRA @UNKNOWN4
@UNKNOWN1:
	LDA #$0008
	BRA @UNKNOWN4
@UNKNOWN2:
	LDA #$0010
	BRA @UNKNOWN4
@UNKNOWN3:
	LDA #$0000
@UNKNOWN4:
	PLD
	RTS

GET_BATTLE_SPRITE_HEIGHT: ;$C2F04E
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFF2
	TCD
	PLA
	DEC
	OPTIMIZED_MULT $04, 5
	TAX
	INX
	INX
	INX
	INX
	LDA f:BATTLE_SPRITES_POINTERS,X
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN0
	CMP #$0002
	BEQ @UNKNOWN0
	CMP #$0003
	BEQ @UNKNOWN1
	CMP #$0004
	BEQ @UNKNOWN1
	CMP #$0005
	BEQ @UNKNOWN1
	CMP #$0006
	BEQ @UNKNOWN2
	BRA @UNKNOWN3
@UNKNOWN0:
	LDA #$0004
	BRA @UNKNOWN4
@UNKNOWN1:
	LDA #$0008
	BRA @UNKNOWN4
@UNKNOWN2:
	LDA #$0010
	BRA @UNKNOWN4
@UNKNOWN3:
	LDA #$0000
@UNKNOWN4:
	PLD
	RTS

UNKNOWN_C2F09F: ;$C2F09F
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	TAX
	STX $10
	LDA #$0000
	STA $0E
	BRA @UNKNOWN2
@UNKNOWN0:
	ASL
	PHA
	LDX $10
	TXA
	PLX
	CMP .LOWORD(UNKNOWN_7EAABE),X
	BNE @UNKNOWN1
	LDA $0E
	BRA @UNKNOWN3
@UNKNOWN1:
	LDA $0E
	INC
	STA $0E
@UNKNOWN2:
	CMP #$0004
	BCC @UNKNOWN0
	LDA #$0000
@UNKNOWN3:
	PLD
	RTS

UNKNOWN_C2F0D1: ;$C2F0D1
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEE
	TCD
	LDY #$0000
	STY $10
	TYX
	STX $0E
	BRA @UNKNOWN2
@UNKNOWN0:
	TXA
	ASL
	TAX
	LDA .LOWORD(UNKNOWN_7E9F8C),X
	LDY #.SIZEOF(enemy_data)
	JSL MULT168
	CLC
	ADC #enemy_data::battle_sprite
	TAX
	LDA f:ENEMY_CONFIGURATION_TABLE,X
	JSR a:.LOWORD(GET_BATTLE_SPRITE_WIDTH)
	STA $02
	LDY $10
	TYA
	CLC
	ADC $02
	TAY
	STY $10
	CPY #$0020
	BCC @UNKNOWN1
	BEQ @UNKNOWN1
	LDX $0E
	STX .LOWORD(ENEMIES_IN_BATTLE)
	BRA @UNKNOWN3
@UNKNOWN1:
	LDX $0E
	INX
	STX $0E
@UNKNOWN2:
	CPX .LOWORD(ENEMIES_IN_BATTLE)
	BCC @UNKNOWN0
@UNKNOWN3:
	PLD
	RTL

UNKNOWN_C2F121: ;$C2F121
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFD9
	TCD
	STZ $AEF2
	STZ $AEF0
	LDX #$0008
	STX $25
	JMP a:.LOWORD(@UNKNOWN10)
@UNKNOWN0:
	TXA
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAY
	STY $23
	LDA .LOWORD(BATTLERS_TABLE)+battler::consciousness,Y
	AND #$00FF
	BNE @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN1:
	LDA .LOWORD(BATTLERS_TABLE)+battler::ally_or_enemy,Y
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN2
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN2:
	LDA .LOWORD(BATTLERS_TABLE),Y
	JSR a:.LOWORD(UNKNOWN_C2F09F)
	SEP #PROC_FLAGS::ACCUM8
	LDY $23
	STA .LOWORD(BATTLERS_TABLE)+battler::sprite_y,Y
	REP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(BATTLERS_TABLE)+battler::row,Y
	AND #$00FF
	STA $21
	LDA .LOWORD(BATTLERS_TABLE)+battler::sprite,Y
	JSR a:.LOWORD(GET_BATTLE_SPRITE_WIDTH)
	STA $02
	LDA $21
	ASL
	TAX
	LDA $AEF0,X
	BEQ @UNKNOWN3
	INC $02
@UNKNOWN3:
	LDA $21
	ASL
	CLC
	ADC #$AEF0
	TAY
	LDA a:.LOWORD(RAM),Y
	CLC
	ADC $02
	CMP #$001E
	BEQ @UNKNOWN4
	BCS @UNKNOWN5
@UNKNOWN4:
	STA a:.LOWORD(RAM),Y
	BRA @UNKNOWN9
@UNKNOWN5:
	LDA #$0001
	SEC
	SBC $21
	STA $23
	LDX $25
	TXA
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	LDA .LOWORD(BATTLERS_TABLE)+battler::sprite,X
	JSR a:.LOWORD(GET_BATTLE_SPRITE_WIDTH)
	STA $02
	LDA $23
	ASL
	TAX
	LDA $AEF0,X
	BEQ @UNKNOWN6
	INC $02
@UNKNOWN6:
	LDA $23
	ASL
	CLC
	ADC #$AEF0
	TAY
	STY $1F
	LDA a:.LOWORD(RAM),Y
	CLC
	ADC $02
	CMP #$001E
	BEQ @UNKNOWN7
	BCS @UNKNOWN8
@UNKNOWN7:
	LDX $25
	TXA
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	LDA $23
	SEP #PROC_FLAGS::ACCUM8
	STA .LOWORD(BATTLERS_TABLE)+battler::row,X
	LDY $1F
	REP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),Y
	CLC
	ADC $02
	STA a:.LOWORD(RAM),Y
	BRA @UNKNOWN9
@UNKNOWN8:
	LDA #$0000
	JMP a:.LOWORD(@UNKNOWN60)
@UNKNOWN9:
	LDX $25
	INX
	STX $25
@UNKNOWN10:
	CPX #$0020
	BCS @UNKNOWN11
	BEQ @UNKNOWN11
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN11:
	;TODO: why 8?
	LDA .LOWORD(BATTLERS_TABLE)+8*.SIZEOF(battler)+16
	AND #$00FF
	STA $23
	LDA #$0020
	STA $1D
	STA $1B
	LDX #$0008
	STX $1F
	JMP a:.LOWORD(@UNKNOWN21)
@UNKNOWN12:
	TXA
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAY
	STY $21
	LDA .LOWORD(BATTLERS_TABLE)+battler::consciousness,Y
	AND #$00FF
	BNE @UNKNOWN13
	JMP a:.LOWORD(@UNKNOWN20)
@UNKNOWN13:
	LDA .LOWORD(BATTLERS_TABLE)+battler::ally_or_enemy,Y
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN14
	JMP a:.LOWORD(@UNKNOWN20)
@UNKNOWN14:
	LDA .LOWORD(BATTLERS_TABLE)+16,Y
	AND #$00FF
	CMP $23
	BEQ @UNKNOWN15
	JMP a:.LOWORD(@UNKNOWN20)
@UNKNOWN15:
	LDA .LOWORD(BATTLERS_TABLE)+battler::sprite,Y
	JSR a:.LOWORD(GET_BATTLE_SPRITE_WIDTH)
	LSR
	STA $19
	LDA $1B
	CMP $1D
	BNE @UNKNOWN17
	LDA $1B
	SEP #PROC_FLAGS::ACCUM8
	LDY $21
	STA .LOWORD(BATTLERS_TABLE)+battler::initiative,Y
	REP #PROC_FLAGS::ACCUM8
	LDA $1B
	SEC
	SBC $19
	STA $1B
	LDA $1D
	CLC
	ADC $19
	STA $1D
	JSR a:.LOWORD(RAND_LONG)
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	AND #$0001
	BEQ @UNKNOWN16
	LDA $1B
	STA $04
	STA $17
	JMP a:.LOWORD(@UNKNOWN20)
@UNKNOWN16:
	LDA $1D
	STA $04
	STA $17
	JMP a:.LOWORD(@UNKNOWN20)
@UNKNOWN17:
	LDA #$0020
	SEC
	SBC $1B
	STA $21
	LDA $1D
	SEC
	SBC #$0020
	STA $02
	LDA $21
	CMP $02
	BCC @UNKNOWN18
	CMP $02
	BNE @UNKNOWN19
	JSR a:.LOWORD(RAND_LONG)
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	AND #$0001
	BEQ @UNKNOWN19
@UNKNOWN18:
	LDA $19
	SEP #PROC_FLAGS::ACCUM8
	STA $00
	REP #PROC_FLAGS::ACCUM8
	LDA $1B
	SEP #PROC_FLAGS::ACCUM8
	SEC
	SBC $00
	DEC
	STA $16
	LDX $1F
	REP #PROC_FLAGS::ACCUM8
	TXA
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA $16
	STA .LOWORD(BATTLERS_TABLE)+battler::initiative,X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	SEC
	SBC $19
	STA $1B
	BRA @UNKNOWN20
@UNKNOWN19:
	LDA $19
	SEP #PROC_FLAGS::ACCUM8
	STA $00
	REP #PROC_FLAGS::ACCUM8
	LDA $1D
	SEP #PROC_FLAGS::ACCUM8
	CLC
	ADC $00
	INC
	STA $16
	LDX $1F
	REP #PROC_FLAGS::ACCUM8
	TXA
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA $16
	STA .LOWORD(BATTLERS_TABLE)+battler::initiative,X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	CLC
	ADC $19
	STA $1D
@UNKNOWN20:
	LDX $1F
	INX
	STX $1F
@UNKNOWN21:
	CPX #$0020
	BCS @UNKNOWN22
	BEQ @UNKNOWN22
	JMP a:.LOWORD(@UNKNOWN12)
@UNKNOWN22:
	LDA $17
	STA $04
	LDY $04
	STY $25
	TYX
	STX $14
	LDA #$0008
	STA $02
	STA $1F
	JMP a:.LOWORD(@UNKNOWN32)
@UNKNOWN23:
	LDA $02
	LDY #.SIZEOF(battler)
	JSL MULT168
	STA $04
	LDX $04
	LDA .LOWORD(BATTLERS_TABLE)+battler::consciousness,X
	AND #$00FF
	BNE @UNKNOWN24
	JMP a:.LOWORD(@UNKNOWN31)
@UNKNOWN24:
	LDX $04
	LDA .LOWORD(BATTLERS_TABLE)+battler::ally_or_enemy,X
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN25
	JMP a:.LOWORD(@UNKNOWN31)
@UNKNOWN25:
	LDX $04
	LDA .LOWORD(BATTLERS_TABLE)+16,X
	AND #$00FF
	CMP $23
	BNE @UNKNOWN26
	JMP a:.LOWORD(@UNKNOWN31)
@UNKNOWN26:
	LDX $04
	LDA .LOWORD(BATTLERS_TABLE)+battler::sprite,X
	JSR a:.LOWORD(GET_BATTLE_SPRITE_WIDTH)
	LSR
	STA $12
	LDY $25
	STY $02
	LDX $14
	TXA
	CMP $02
	BNE @UNKNOWN27
	TXA
	SEP #PROC_FLAGS::ACCUM8
	LDX $04
	STA .LOWORD(BATTLERS_TABLE)+battler::initiative,X
	LDX $14
	REP #PROC_FLAGS::ACCUM8
	TXA
	SEC
	SBC $12
	TAX
	STX $14
	TYA
	CLC
	ADC $12
	TAY
	STY $25
	JMP a:.LOWORD(@UNKNOWN31)
@UNKNOWN27:
	CPY #$0020
	BCC @UNKNOWN30
	BEQ @UNKNOWN30
	CPX #$0020
	BEQ @UNKNOWN28
	BCS @UNKNOWN29
@UNKNOWN28:
	STX $04
	LDA #$0020
	SEC
	SBC $04
	STA $17
	TYA
	SEC
	SBC #$0020
	STA $04
	LDA $17
	CMP $04
	BCC @UNKNOWN29
	CMP $04
	BNE @UNKNOWN30
	JSR a:.LOWORD(RAND_LONG)
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	AND #$0001
	BEQ @UNKNOWN30
@UNKNOWN29:
	LDA $12
	SEP #PROC_FLAGS::ACCUM8
	STA $00
	LDX $14
	REP #PROC_FLAGS::ACCUM8
	TXA
	SEP #PROC_FLAGS::ACCUM8
	SEC
	SBC $00
	DEC
	STA $16
	REP #PROC_FLAGS::ACCUM8
	LDA $1F
	STA $02
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA $16
	STA .LOWORD(BATTLERS_TABLE)+battler::initiative,X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	SEC
	SBC $12
	TAX
	STX $14
	BRA @UNKNOWN31
@UNKNOWN30:
	LDA $12
	SEP #PROC_FLAGS::ACCUM8
	STA $00
	LDY $25
	REP #PROC_FLAGS::ACCUM8
	TYA
	SEP #PROC_FLAGS::ACCUM8
	CLC
	ADC $00
	INC
	STA $16
	REP #PROC_FLAGS::ACCUM8
	LDA $1F
	STA $02
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA $16
	STA .LOWORD(BATTLERS_TABLE)+battler::initiative,X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	CLC
	ADC $12
	TAY
	STY $25
@UNKNOWN31:
	LDA $1F
	STA $02
	INC $02
	LDA $02
	STA $1F
@UNKNOWN32:
	LDA $02
	CMP #$0020
	BCS @UNKNOWN33
	BEQ @UNKNOWN33
	JMP a:.LOWORD(@UNKNOWN23)
@UNKNOWN33:
	LDA $23
	CMP #$0001
	BNE @UNKNOWN37
	LDY $25
	STY $02
	LDX $14
	TXA
	CMP $02
	BNE @UNKNOWN37
	LDA #$0008
	STA $02
	BRA @UNKNOWN36
@UNKNOWN34:
	LDA $02
	LDY #.SIZEOF(battler)
	JSL MULT168
	STA $17
	TAX
	LDA .LOWORD(BATTLERS_TABLE)+battler::consciousness,X
	AND #$00FF
	BEQ @UNKNOWN35
	LDA $17
	TAX
	LDA .LOWORD(BATTLERS_TABLE)+battler::ally_or_enemy,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN35
	LDA $17
	TAX
	SEP #PROC_FLAGS::ACCUM8
	STZ .LOWORD(BATTLERS_TABLE)+battler::row,X
@UNKNOWN35:
	REP #PROC_FLAGS::ACCUM8
	INC $02
@UNKNOWN36:
	LDA $02
	CMP #$0020
	BCC @UNKNOWN34
@UNKNOWN37:
	LDX $14
	CPX $1B
	BCS @UNKNOWN38
	STX $1B
@UNKNOWN38:
	LDY $25
	CPY $1D
	BCC @UNKNOWN39
	BEQ @UNKNOWN39
	STY $1D
@UNKNOWN39:
	LDA $1B
	CLC
	ADC $1D
	LSR
	STA $02
	LDA #$0020
	SEC
	SBC $02
	SEC
	SBC #$0010
	TAY
	STY $1B
	LDA #$0008
	STA $14
	BRA @UNKNOWN43
@UNKNOWN40:
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	STX $19
	LDA .LOWORD(BATTLERS_TABLE)+battler::consciousness,X
	AND #$00FF
	BEQ @UNKNOWN42
	LDA .LOWORD(BATTLERS_TABLE)+battler::ally_or_enemy,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN42
	TXA
	CLC
	ADC #$9FF0
	STA $02
	LDY $1B
	SEP #PROC_FLAGS::INDEX8
	STY $00
	REP #PROC_FLAGS::INDEX8
	LDX $02
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	CLC
	ADC $00
	ASL
	ASL
	ASL
	LDX $02
	STA a:.LOWORD(RAM),X
	LDX $19
	REP #PROC_FLAGS::ACCUM8
	LDA .LOWORD(BATTLERS_TABLE)+battler::row,X
	AND #$00FF
	BEQ @UNKNOWN41
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0080
	STA .LOWORD(BATTLERS_TABLE)+69,X
	BRA @UNKNOWN42
@UNKNOWN41:
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0090
	STA .LOWORD(BATTLERS_TABLE)+69,X
@UNKNOWN42:
	REP #PROC_FLAGS::ACCUM8
	LDA $14
	INC
	STA $14
@UNKNOWN43:
	CMP #$0020
	BCC @UNKNOWN40
	LDA .LOWORD(CURRENT_BATTLE_GROUP)
	CMP #$01DB
	BNE @UNKNOWN44
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0080
	STA .LOWORD(BATTLERS_TABLE)+8*.SIZEOF(battler)+battler::initiative
	STA .LOWORD(BATTLERS_TABLE)+8*.SIZEOF(battler)+69
	LDA #$00C8
	STA .LOWORD(BATTLERS_TABLE)+9*.SIZEOF(battler)+battler::initiative
	LDA #$0090
	STA .LOWORD(BATTLERS_TABLE)+9*.SIZEOF(battler)+69
@UNKNOWN44:
	REP #PROC_FLAGS::ACCUM8
	STZ $21
	LDA #$0000
	STA $04
	JMP a:.LOWORD(@UNKNOWN57)
@UNKNOWN45:
	LDA $04
	REP #PROC_FLAGS::INDEX8
	LDY #.SIZEOF(battler)
	JSL MULT168
	CLC
	ADC #$A21C
	TAY
	STY $19
	LDA $04
	INC
	STA $1B
	JMP a:.LOWORD(@UNKNOWN55)
@UNKNOWN46:
	LDA $1B
	REP #PROC_FLAGS::INDEX8
	LDY #.SIZEOF(battler)
	JSL MULT168
	CLC
	ADC #.LOWORD(BATTLERS_TABLE)+8*.SIZEOF(battler)
	STA $23
	LDY $19
	LDA a:.LOWORD(RAM),Y
	CMP ($23)
	BEQ @UNKNOWN47
	JMP a:.LOWORD(@UNKNOWN54)
@UNKNOWN47:
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM)+11,Y
	LDY #$000B
	CMP ($23),Y
	BCS @UNKNOWN48
	LDY $19
	LDA a:.LOWORD(RAM)+69,Y
	STA $00
	LDY #$0045
	LDA ($23),Y
	STA $16
	STA $01
	LDA $00
	CMP $01
	BCC @UNKNOWN53
	LDA $16
	PHA
	LDA $00
	SEP #PROC_FLAGS::INDEX8
	PLX
	STX $00
	CMP $00
	BNE @UNKNOWN48
	REP #PROC_FLAGS::INDEX8
	LDY $19
	LDA a:.LOWORD(RAM)+68,Y
	LDY #$0044
	CMP ($23),Y
	BEQ @UNKNOWN48
	BCS @UNKNOWN53
@UNKNOWN48:
	REP #PROC_FLAGS::INDEX8
	LDY $19
	LDA a:.LOWORD(RAM)+11,Y
	LDY #$000B
	CMP ($23),Y
	BEQ @UNKNOWN49
	BCS @UNKNOWN50
@UNKNOWN49:
	JMP a:.LOWORD(@UNKNOWN54)
@UNKNOWN50:
	LDY $19
	LDA a:.LOWORD(RAM)+69,Y
	STA $00
	LDY #$0045
	LDA ($23),Y
	STA $16
	STA $01
	LDA $00
	CMP $01
	BEQ @UNKNOWN51
	BCS @UNKNOWN53
@UNKNOWN51:
	LDA $16
	PHA
	LDA $00
	SEP #PROC_FLAGS::INDEX8
	PLX
	STX $00
	CMP $00
	BEQ @UNKNOWN52
	JMP a:.LOWORD(@UNKNOWN54)
@UNKNOWN52:
	REP #PROC_FLAGS::INDEX8
	LDY $19
	LDA a:.LOWORD(RAM)+68,Y
	LDY #$0044
	CMP ($23),Y
	BCC @UNKNOWN53
	JMP a:.LOWORD(@UNKNOWN54)
@UNKNOWN53:
	REP #PROC_FLAGS::ACCUM8
	LDA #$0001
	STA $21
	LDY $19
	TYA
	CLC
	ADC #$000B
	TAX
	STX $14
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	STA $12
	LDA $23
	CLC
	ADC #$000B
	STA $02
	LDX $02
	SEP #PROC_FLAGS::ACCUM8
	LDA a:.LOWORD(RAM),X
	LDX $14
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	LDA $12
	SEP #PROC_FLAGS::ACCUM8
	LDX $02
	STA a:.LOWORD(RAM),X
	STA $00
	LDX $14
	LDA a:.LOWORD(RAM),X
	CMP $00
	BCC @UNKNOWN54
	BEQ @UNKNOWN54
	REP #PROC_FLAGS::ACCUM8
	LDA #$A91E
	STA $02
	TYA
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$004E
	LDA $02
	JSL MEMCPY16
	LDA $23
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$004E
	LDY $19
	TYA
	JSL MEMCPY16
	LDA $02
	STA $06
	PHB
	SEP #PROC_FLAGS::ACCUM8
	PLA
	STA $08
	STZ $09
	REP #PROC_FLAGS::ACCUM8
	LDA $06
	STA $0E
	LDA $08
	STA $10
	LDX #$004E
	LDA $23
	JSL MEMCPY16
@UNKNOWN54:
	REP #PROC_FLAGS::ACCUM8
	INC $1B
@UNKNOWN55:
	LDA .LOWORD(ENEMIES_IN_BATTLE)
	CMP $1B
	BEQ @UNKNOWN56
	BCC @UNKNOWN56
	JMP a:.LOWORD(@UNKNOWN46)
@UNKNOWN56:
	INC $04
@UNKNOWN57:
	LDA .LOWORD(ENEMIES_IN_BATTLE)
	DEC
	STA $02
	LDA $04
	CMP $02
	BCS @UNKNOWN58
	BEQ @UNKNOWN58
	JMP a:.LOWORD(@UNKNOWN45)
@UNKNOWN58:
	LDA $21
	BEQ @UNKNOWN59
	JMP a:.LOWORD(@UNKNOWN44)
@UNKNOWN59:
	SEP #PROC_FLAGS::ACCUM8
	STZ $0E
	REP #PROC_FLAGS::INDEX8
	LDX #$004E
	REP #PROC_FLAGS::ACCUM8
	LDA #$A91E
	JSL MEMSET16
	LDA #$0000
@UNKNOWN60:
	PLD
	RTL

UNKNOWN_C2F724: ;$C2F724
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE8
	TCD
	PLA
	STA $16
	LDA #$A21C
	STA $02
	LDA #$0008
	STA $04
	STA $14
	JMP a:.LOWORD(@UNKNOWN12)
@UNKNOWN0:
	LDX $02
	LDA a:.LOWORD(RAM)+12,X
	AND #$00FF
	BNE @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN11)
@UNKNOWN1:
	LDX $02
	LDA a:.LOWORD(RAM)+29,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN2
	JMP a:.LOWORD(@UNKNOWN11)
@UNKNOWN2:
	LDX $02
	LDA a:.LOWORD(RAM)+14,X
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN3
	JMP a:.LOWORD(@UNKNOWN11)
@UNKNOWN3:
	LDX $02
	LDA a:.LOWORD(RAM)+16,X
	AND #$00FF
	CMP $16
	BEQ @UNKNOWN4
	JMP a:.LOWORD(@UNKNOWN11)
@UNKNOWN4:
	LDX $02
	LDA a:.LOWORD(RAM)+2,X
	BNE @UNKNOWN5
	JMP a:.LOWORD(@UNKNOWN11)
@UNKNOWN5:
	LDA $02
	CLC
	ADC #$0048
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	BEQ @UNKNOWN6
	SEP #PROC_FLAGS::ACCUM8
	DEC
	STA a:.LOWORD(RAM),X
	LDY #$0003
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	JSL DIVISION16
	AND #$0001
	BEQ @UNKNOWN6
	JMP a:.LOWORD(@UNKNOWN11)
@UNKNOWN6:
	LDA $02
	CLC
	ADC #$0049
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$00FF
	BEQ @UNKNOWN7
	SEP #PROC_FLAGS::ACCUM8
	DEC
	STA a:.LOWORD(RAM),X
	REP #PROC_FLAGS::ACCUM8
	AND #$00FF
	AND #$0004
	BNE @UNKNOWN7
	LDX $02
	LDA a:.LOWORD(RAM)+69,X
	AND #$00FF
	SEC
	SBC .LOWORD(UNKNOWN_7EAD98)
	TAY
	LDX $02
	LDA a:.LOWORD(RAM)+68,X
	AND #$00FF
	SEC
	SBC .LOWORD(UNKNOWN_7EAD96)
	TAX
	STX $12
	LDX $02
	LDA a:.LOWORD(RAM)+67,X
	AND #$00FF
	OPTIMIZED_MULT $04, 80
	CLC
	ADC #$AC16
	LDX $12
	JSL UNKNOWN_C08CD5
	JMP a:.LOWORD(@UNKNOWN11)
@UNKNOWN7:
	LDX $02
	LDA a:.LOWORD(RAM)+75,X
	AND #$00FF
	BEQ @UNKNOWN8
	LDX $02
	LDA a:.LOWORD(RAM)+69,X
	AND #$00FF
	SEC
	SBC .LOWORD(UNKNOWN_7EAD98)
	TAY
	LDX $02
	LDA a:.LOWORD(RAM)+68,X
	AND #$00FF
	SEC
	SBC .LOWORD(UNKNOWN_7EAD96)
	TAX
	STX $10
	LDX $02
	LDA a:.LOWORD(RAM)+67,X
	AND #$00FF
	OPTIMIZED_MULT $04, 80
	CLC
	ADC #$AC16
	LDX $10
	JSL UNKNOWN_C08CD5
	JMP a:.LOWORD(@UNKNOWN11)
@UNKNOWN8:
	LDA .LOWORD(UNKNOWN_7EADA2)
	BEQ @UNKNOWN10
	LDX $02
	LDA a:.LOWORD(RAM)+74,X
	AND #$00FF
	BEQ @UNKNOWN9
	LDA a:.LOWORD(UNKNOWN_7E0002)
	AND #$00FF
	AND #$0008
	BEQ @UNKNOWN10
@UNKNOWN9:
	LDX $02
	LDA a:.LOWORD(RAM)+69,X
	AND #$00FF
	SEC
	SBC .LOWORD(UNKNOWN_7EAD98)
	TAY
	LDX $02
	LDA a:.LOWORD(RAM)+68,X
	AND #$00FF
	SEC
	SBC .LOWORD(UNKNOWN_7EAD96)
	TAX
	STX $12
	LDX $02
	LDA a:.LOWORD(RAM)+67,X
	AND #$00FF
	OPTIMIZED_MULT $04, 80
	CLC
	ADC #$AC16
	LDX $12
	JSL UNKNOWN_C08CD5
	BRA @UNKNOWN11
@UNKNOWN10:
	LDX $02
	LDA a:.LOWORD(RAM)+69,X
	AND #$00FF
	SEC
	SBC .LOWORD(UNKNOWN_7EAD98)
	TAY
	LDX $02
	LDA a:.LOWORD(RAM)+68,X
	AND #$00FF
	SEC
	SBC .LOWORD(UNKNOWN_7EAD96)
	TAX
	STX $0E
	LDX $02
	LDA a:.LOWORD(RAM)+67,X
	AND #$00FF
	OPTIMIZED_MULT $04, 80
	CLC
	ADC #.LOWORD(UNKNOWN_7EAAD6)
	LDX $0E
	JSL UNKNOWN_C08CD5
@UNKNOWN11:
	LDA $02
	CLC
	ADC #$004E
	STA $02
	LDA $14
	STA $04
	INC $04
	LDA $04
	STA $14
@UNKNOWN12:
	LDA $04
	CMP #$0020
	BCS @UNKNOWN13
	BEQ @UNKNOWN13
	JMP a:.LOWORD(@UNKNOWN0)
@UNKNOWN13:
	PLD
	RTS

UNKNOWN_C2F8F9: ;$C2F8F9
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$007E
	JSL UNKNOWN_C088A5
	JSL OAM_CLEAR
	LDA #$0000
	JSR a:.LOWORD(UNKNOWN_C2F724)
	LDA #$0001
	JSR a:.LOWORD(UNKNOWN_C2F724)
	JSL UNKNOWN_C08B19_ENTRY_POINT_2
	RTL

UNKNOWN_C2F917: ;$C2F917
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFEC
	TCD
	STZ .LOWORD(UNKNOWN_7EAD58)
	STZ .LOWORD(UNKNOWN_7EAD56)
	LDA #$0008
	STA $12
	BRA @UNKNOWN3
@UNKNOWN0:
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	LDA .LOWORD(BATTLERS_TABLE)+battler::consciousness,X
	AND #$00FF
	BEQ @UNKNOWN2
	LDA .LOWORD(BATTLERS_TABLE)+battler::afflictions,X
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN2
	LDA .LOWORD(BATTLERS_TABLE)+battler::ally_or_enemy,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN2
	LDA .LOWORD(BATTLERS_TABLE)+battler::row,X
	AND #$00FF
	BEQ @UNKNOWN1
	INC .LOWORD(UNKNOWN_7EAD58)
	BRA @UNKNOWN2
@UNKNOWN1:
	INC .LOWORD(UNKNOWN_7EAD56)
@UNKNOWN2:
	LDA $12
	INC
	STA $12
@UNKNOWN3:
	CMP #$0020
	BCC @UNKNOWN0
	STZ $10
	LDA #$0000
	STA $02
	JMP a:.LOWORD(@UNKNOWN9)
@UNKNOWN4:
	LDA #$FFFF
	STA $04
	LDY #$0008
	STY $12
	BRA @UNKNOWN8
@UNKNOWN5:
	TYA
	LDY #$004E
	JSL MULT168
	TAX
	LDA .LOWORD(BATTLERS_TABLE)+battler::consciousness,X
	AND #$00FF
	BEQ @UNKNOWN7
	LDA .LOWORD(BATTLERS_TABLE)+battler::afflictions,X
	AND #$00FF
	CMP #$0001
	BEQ @UNKNOWN7
	LDA .LOWORD(BATTLERS_TABLE)+battler::ally_or_enemy,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN7
	LDA .LOWORD(BATTLERS_TABLE)+battler::row,X
	AND #$00FF
	BNE @UNKNOWN7
	LDA .LOWORD(BATTLERS_TABLE)+battler::initiative,X
	AND #$00FF
	CMP $10
	BCC @UNKNOWN7
	BEQ @UNKNOWN7
	CMP $04
	BEQ @UNKNOWN6
	BCS @UNKNOWN7
@UNKNOWN6:
	LDY $12
	STY $0E
	STA $04
@UNKNOWN7:
	LDY $12
	INY
	STY $12
@UNKNOWN8:
	CPY #$0020
	BCC @UNKNOWN5
	LDA $0E
	SEP #PROC_FLAGS::ACCUM8
	LDX $02
	STA .LOWORD(UNKNOWN_7EAD7A),X
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	LSR
	LSR
	LSR
	SEP #PROC_FLAGS::ACCUM8
	LDX $02
	STA .LOWORD(UNKNOWN_7EAD5A),X
	REP #PROC_FLAGS::ACCUM8
	LDA $0E
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	LDA .LOWORD(BATTLERS_TABLE)+battler::sprite,X
	JSR a:.LOWORD(GET_BATTLE_SPRITE_HEIGHT)
	SEP #PROC_FLAGS::ACCUM8
	STA $00
	LDA #$0012
	SEC
	SBC $00
	LDX $02
	STA .LOWORD(UNKNOWN_7EAD62),X
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	STA $10
	INC $02
@UNKNOWN9:
	LDA $02
	CMP .LOWORD(UNKNOWN_7EAD56)
	BCS @UNKNOWN10
	BEQ @UNKNOWN10
	JMP a:.LOWORD(@UNKNOWN4)
@UNKNOWN10:
	STZ $10
	LDA #$0000
	STA $02
	JMP a:.LOWORD(@UNKNOWN16)
@UNKNOWN11:
	LDA #$FFFF
	STA $04
	LDY #$0008
	STY $12
	BRA @UNKNOWN15
@UNKNOWN12:
	TYA
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	LDA .LOWORD(BATTLERS_TABLE)+battler::consciousness,X
	AND #$00FF
	BEQ @UNKNOWN14
	LDA .LOWORD(BATTLERS_TABLE)+battler::afflictions,X
	AND #$00FF
	CMP #STATUS_0::UNCONSCIOUS
	BEQ @UNKNOWN14
	LDA .LOWORD(BATTLERS_TABLE)+battler::ally_or_enemy,X
	AND #$00FF
	CMP #$0001
	BNE @UNKNOWN14
	LDA .LOWORD(BATTLERS_TABLE)+battler::row,X
	AND #$00FF
	BEQ @UNKNOWN14
	LDA .LOWORD(BATTLERS_TABLE)+battler::initiative,X
	AND #$00FF
	CMP $10
	BCC @UNKNOWN14
	BEQ @UNKNOWN14
	CMP $04
	BEQ @UNKNOWN13
	BCS @UNKNOWN14
@UNKNOWN13:
	LDY $12
	STY $0E
	STA $04
@UNKNOWN14:
	LDY $12
	INY
	STY $12
@UNKNOWN15:
	CPY #$0020
	BCC @UNKNOWN12
	LDA $0E
	SEP #PROC_FLAGS::ACCUM8
	LDX $02
	STA .LOWORD(UNKNOWN_7EAD82),X
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	LSR
	LSR
	LSR
	SEP #PROC_FLAGS::ACCUM8
	LDX $02
	STA .LOWORD(UNKNOWN_7EAD6A),X
	REP #PROC_FLAGS::ACCUM8
	LDA $0E
	LDY #.SIZEOF(battler)
	JSL MULT168
	TAX
	LDA .LOWORD(BATTLERS_TABLE)+battler::sprite,X
	JSR a:.LOWORD(GET_BATTLE_SPRITE_HEIGHT)
	SEP #PROC_FLAGS::ACCUM8
	STA $00
	LDA #$0010
	SEC
	SBC $00
	LDX $02
	STA .LOWORD(UNKNOWN_7EAD72),X
	REP #PROC_FLAGS::ACCUM8
	LDA $04
	STA $10
	INC $02
@UNKNOWN16:
	LDA $02
	CMP .LOWORD(UNKNOWN_7EAD58)
	BCS @UNKNOWN17
	BEQ @UNKNOWN17
	JMP a:.LOWORD(@UNKNOWN11)
@UNKNOWN17:
	PLD
	RTL

UNKNOWN_C2FAD2: ;$C2FAD2
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	LDA #$0001
	RTL

UNKNOWN_C2FAD8: ;$C2FAD8
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	STA .LOWORD(UNKNOWN_7EB37C)
	RTL

UNKNOWN_C2FADE: ;$C2FADE
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	TXY
	TAX
	STX .LOWORD(UNKNOWN_7EB37C)
	TYA
	ASL
	TAX
	LDA .LOWORD(UNKNOWN_7EB37C)
	STA .LOWORD(UNKNOWN_7EAEF4),X
	LDX #$0000
	STX $10
	BRA @UNKNOWN1
@UNKNOWN0:
	STX $02
	TYA
	OPTIMIZED_MULT $04, 48
	CLC
	ADC $02
	ASL
	STA $0E
	CLC
	ADC #$AEFC
	STA $02
	LDX $02
	LDA a:.LOWORD(RAM),X
	EOR #$FFFF
	INC
	LDX $02
	STA a:.LOWORD(RAM),X
	LDA $0E
	TAX
	STZ $B07C,X
	LDX $10
	INX
	STX $10
@UNKNOWN1:
	CPX #$0030
	BCC @UNKNOWN0
	PLD
	RTL

UNKNOWN_C2FB35: ;$C2FB35
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFE4
	TCD
	PLA
	STY $1A
	STX $04
	STX $18
	STA $16
	LDX $2A
	STX $14
	LSR
	LSR
	LSR
	LSR
	ASL
	TAX
	LDA .LOWORD(UNKNOWN_7EB37C)
	STA .LOWORD(UNKNOWN_7EAEF4),X
	LDA $16
	ASL
	TAX
	LDA $0380,X
	STA $12
	AND #$001F
	STA $02
	LDA $12
	LSR
	LSR
	LSR
	LSR
	LSR
	AND #$001F
	TAX
	STX $10
	SEP #PROC_FLAGS::ACCUM8
	LDA #$000A
	SEP #PROC_FLAGS::INDEX8
	TAY
	REP #PROC_FLAGS::ACCUM8
	LDA $12
	JSL ASR8_UNKNOWN1
	AND #$001F
	STA $0E
	LDA $04
	CMP $02
	BCC @UNKNOWN0
	BEQ @UNKNOWN0
	LDA $16
	OPTIMIZED_MULT $04, 6
	STA $12
	LDA $18
	STA $04
	SEC
	SBC $02
	REP #PROC_FLAGS::INDEX8
	LDY #$B1FC
	STA ($12),Y
	LDA #$0001
	LDY #$AEFC
	STA ($12),Y
	BRA @UNKNOWN2
@UNKNOWN0:
	LDA $04
	CMP $02
	BNE @UNKNOWN1
	LDA $16
	OPTIMIZED_MULT $04, 6
	REP #PROC_FLAGS::INDEX8
	TAX
	STZ $AEFC,X
	BRA @UNKNOWN2
@UNKNOWN1:
	LDA $16
	OPTIMIZED_MULT $04, 6
	STA $12
	LDA $18
	STA $04
	LDA $02
	SEC
	SBC $04
	REP #PROC_FLAGS::INDEX8
	LDY #$B1FC
	STA ($12),Y
	LDA #$FFFF
	LDY #$AEFC
	STA ($12),Y
@UNKNOWN2:
	LDX $10
	STX $02
	LDY $1A
	TYA
	CMP $02
	BCC @UNKNOWN3
	BEQ @UNKNOWN3
	LDA $16
	OPTIMIZED_MULT $04, 6
	STA $02
	STX $04
	TYA
	SEC
	SBC $04
	LDX $02
	STA $B1FE,X
	LDA #$0020
	LDX $02
	STA $AEFE,X
	BRA @UNKNOWN5
@UNKNOWN3:
	STX $02
	TYA
	CMP $02
	BNE @UNKNOWN4
	LDA $16
	OPTIMIZED_MULT $04, 6
	TAX
	STZ $AEFE,X
	BRA @UNKNOWN5
@UNKNOWN4:
	LDA $16
	OPTIMIZED_MULT $04, 6
	STA $02
	STY $04
	TXA
	SEC
	SBC $04
	LDX $02
	STA $B1FE,X
	LDA #$FFE0
	LDX $02
	STA $AEFE,X
@UNKNOWN5:
	LDA $14
	CMP $0E
	BCC @UNKNOWN6
	BEQ @UNKNOWN6
	LDA $16
	OPTIMIZED_MULT $04, 6
	TAX
	LDA $14
	SEC
	SBC $0E
	STA $B200,X
	LDA #$0400
	STA $AF00,X
	BRA @UNKNOWN8
@UNKNOWN6:
	LDA $14
	CMP $0E
	BNE @UNKNOWN7
	LDA $16
	OPTIMIZED_MULT $04, 6
	TAX
	STZ $AF00,X
	BRA @UNKNOWN8
@UNKNOWN7:
	LDA $16
	OPTIMIZED_MULT $04, 6
	TAX
	LDA $0E
	SEC
	SBC $14
	STA $B200,X
	LDA #$FC00
	STA $AF00,X
@UNKNOWN8:
	LDA $16
	OPTIMIZED_MULT $04, 6
	TAX
	STZ $B080,X
	STZ $B07E,X
	STZ $B07C,X
	PLD
	RTL

.INCLUDE "unknown/C2/C2FCA6.asm"

.INCLUDE "unknown/C2/C2FD99.asm"

.INCLUDE "unknown/C2/C2FEF9.asm"

.INCLUDE "unknown/C2/C2FF9A.asm"

.INCLUDE "data/movements/patterns/000.asm"
