
BTLACT_CUTGUTS: ;$C28EAE
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RESERVE_STACK_SPACE_CLOBBER 26
	JSR a:.LOWORD(FAIL_ATTACK_ON_NPCS)
	CMP #$0000
	BNE @UNKNOWN1
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$002C
	TAX
	LDA a:.LOWORD(RAM),X
	TAY
	OPTIMIZED_MULT $04, 3
	LSR
	LSR
	STA a:.LOWORD(RAM),X
	LDA .LOWORD(CURRENT_TARGET)
	CLC
	ADC #$002C
	TAX
	STX $18
	LDX .LOWORD(CURRENT_TARGET)
	LDA a:battler::base_guts,X
	AND #$00FF
	PHA
	ASL
	PLA
	ROR
	STA $16
	STA $02
	LDX $18
	LDA a:.LOWORD(RAM),X
	CMP $02
	BCS @UNKNOWN0
	LDA $16
	STA a:.LOWORD(RAM),X
@UNKNOWN0:
	LOADPTR TEXT_BATTLE_GUTS_WENT_DOWN, $0E
	LDX .LOWORD(CURRENT_TARGET)
	TYA
	SEC
	SBC a:battler::guts,X
	STA $06
	STZ $08
	MOVE_INT $06, $12
	JSL DISPLAY_TEXT_WAIT
@UNKNOWN1:
	PLD
	RTL
