
CHECK_SAVE_CORRUPTION: ;$EF0825
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	PHA
	TDC
	ADC #$FFEE
	TCD
	PLA
	TAY
	STY $10
	TYA
	ASL
	STA $02
	JSR a:.LOWORD(VALIDATE_SAVE_BLOCK_CHECKSUMS)
	CMP #$0000
	BEQ @UNKNOWN1
	LDA $02
	JSR a:.LOWORD(ERASE_SAVE_BLOCK)
	LDX $02
	INX
	STX $0E
	TXA
	JSR a:.LOWORD(VALIDATE_SAVE_BLOCK_CHECKSUMS)
	CMP #$0000
	BEQ @UNKNOWN0
	LDX $0E
	TXA
	JSR a:.LOWORD(ERASE_SAVE_BLOCK)
	LDY $10
	TYX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:UNKNOWN_EF05A6,X
	ORA .LOWORD(UNKNOWN_7E9F79)
	STA .LOWORD(UNKNOWN_7E9F79)
	BRA @UNKNOWN2
@UNKNOWN0:
	LDX $0E
	LDA $02
	JSR a:.LOWORD(COPY_SAVE_BLOCK)
@UNKNOWN1:
	LDY $02
	INY
	STY $10
	TYA
	JSR a:.LOWORD(VALIDATE_SAVE_BLOCK_CHECKSUMS)
	.A16
	CMP #$00
	BEQ @UNKNOWN2
	LDY $10
	TYA
	JSR a:.LOWORD(ERASE_SAVE_BLOCK)
	LDX $02
	LDY $10
	TYA
	JSR a:.LOWORD(COPY_SAVE_BLOCK)
@UNKNOWN2:
	REP #PROC_FLAGS::ACCUM8
	PLD
	RTS
