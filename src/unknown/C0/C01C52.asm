
UNKNOWN_C01C52: ;$C01C52
.IF .DEFINED(JPN)
	.DEFINE FRAMESIZE 32
	.DEFINE LOCAL1 $0E
	.DEFINE LOCAL2 $12
	.DEFINE LOCAL3 $16
	.DEFINE LOCAL4 $18
	.DEFINE LOCAL5 $04
	.DEFINE LOCAL6 $14
	.DEFINE PARAM1 $1A
	.DEFINE PARAM2 $1C
	.DEFINE PARAM3 $1E
.ELSE
	.DEFINE FRAMESIZE 30
	.DEFINE LOCAL1 $0E
	.DEFINE LOCAL2 $12
	.DEFINE LOCAL3 $14
	.DEFINE LOCAL4 $16
	.DEFINE LOCAL5 $18
	.DEFINE LOCAL6 $18
	.DEFINE PARAM1 $04
	.DEFINE PARAM2 $1A
	.DEFINE PARAM3 $1C
.ENDIF
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RESERVE_STACK_SPACE FRAMESIZE
	STY PARAM3
	STX PARAM2
	STA PARAM1
	INC
	AND #$FFFE
	STA $02
	LDA PARAM2
	INC
	AND #$FFFE
	STA LOCAL5
	LDY LOCAL5
	LDA $02
	JSL MULT16
	LSR
	LSR
	STA LOCAL4
	LDY PARAM3
	TYX
	LDA LOCAL4
	JSL UNKNOWN_C01B96
	STA LOCAL3
	CMP #$7FFF
	BCC @UNKNOWN0
	BEQ @UNKNOWN0
	LDA LOCAL3
	JMP a:.LOWORD(@UNKNOWN6)
@UNKNOWN0:
	LDA $02
	CMP PARAM1
	BNE @UNKNOWN1
	LDA LOCAL5
	CMP PARAM2
	BNE @UNKNOWN1
	JMP a:.LOWORD(@UNKNOWN5)
@UNKNOWN1:
	LDA LOCAL3
	STA $04
	BRA @UNKNOWN4
@UNKNOWN2:
	LDA $04
	CLC
	ADC #$0008
	AND #$00F8
	SEC
	SBC $04
	STA LOCAL6
	LDA LOCAL2
	SEC
	SBC $04
	CMP LOCAL6
	BCS @UNKNOWN3
	STA LOCAL6
@UNKNOWN3:
	LDA LOCAL6
	ASL
	ASL
	ASL
	ASL
	ASL
	ASL
	STA $02
	LOADPTR UNKNOWN_C40BE8, $06
	LOADPTR UNKNOWN_C42F8C, $0A
	LDA $04
	ASL
	CLC
	ADC $0A
	STA $0A
	MOVE_INT $06, LOCAL1
	LDA [$0A]
	CLC
	ADC #$4000
	TAY
	LDX $02
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0003
	JSL PREPARE_VRAM_COPY
	.A16
	MOVE_INT $06, LOCAL1
	LDA [$0A]
	CLC
	ADC #$4100
	TAY
	LDX $02
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0003
	JSL PREPARE_VRAM_COPY
	.A16
	LDA $04
	CLC
	ADC LOCAL6
	STA $04
@UNKNOWN4:
	LDA LOCAL3
	CLC
	ADC LOCAL4
	STA LOCAL2
	STA $02
	LDA $04
	CMP $02
	BCS @UNKNOWN5
	BEQ @UNKNOWN5
	JMP a:.LOWORD(@UNKNOWN2)
@UNKNOWN5:
	LDA LOCAL3
@UNKNOWN6:
	PLD
	RTL
