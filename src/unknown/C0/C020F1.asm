
UNKNOWN_C020F1: ;$C020F1
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RESERVE_STACK_SPACE_CLOBBER 16
	LDA CURRENT_ENTITY_SLOT
	STA $02
	ASL
	TAY
	STY $0E
	LDA ENTITY_SPRITEMAP_POINTER_LOW,Y
	JSL UNKNOWN_C01B15
	LDX #$0000
	LDA $02
	JSL ALLOC_SPRITE_MEM
	LDY $0E
	LDA ENTITY_TPT_ENTRIES,Y
	AND #$F000
	CMP #$8000
	BNE @UNKNOWN0
	DEC OVERWORLD_ENEMY_COUNT
@UNKNOWN0:
	LDA $02
	ASL
	TAX
	LDA ENTITY_ENEMY_ID,X
	CMP #ENEMY::MAGIC_BUTTERFLY
	BNE @UNKNOWN1
	STZ MAGIC_BUTTERFLY
@UNKNOWN1:
	LDA $02
	ASL
	TAX
	LDA #$FFFF
	STA ENTITY_TPT_ENTRY_SPRITES,X
	STA ENTITY_TPT_ENTRIES,X
	PLD
	RTL
