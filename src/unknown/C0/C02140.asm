
UNKNOWN_C02140: ;$C02140
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RESERVE_STACK_SPACE 16
	STA $02
	ASL
	TAY
	STY $0E
	LDA .LOWORD(ENTITY_SPRITEMAP_POINTER_LOW),Y
	JSL UNKNOWN_C01B15
	LDX #$0000
	LDA $02
	JSL ALLOC_SPRITE_MEM
	LDY $0E
	LDA .LOWORD(ENTITY_TPT_ENTRIES),Y
	AND #$F000
	CMP #$8000
	BNE @UNKNOWN0
	DEC .LOWORD(OVERWORLD_ENEMY_COUNT)
@UNKNOWN0:
	LDA $02
	ASL
	TAX
	LDA .LOWORD(ENTITY_ENEMY_ID),X
	CMP #ENEMY::MAGIC_BUTTERFLY
	BNE @UNKNOWN1
	STZ .LOWORD(MAGIC_BUTTERFLY)
@UNKNOWN1:
	LDA $02
	ASL
	TAX
	LDA #$FFFF
	STA .LOWORD(ENTITY_TPT_ENTRY_SPRITES),X
	STA .LOWORD(ENTITY_TPT_ENTRIES),X
	LDA $02
	JSL UNKNOWN_C09C35
	PLD
	RTL
