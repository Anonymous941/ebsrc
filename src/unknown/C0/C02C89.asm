
UNKNOWN_C02C89: ;$C02C89
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	PHD
	TDC
	ADC #$FFF0
	TCD
	LDA $5D9C
	BNE @UNKNOWN0
	LDA #$0708
	STA $5D9C
	LDX #$5D9E
	LDA a:.LOWORD(RAM),X
	INC
	STA a:.LOWORD(RAM),X
	AND #$0003
	STA a:.LOWORD(RAM),X
@UNKNOWN0:
	DEC $5D9C
	LDA $5D9E
	STA $0E
	BEQ @UNKNOWN1
	LDA a:.LOWORD(UNKNOWN_7E0081)
	BNE @UNKNOWN1
	LDA a:.LOWORD(PAD_1_PRESS)
	XBA
	AND #$00FF
	AND #$000F
	TAY
	LDA a:.LOWORD(PAD_1_STATE)
	XBA
	AND #$00FF
	AND #$000F
	TAX
	LOADPTR UNKNOWN_C3E178, $06
	LDA $0E
	DEC
	ASL
	ASL
	ASL
	ASL
	ASL
	STA $0E
	TYA
	ASL
	STA $04
	LDA $0E
	CLC
	ADC $04
	LDY $06
	STY $0A
	LDY $08
	STY $0C
	CLC
	ADC $0A
	STA $0A
	LDA [$0A]
	STA $02
	LDA a:.LOWORD(PAD_1_PRESS)
	AND #$F0FF
	ORA $02
	STA a:.LOWORD(PAD_1_PRESS)
	TXA
	ASL
	STA $04
	LDA $0E
	CLC
	ADC $04
	CLC
	ADC $06
	STA $06
	LDA [$06]
	STA $02
	LDA a:.LOWORD(PAD_1_STATE)
	AND #$F0FF
	ORA $02
	STA a:.LOWORD(PAD_1_STATE)
@UNKNOWN1:
	PLD
	RTS
