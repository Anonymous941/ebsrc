
UNKNOWN_C49C56: ;$C49C56
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
.IF .DEFINED(JPN)
	RESERVE_STACK_SPACE 20
.ELSE
	RESERVE_STACK_SPACE 15
.ENDIF
	CLC
	ADC .LOWORD(UNKNOWN_7E3C16)
	STA .LOWORD(UNKNOWN_7E3C16)
	STZ .LOWORD(UNKNOWN_7E3C14)
	LSR
	LSR
	LSR
.IF !.DEFINED(JPN)
	INC
.ENDIF
	CLC
	ADC .LOWORD(UNKNOWN_7E9F2D)
	STA .LOWORD(UNKNOWN_7E9F2D)
	CMP #$0020
	BCC @UNKNOWN0
	SEC
	SBC #$0020
	STA .LOWORD(UNKNOWN_7E9F2D)
@UNKNOWN0:
.IF .DEFINED(JPN)
	LDA .LOWORD(UNKNOWN_7E3C16)
	LSR
	LSR
	LSR
	STA $12
	LDY #$01A0
	JSL MULT16
	CLC
	ADC #.LOWORD(VWF_BUFFER)
	PROMOTENEARPTRA $06
	REP #PROC_FLAGS::ACCUM8
	MOVE_INT $06, $0E
	LDY #$01A0
	LDA $12
	STA $02
	LDA #$0004
	SEC
	SBC $02
	JSL MULT16
	TAX
	LDA #.LOWORD(VWF_BUFFER)
	JSL MEMCPY16
	LDA .LOWORD(UNKNOWN_7E3C16)
	LSR
	LSR
	LSR
	STA $12
	SEP #PROC_FLAGS::ACCUM8
	LDA #$0000
	STA $0E
	LDY #$01A0
	REP #PROC_FLAGS::ACCUM8
	LDA $12
	JSL MULT16
	TAX
	LDY #$01A0
	LDA $12
	STA $02
	LDA #$0004
	SEC
	SBC $02
	JSL MULT16
	CLC
	ADC #.LOWORD(VWF_BUFFER)
	JSL MEMSET16
.ELSE
	JSL WAIT_DMA_FINISHED
	SEP #PROC_FLAGS::ACCUM8
	LDA #$00FF
	STA $0E
	LDX #$0680
	REP #PROC_FLAGS::ACCUM8
	LDA #.LOWORD(VWF_BUFFER)
	JSL MEMSET16
.ENDIF
	LDA .LOWORD(UNKNOWN_7E3C16)
	AND #$0007
	STA .LOWORD(UNKNOWN_7E3C16)
.IF !.DEFINED(JPN)
	STZ .LOWORD(UNKNOWN_7E9F2F)
	STZ .LOWORD(UNKNOWN_7E9F31)
.ENDIF
	PLD
	RTL
